{"version":3,"sources":["../public/js/t6app-main.js","../public/js/resources/t6-objects.js","../public/js/resources/t6-flows.js","../public/js/resources/t6-snippets.js","../public/js/resources/t6-dashboards.js","../public/js/resources/t6-rules.js","../public/js/resources/t6-mqtts.js","../public/js/resources/t6-sources.js","../public/js/resources/t6-stories.js","../public/js/resources/snippets/valueDisplay.js","../public/js/resources/snippets/graphDisplay.js","../public/js/resources/snippets/flowGraph.js","../public/js/resources/snippets/simpleClock.js","../public/js/resources/snippets/simpleRow.js","../public/js/resources/snippets/cardChart.js","../public/js/resources/snippets/sparkline.js"],"names":["localStorage","getItem","beginTime","Date","console","log","startTime","moment","format","Tawk_API","touchStartPoint","touchMovePoint","app","api_version","debug","baseUrl","baseUrlCdn","bearer","auth","isLogged","autologin","RateLimit","Limit","Remaining","Used","date_format","cardMaxChars","cookieconsent","refreshExpiresInSeconds","toastDuration","itemsSize","objects","flows","snippets","dashboards","mqtts","rules","sources","stories","tokens","itemsPage","currentSection","tawktoid","gtm","applicationServerKey","registration","allRetentions","name","value","defaultPageTitle","otp","sectionsPageTitles","index","profile","object","object_add","flow","flow_add","dashboard","dashboard_add","history","snippet","snippet_add","rule","rule_add","mqtt","mqtt_add","source","source_add","settings","signin","story","login","signup","forgot-password","reset-password","status","terms","docs","users-list","compatible-devices","openSourceLicenses","exploration","objects-maps","manage_notifications","icons","algorithm","token","org","url","bucket","color","copy","datapoints","datatypes","date","delete","delete_question","description","edit","icon","link_off","menu","retention","code","preprocessor","track","ttl","type","units","update","version","types","snippetTypes","EventTypes","defaultResources","id","attributes","is_public","ipv4","ipv6","longitude","latitude","position","source_id","ui_id","mqtt_topic","require_signed","require_encrypted","fusion_algorithm","active","priority","event","conditions","parameters","offlineCard","patterns","username","password","customAttributeName","customAttributeValue","secret_key","secret_key_crypt","integerNotNegative","meta_revision","uuidv4","resources","buttons","containers","summaryResults","first","last","count","mean","std_dev","minimum","maximum","spread","mode","median","quantile1","quantile2","quantile3","start_date","end_date","title","titlecolor","exports","hex_md5","r","rstr2hex","rstr_md5","str2rstr_utf8","binl2rstr","binl_md5","rstr2binl","length","d","n","hexcase","_","m","charCodeAt","charAt","t","String","fromCharCode","Array","f","h","e","a","i","md5_ii","md5_hh","md5_gg","md5_ff","safe_add","md5_cmn","bit_rol","toastContainer","document","querySelector","toast","msg","options","timeout","undefined","toastMsg","createElement","className","textContent","span","dismiss","appendChild","addEventListener","target","parentNode","classList","add","remove","setTimeout","getParameterByName","window","location","href","replace","results","RegExp","exec","decodeURIComponent","sprintf","string","module","isLtr","getSetting","JSON","parse","toLowerCase","preloadImage","img","setAttribute","getAttribute","escapeHtml","text","urlBase64ToUint8Array","base64String","base64","repeat","rawData","atob","outputArray","Uint8Array","nl2br","str","isXhtml","fetchStatusHandler","response","headers","get","sessionExpired","Error","statusText","fetchStatusHandlerOnUser","getUniqueId","Math","floor","random","toString","substring","setSetting","setItem","setLoginAction","loginButtons","childElementCount","removeEventListener","onLoginButtonClick","setOTPAction","OTPButtons","onOTPButtonClick","evt","navigator","onLine","myForm","componentHandler","upgradeDom","email","authenticate","preventDefault","authenticateOTP","onStatusButtonClick","getStatus","setSection","onSettingsButtonClick","setSignupAction","user_create","onSignupButtonClick","setPasswordResetAction","user_setpassword","onPasswordResetButtonClick","setForgotAction","user_forgot","onForgotPasswordButtonClick","checked","match","postData","firstName","lastName","pushSubscription","endpoint","keys","p256dh","myHeaders","Headers","append","myInit","method","body","stringify","fetch","then","fetchResponse","json","user","data","unsubscription_token","firebase","analytics","logEvent","catch","error","password2","onSaveProfileButtonClick","getElementById","setDrawer","askPermission","Promise","resolve","reject","permissionResult","Notification","requestPermission","result","registerServiceWorker","serviceWorker","register","scope","apps","initializeApp","firebaseConfig","messaging","useServiceWorker","getToken","err","subscribeUserToPush","subscribeOptions","userVisibleOnly","pushManager","subscribe","j","refreshButtonsSelectors","notification","menuTabBar","querySelectorAll","notifications","expandButtons","expandSourceButtons","object_create","deleteObject","deleteObject2","editObject","createObject","saveObject","backObject","editObject2","listObject","viewuiObject","addObject","addObjectBack","deleteFlow","editFlow","createFlow","addFlow","addFlowBack","saveFlow","backFlow","editFlow2","listFlow","deleteDashboard","editDashboard","createDashboard","addDashboard","addDashboardBack","backDashboard","saveDashboard","editDashboard2","listDashboard","deleteSnippet","editSnippet","createSnippet","addSnippet","addSnippetBack","backSnippet","saveSnippet","listSnippet","editSnippet2","deleteRule","editRule","createRule","addRule","addRuleBack","backRule","saveRule","listRule","editRule2","deleteMqtt","editMqtt","createMqtt","deleteSource","editSource","createSource","addSource","addSourceBack","backSource","saveSource","listSource","editSource2","buildSource","deploySource","editSourceChild","link_offSourceObject","editSourceObject","deploySourceObject","buildSourceObject","deleteStory","editStory","createStory","addStory","addStoryBack","backStory","saveStory","listStory","editStory2","refreshContainers","spinner","usersList","compatibleDevices","objectsMaps","menuIconElement","menuElement","menuOverlayElement","drawerObfuscatorElement","getElementsByClassName","menuItems","menuTabItems","story_add","setExpandAction","expand","toggle","parentElement","innerHTML","findDataType","find","initNewSection","section","newSection","h2","createTextNode","divH2","divContent","direction","split","hash","substr","scrollTo","urlParams","URLSearchParams","params","from","p","display","getHistory","displayAdd","fetchProfile","getSettings","displayLoginForm","displayOTPForm","getUsersList","getCompatibleDevices","getOpenSourceLicenses","getObjectsMaps","fetchItemsPaginated","act","style","transform","setCurrentScreen","setAttributes","addEvent","screen","setItemsClickAction","items","forEach","div","item","currentTarget","dataset","swaps","s","datasetid","createdElement","updatedElement","contains","passive","lazys","l","size","page","showModal","dialog","top","zIndex","hideModal","copyTextToClipboard","clipboard","copyTextarea","focus","select","execCommand","writeText","setListActions","copyButtons","c","myId","onDelete","getSubtitle","subtitle","getUnits","u","push","system","sort","b","getFlows","unit","getSnippets","sType","getDatatypes","classification","getSources","subversions","getCard","card","output","image","secondaryaction","action","label","internalAction","displayChip","chip","chipElt","addChipTo","container","removeChipFrom","firstChild","removeChild","displayChipSnippet","chipSnippet","getSnippetIdFromIndex","dragSrcEl","handleDragStart","this","dataTransfer","effectAllowed","setData","outerHTML","handleDragOver","dropEffect","handleDragEnter","handleDragLeave","handleDrop","stopPropagation","dropHTML","getData","insertAdjacentHTML","dropElem","previousSibling","addDnDHandlers","handleDragEnd","addChipSnippetTo","filter","removeAttribute","defaultCard","escape","displayItem","showAddFAB","map","getLocation","getMap","parseFloat","objectsLocation","L","DomUtil","_leaflet_id","setView","tileLayer","attribution","minZoom","maxZoom","trackResize","dragging","addTo","popup","CustomIcon","Icon","extend","shadowUrl","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","bounds","LatLngBounds","mIcon","iconUrl","obj","marker","draggable","bindPopup","getLatLng","fitBounds","invalidateSize","num","links","meta","first_name","last_name","getField","isEdit","push_subscription","geo","city","country","ip","unsubscription","newsletter","gravatar","entry","node","phone","profileBackground","currentLocation","pattern","phoneNumbers","account","accounts","shortname","urls","profileUrl","photos","getCookie","self","dataLayer","userEmail","userRole","role","userId","gtag","measurementId","user_id","setUserProperties","fetchSubscriptions","displaySubscriptions","addMenuItem","subscription","reminder","changePassword","monthlyreport","element1","element2","element3","background","resetDrawer","removeItem","updated","fabs","tooltip","fabClass","tooltipClass","fab","button","parseInt","fb","eda","getWidth","margin","my_flow_id","prototype","call","start","end","sel_summary","sel_head","sel_tail","sel_boxplot","sel_frequency","sel_line","sel_loess","sel_trend","data_type","key","Object","entries","svg","isVisible","hidden","isExpand","enterkeyhint","inputmode","field","tooltipId","isChecked","isMultiple","selected","displayName","selectedValue","cur","getSnippet","snippet_id","myContainer","my_snippet","getHtml","flowNames","theFlow","storedF","setOptions","activateOnce","editSnippetButtons","refreshFromNow","time","fromNow","getQrcodeImg","getQrcode","DOMParser","parseFromString","images","src","isEditable","isActionable","refresh_token","refreshTokenExp","resetSections","displayAddObject","displayAddFlow","displayAddDashboard","displayAddSnippet","displayAddRule","displayAddMqtt","displayAddSource","displayAddStory","setHiddenElement","setVisibleElement","isLoggedIn","setInterval","refreshAuthenticate","refreshPOST","grant_type","link","menuElt","iconElt","hideMenu","doNotTrack","innerText","dispatchEvent","Event","appName","mqttInfo","t6BuildVersion","t6BuildDate","started_at","startProcessTime","moduleLoadTime","appId","rate","ceil","MaterialProgress","setProgress","getTerms","compatibledevices","imageLazyLoading","license","dependencies","linkFullReport","getExploration","explorationNode","subtract","historyNode","hist","flow_id","toggleElement","showNotification","showOrientation","orientation","angle","setPosition","coords","accuracy","setPositionError","TIMEOUT","POSITION_UNAVAILABLE","message","indexOf","PERMISSION_DENIED","UNKNOWN_ERROR","geolocation","getCurrentPosition","enableHighAccuracy","maximumAge","cname","ca","cookie","showMenu","onTransitionEnd","updateNetworkStatus","controller","postMessage","clearCache","io","IntersectionObserver","IOentry","intersectionRatio","unobserve","LL","observe","managePage","currentPage","setInteractiveLinks","logout_button","signin_button","profile_button","getComputedStyle","pMatches","keyCode","input","alert","height","scrollHeight","pageYOffset","documentElement","scrollTop","getBoundingClientRect","bottom","setTime","getTime","toUTCString","mixpanel","opt_out_tracking","setServiceWorker","changedTime","readyState","loadingTime","interactiveTime","unix","pushState","id2","w","gtm.start","getElementsByTagName","async","insertBefore","decodeURI","list","ce","createEvent","initCustomEvent","nm","sp","x","y","ep","touch","touchstart","touches","pageX","pageY","touchmove","touchend","xr","abs","yr","max","touchcancel","changedTouches","completeTime","onEdit","object_id","isPublic","fqbn","source_version","communication","allowed_commands","interface","revision","onAdd","onDeploy","onBuild","onViewUi","open","isAdd","displayPublic","created","onoff","lowerupper","openclose","setvalgetval","source_versions","sv","otahist","btnId","source_id_selector","srcElement","subsource","sel","opt","ss","element","disable","on","setLatLng","lat","toFixed","lng","is_connected","track_id","influx_db_cloud","flowsList","fl","allUnits","allDatatypes","width","offsetWidth","svgUrl","datatype","snippetsList","sn","dashboard_id","theSnippet","storedS","rule_id","cssDisabled","content","filter_object_id","len","onUnlinkObject","o","deploying_to_objects","child","node_child","elChild","o_links","node_objects_linked","elObjects","story_id","default_value","available_values","defaultValue","legend","availableValues","unit_format","limit","prev","getOptions","merged","attrname","legend_font_color","border_color","border_width","background_color","point_background_color","fill","show_line","stepped_line","title_display","title_font_size","title_font_family","legend_display","legend_position","legend_align","getSample"],"mappings":"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","file":"t6app-min.js.map","sourcesContent":["/*\n * Debug console filters:\n *  DEBUG\n *  [gtm]\n *  [indexedDB]\n *  [JWT]\n *  [History]\n *  [Orientation]\n *  [pushSubscription]\n *  [ServiceWorker]\n *  [setSection]\n *  [Network]\n */\n\"use strict\";\n\nif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\tvar beginTime = new Date();\n\tconsole.log(\"DEBUG\", \"begin time: \", beginTime - startTime, \"ms\", \" (begin\",  moment(beginTime).format(\"hh:mm:ss,SSS\"), \"ms.)\");\n}\nvar app = {\n\tapi_version: \"v2.0.1\",\n\tdebug: false,\n\tbaseUrl: \"\",\n\tbaseUrlCdn: \"//cdn.internetcollaboratif.info\",\n\tbearer: \"\",\n\tauth: {},\n\tisLogged: false,\n\tautologin: false,\n\tRateLimit: { Limit: null, Remaining: null, Used: null },\n\tdate_format: \"DD/MM/YYYY, HH:mm\",\n\tcardMaxChars: 256,\n\tcookieconsent: 30,\n\trefreshExpiresInSeconds: 280000,\n\ttoastDuration: 3000,\n\titemsSize: { objects: 15, flows: 15, snippets: 15, dashboards: 15, mqtts: 15, rules: 15, sources: 15, stories: 15, tokens: 15 },\n\titemsPage: { objects: 1, flows: 1, snippets: 1, dashboards: 1, mqtts: 1, rules: 1, sources: 1, stories: 1, tokens: 1 },\n\tcurrentSection: \"index\",\n\ttawktoid: \"58852788bcf30e71ac141187\",\n\tgtm: \"GTM-PH7923\",\n\tapplicationServerKey: \"BHnrqPBEjHfdNIeFK5wdj0y7i5eGM2LlPn62zxmvN8LsBTFEQk1Gt2zrKknJQX91a8RR87w8KGP_1gDSy8x6U7s\",\n\tregistration: null,\n\tallRetentions: [\n\t\t{ name: \"autogen\", value: \"Default\" },\n\t\t{ name: \"retention1d\", value: \"1 day\" },\n\t\t{ name: \"retention1w\", value: \"1 week\" },\n\t\t{ name: \"retention4w\", value: \"4 weeks\" },\n\t\t{ name: \"retention1y\", value: \"1 Year\" }\n\t],\n\tdefaultPageTitle: \"t6 IoT App\",\n\totp: {},\n\tsectionsPageTitles: {\n\t\t\"index\": \"t6 IoT App\",\n\t\t\"profile\": \"t6 profile\",\n\t\t\"object\": \"t6 Object %s\",\n\t\t\"object_add\": \"Add Object to t6\",\n\t\t\"objects\": \"t6 Objects\",\n\t\t\"flow\": \"t6 Flow %s\",\n\t\t\"flows\": \"t6 Flows\",\n\t\t\"flow_add\": \"Add Flow to t6\",\n\t\t\"dashboard\": \"t6 Dashboard %s\",\n\t\t\"dashboards\": \"t6 Dashboards\",\n\t\t\"dashboard_add\": \"Add Dashboard to t6\",\n\t\t\"history\": \"Data History\",\n\t\t\"otp\": \"t6 Two-factor authentication\",\n\t\t\"snippet\": \"t6 Snippet %s\",\n\t\t\"snippets\": \"t6 Snippets\",\n\t\t\"snippet_add\": \"Add Snippet to t6\",\n\t\t\"rule\": \"t6 Rule %s\",\n\t\t\"rules\": \"t6 Rules\",\n\t\t\"rule_add\": \"Add Rule to t6\",\n\t\t\"mqtt\": \"t6 Mqtt topic %s\",\n\t\t\"mqtts\": \"t6 Mqtt topics\",\n\t\t\"mqtt_add\": \"Add Mqtt topic to t6\",\n\t\t\"source\": \"t6 Source %s\",\n\t\t\"sources\": \"t6 Sources\",\n\t\t\"source_add\": \"Add Source to t6\",\n\t\t\"settings\": \"t6 Settings\",\n\t\t\"signin\": \"Signin to t6\",\n\t\t\"story\": \"t6 Story %s\",\n\t\t\"stories\": \"t6 Stories\",\n\t\t\"login\": \"Signin to t6\",\n\t\t\"signup\": \"Signup to t6\",\n\t\t\"forgot-password\": \"Forgot your t6 password?\",\n\t\t\"reset-password\": \"Reset your t6 password\",\n\t\t\"status\": \"t6 Api status\",\n\t\t\"terms\": \"t6 Terms of Service and License Agreement\",\n\t\t\"docs\": \"t6 Api first documentation\",\n\t\t\"users-list\": \"t6 Users Accounts\",\n\t\t\"compatible-devices\": \"t6 Compatible Devices\",\n\t\t\"openSourceLicenses\": \"Open-Source licenses\",\n\t\t\"exploration\": \"Data Exploration\",\n\t\t\"objects-maps\": \"Objects Maps\",\n\t\t\"manage_notifications\": \"Customize notifications\",\n\t},\n\ticons: {\n\t\t\"algorithm\": \"healing\",\n\t\t\"token\": \"stars\",\n\t\t\"org\": \"corporate_fare\",\n\t\t\"url\": \"cloud_upload\",\n\t\t\"bucket\": \"folder_special\",\n\t\t\"color\": \"format_color_fill\",\n\t\t\"copy\": \"content_copy\",\n\t\t\"dashboards\": \"dashboard\",\n\t\t\"datapoints\": \"filter_center_focus\",\n\t\t\"datatypes\": \"build\",\n\t\t\"date\": \"event\",\n\t\t\"delete\": \"delete\",\n\t\t\"delete_question\": \"error_outline\",\n\t\t\"description\": \"label\",\n\t\t\"docs\": \"code\",\n\t\t\"edit\": \"edit\",\n\t\t\"exploration\": \"explore\",\n\t\t\"flows\": \"settings_input_component\",\n\t\t\"history\": \"bolt\",\n\t\t\"icon\": \"label_outline\",\n\t\t\"link_off\": \"link_off\",\n\t\t\"login\": \"email\",\n\t\t\"menu\": \"menu\",\n\t\t\"mqtts\": \"volume_down\",\n\t\t\"retention\": \"av_timer\",\n\t\t\"sources\": \"code\",\n\t\t\"code\": \"code\",\n\t\t\"name\": \"list\",\n\t\t\"objects\": \"devices_other\",\n\t\t\"preprocessor\": \"mediation\",\n\t\t\"rules\": \"call_split\",\n\t\t\"settings\": \"settings\",\n\t\t\"snippets\": \"widgets\",\n\t\t\"status\": \"favorite\",\n\t\t\"stories\": \"play_arrow\",\n\t\t\"terms\": \"business_center\",\n\t\t\"track\": \"call_merge\",\n\t\t\"ttl\": \"timer\",\n\t\t\"type\": \"label\",\n\t\t\"units\": \"hourglass_empty\",\n\t\t\"update\": \"update\",\n\t\t\"version\": \"linear_scale\",\n\t},\n\ttypes: [\n\t\t{ name: \"cast\", value: \"Cast\" },\n\t\t{ name: \"cast_connected\", value: \"Cast Connected\" },\n\t\t{ name: \"computer\", value: \"Computer\" },\n\t\t{ name: \"desktop_mac\", value: \"Desktop Mac\" },\n\t\t{ name: \"desktop_windows\", value: \"Desktop Windows\" },\n\t\t{ name: \"developer_board\", value: \"Developer Board\" },\n\t\t{ name: \"device_hub\", value: \"Device Hub\" },\n\t\t{ name: \"devices_other\", value: \"Devices Other\" },\n\t\t{ name: \"device_unknown\", value: \"Devices Unknown\" },\n\t\t{ name: \"dock\", value: \"Dock\" },\n\t\t{ name: \"earbuds\", value: \"Earbuds\" },\n\t\t{ name: \"gamepad\", value: \"Gamepad\" },\n\t\t{ name: \"headset\", value: \"Headset\" },\n\t\t{ name: \"headset_mic\", value: \"Headset Mic\" },\n\t\t{ name: \"home_mini\", value: \"Home mini\" },\n\t\t{ name: \"keyboard\", value: \"Keyboard\" },\n\t\t{ name: \"keyboard_voice\", value: \"Keyboard Voice\" },\n\t\t{ name: \"laptop\", value: \"Laptop\" },\n\t\t{ name: \"laptop_chromebook\", value: \"Laptop Chromebook\" },\n\t\t{ name: \"laptop_mac\", value: \"Laptop Mac\" },\n\t\t{ name: \"laptop_windows\", value: \"Laptop Windows\" },\n\t\t{ name: \"memory\", value: \"Memory\" },\n\t\t{ name: \"monitor\", value: \"Monitor\" },\n\t\t{ name: \"mouse\", value: \"Mouse\" },\n\t\t{ name: \"point_of_sale\", value: \"Point of sale\" },\n\t\t{ name: \"phone_android\", value: \"Phone Android\" },\n\t\t{ name: \"phone_iphone\", value: \"Phone Iphone\" },\n\t\t{ name: \"phonelink\", value: \"Phonelink\" },\n\t\t{ name: \"router\", value: \"Router\" },\n\t\t{ name: \"scanner\", value: \"Scanner\" },\n\t\t{ name: \"security\", value: \"Security\" },\n\t\t{ name: \"sim_card\", value: \"Sim Card\" },\n\t\t{ name: \"smartphone_display\", value: \"Smar Display\" },\n\t\t{ name: \"smart_screen\", value: \"Smart Screen\" },\n\t\t{ name: \"smart_toy\", value: \"Smart Toy\" },\n\t\t{ name: \"smartphone\", value: \"Smartphone\" },\n\t\t{ name: \"speaker\", value: \"Speaker\" },\n\t\t{ name: \"speaker_group\", value: \"Speaker Group\" },\n\t\t{ name: \"tablet\", value: \"Tablet\" },\n\t\t{ name: \"tablet_android\", value: \"Tablet Android\" },\n\t\t{ name: \"tablet_mac\", value: \"Tablet Mac\" },\n\t\t{ name: \"toys\", value: \"Toys\" },\n\t\t{ name: \"tv\", value: \"Tv\" },\n\t\t{ name: \"videogame_asset\", value: \"Videogame Asset\" },\n\t\t{ name: \"watch\", value: \"Watch\" },\n\t],\n\tsnippetTypes: [],\n\tEventTypes: [{ name: \"mqttPublish\", value: \"mqtt Publish\" }, { name: \"email\", value: \"Email\" }, { name: \"webPush\", value: \"Notification webPush (beta)\" }, { name: \"httpWebhook\", value: \"http(s) Webhook\" }, { name: \"sms\", value: \"Sms/Text message\" }, { name: \"ifttt\", value: \"Trigger event to Ifttt\" }, { name: \"serial\", value: \"Serial using Arduino CmdMessenger\" }],\n\tunits: [],\n\tdatatypes: [],\n\tflows: [],\n\tsources: [],\n\tsnippets: [],\n\tdefaultResources: {\n\t\tobject: { id: \"\", attributes: { name: \"\", description: \"\", is_public: false, type: \"\", ipv4: \"\", ipv6: \"\", longitude: 0, latitude: 0, position: \"\", source_id: \"-\", ui_id: \"\" } },\n\t\tflow: { id: \"\", attributes: { name: \"\", mqtt_topic: \"\", require_signed: false, require_encrypted: false, ttl: \"\", preprocessor: [], fusion_algorithm: \"\" } },\n\t\tdashboard: { id: \"\", attributes: { name: \"\", description: \"\" } },\n\t\tsnippet: { id: \"\", attributes: { name: \"\", icon: \"\", color: \"\" } },\n\t\tmqtt: { id: \"\", attributes: { name: \"\" } },\n\t\tsource: { id: \"\", attributes: { name: \"\" } },\n\t\trule: { id: '', active: true, attributes: { name: '', priority: 1, event: { type: \"email\", conditions: '{\"all\":[ { \"fact\":\"environment\", \"operator\":\"equal\", \"value\":\"production\" }]}', parameters: \"{}\" } } },\n\t\tstory: { id: \"\", attributes: { name: \"\" } },\n\t},\n\tofflineCard: {},\n\tpatterns: {\n\t\tname: \".{3,}\",\n\t\tipv4: \"((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\\.|$)){4}(:[0-9]{1,6})?\",\n\t\tipv6: \"/^(?>(?>([a-f0-9]{1,4})(?>:(?1)){7}|(?!(?:.*[a-f0-9](?>:|$)){8,})((?1)(?>:(?1)){0,6})?::(?2)?)|(?>(?>(?1)(?>:(?1)){5}:|(?!(?:.*[a-f0-9]:){6,})(?3)?::(?>((?1)(?>:(?1)){0,4}):)?)?(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])(?>\\.(?4)){3}))$\",\n\t\tlongitude: \"^[-+]?[0-9]{0,3}\\.[0-9]{1,7}$\",\n\t\tlatitude: \"^[-+]?[0-9]{0,3}\\.[0-9]{1,7}$\",\n\t\tposition: \".{3,255}\",\n\t\tusername: \"[a-z0-9!#$%&*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\",\n\t\tpassword: \".{4,}\",\n\t\tcardMaxChars: \"^[0-9]+$\",\n\t\tcustomAttributeName: \"^[a-zA-Z0-9_]+$\",\n\t\tcustomAttributeValue: \"^.*?$\",\n\t\tsecret_key: \"^.*?$\",\n\t\tsecret_key_crypt: \"^[a-fA-F0-9]{64}$\",\n\t\tintegerNotNegative: \"^[^a-zA-Z]{1,4}$\",\n\t\tmeta_revision: \"^[0-9]{1,}$\",\n\t\totp: \"^[0-9]{6}$\",\n\t\tttl: \"^[0-9]+$\",\n\t\tuuidv4: \"^[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}$\",\n\t\tdate: \"^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1]) ([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$\",\n\t},\n\tresources: {},\n\tbuttons: {}, // see function app.refreshButtonsSelectors()\n\tcontainers: {}, // see function app.refreshContainers()\n\tsummaryResults: {\n\t\t\"first\": \"Returns the field value with the oldest timestamp.\",\n\t\t\"last\": \"Returns the field value with the most recent timestamp.\",\n\t\t\"count\": \"Returns the number of non-null field values.\",\n\t\t\"mean\": \"Returns the arithmetic mean (average) of field values.\",\n\t\t\"std_dev\": \"Returns the standard deviation of field values.\",\n\t\t\"minimum\": \"Returns the lowest field value.\",\n\t\t\"maximum\": \"Returns the greatest field value.\",\n\t\t\"spread\": \"Returns the difference between the minimum and maximum field values.\",\n\t\t\"mode\": \"Returns the most frequent value in a list of field values.\",\n\t\t\"median\": \"Returns the middle value from a sorted list of field values.\",\n\t\t\"quantile1\": \"Returns the 1st percentile field value.\",\n\t\t\"quantile2\": \"Returns the 2nd percentile field value.\",\n\t\t\"quantile3\": \"Returns the 3rd percentile field value.\",\n\t\t\"start_date\": \"Date from.\",\n\t\t\"end_date\": \"Date to.\",\n\t},\n};\napp.offlineCard = { title: \"Offline\", titlecolor: \"#ffffff\", description: \"Offline mode, Please connect to internet in order to see your resources.\" };\n\nvar Tawk_API;\nvar touchStartPoint, touchMovePoint;\n\n(function(exports) {\n\t\"use strict\";\n\tfunction hex_md5(r) { return rstr2hex(rstr_md5(str2rstr_utf8(r))) } function b64_md5(r) { return rstr2b64(rstr_md5(str2rstr_utf8(r))) } function any_md5(r, t) { return rstr2any(rstr_md5(str2rstr_utf8(r)), t) } function hex_hmac_md5(r, t) { return rstr2hex(rstr_hmac_md5(str2rstr_utf8(r), str2rstr_utf8(t))) } function b64_hmac_md5(r, t) { return rstr2b64(rstr_hmac_md5(str2rstr_utf8(r), str2rstr_utf8(t))) } function any_hmac_md5(r, t, d) { return rstr2any(rstr_hmac_md5(str2rstr_utf8(r), str2rstr_utf8(t)), d) } function md5_vm_test() { return \"900150983cd24fb0d6963f7d28e17f72\" == hex_md5(\"abc\").toLowerCase() } function rstr_md5(r) { return binl2rstr(binl_md5(rstr2binl(r), 8 * r.length)) } function rstr_hmac_md5(r, t) { var d = rstr2binl(r); d.length > 16 && (d = binl_md5(d, 8 * r.length)); for (var n = Array(16), _ = Array(16), m = 0; 16 > m; m++)n[m] = 909522486 ^ d[m], _[m] = 1549556828 ^ d[m]; var f = binl_md5(n.concat(rstr2binl(t)), 512 + 8 * t.length); return binl2rstr(binl_md5(_.concat(f), 640)) } function rstr2hex(r) { try { } catch (t) { hexcase = 0 } for (var d, n = hexcase ? \"0123456789ABCDEF\" : \"0123456789abcdef\", _ = \"\", m = 0; m < r.length; m++)d = r.charCodeAt(m), _ += n.charAt(d >>> 4 & 15) + n.charAt(15 & d); return _ } function rstr2b64(r) { try { } catch (t) { b64pad = \"\" } for (var d = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", n = \"\", _ = r.length, m = 0; _ > m; m += 3)for (var f = r.charCodeAt(m) << 16 | (_ > m + 1 ? r.charCodeAt(m + 1) << 8 : 0) | (_ > m + 2 ? r.charCodeAt(m + 2) : 0), h = 0; 4 > h; h++)n += 8 * m + 6 * h > 8 * r.length ? b64pad : d.charAt(f >>> 6 * (3 - h) & 63); return n } function rstr2any(r, t) { var d, n, _, m, f, h = t.length, e = Array(Math.ceil(r.length / 2)); for (d = 0; d < e.length; d++)e[d] = r.charCodeAt(2 * d) << 8 | r.charCodeAt(2 * d + 1); var a = Math.ceil(8 * r.length / (Math.log(t.length) / Math.log(2))), i = Array(a); for (n = 0; a > n; n++) { for (f = Array(), m = 0, d = 0; d < e.length; d++)m = (m << 16) + e[d], _ = Math.floor(m / h), m -= _ * h, (f.length > 0 || _ > 0) && (f[f.length] = _); i[n] = m, e = f } var o = \"\"; for (d = i.length - 1; d >= 0; d--)o += t.charAt(i[d]); return o } function str2rstr_utf8(r) { for (var t, d, n = \"\", _ = -1; ++_ < r.length;)t = r.charCodeAt(_), d = _ + 1 < r.length ? r.charCodeAt(_ + 1) : 0, t >= 55296 && 56319 >= t && d >= 56320 && 57343 >= d && (t = 65536 + ((1023 & t) << 10) + (1023 & d), _++), 127 >= t ? n += String.fromCharCode(t) : 2047 >= t ? n += String.fromCharCode(192 | t >>> 6 & 31, 128 | 63 & t) : 65535 >= t ? n += String.fromCharCode(224 | t >>> 12 & 15, 128 | t >>> 6 & 63, 128 | 63 & t) : 2097151 >= t && (n += String.fromCharCode(240 | t >>> 18 & 7, 128 | t >>> 12 & 63, 128 | t >>> 6 & 63, 128 | 63 & t)); return n } function str2rstr_utf16le(r) { for (var t = \"\", d = 0; d < r.length; d++)t += String.fromCharCode(255 & r.charCodeAt(d), r.charCodeAt(d) >>> 8 & 255); return t } function str2rstr_utf16be(r) { for (var t = \"\", d = 0; d < r.length; d++)t += String.fromCharCode(r.charCodeAt(d) >>> 8 & 255, 255 & r.charCodeAt(d)); return t } function rstr2binl(r) { for (var t = Array(r.length >> 2), d = 0; d < t.length; d++)t[d] = 0; for (var d = 0; d < 8 * r.length; d += 8)t[d >> 5] |= (255 & r.charCodeAt(d / 8)) << d % 32; return t } function binl2rstr(r) { for (var t = \"\", d = 0; d < 32 * r.length; d += 8)t += String.fromCharCode(r[d >> 5] >>> d % 32 & 255); return t } function binl_md5(r, t) { r[t >> 5] |= 128 << t % 32, r[(t + 64 >>> 9 << 4) + 14] = t; for (var d = 1732584193, n = -271733879, _ = -1732584194, m = 271733878, f = 0; f < r.length; f += 16) { var h = d, e = n, a = _, i = m; d = md5_ff(d, n, _, m, r[f + 0], 7, -680876936), m = md5_ff(m, d, n, _, r[f + 1], 12, -389564586), _ = md5_ff(_, m, d, n, r[f + 2], 17, 606105819), n = md5_ff(n, _, m, d, r[f + 3], 22, -1044525330), d = md5_ff(d, n, _, m, r[f + 4], 7, -176418897), m = md5_ff(m, d, n, _, r[f + 5], 12, 1200080426), _ = md5_ff(_, m, d, n, r[f + 6], 17, -1473231341), n = md5_ff(n, _, m, d, r[f + 7], 22, -45705983), d = md5_ff(d, n, _, m, r[f + 8], 7, 1770035416), m = md5_ff(m, d, n, _, r[f + 9], 12, -1958414417), _ = md5_ff(_, m, d, n, r[f + 10], 17, -42063), n = md5_ff(n, _, m, d, r[f + 11], 22, -1990404162), d = md5_ff(d, n, _, m, r[f + 12], 7, 1804603682), m = md5_ff(m, d, n, _, r[f + 13], 12, -40341101), _ = md5_ff(_, m, d, n, r[f + 14], 17, -1502002290), n = md5_ff(n, _, m, d, r[f + 15], 22, 1236535329), d = md5_gg(d, n, _, m, r[f + 1], 5, -165796510), m = md5_gg(m, d, n, _, r[f + 6], 9, -1069501632), _ = md5_gg(_, m, d, n, r[f + 11], 14, 643717713), n = md5_gg(n, _, m, d, r[f + 0], 20, -373897302), d = md5_gg(d, n, _, m, r[f + 5], 5, -701558691), m = md5_gg(m, d, n, _, r[f + 10], 9, 38016083), _ = md5_gg(_, m, d, n, r[f + 15], 14, -660478335), n = md5_gg(n, _, m, d, r[f + 4], 20, -405537848), d = md5_gg(d, n, _, m, r[f + 9], 5, 568446438), m = md5_gg(m, d, n, _, r[f + 14], 9, -1019803690), _ = md5_gg(_, m, d, n, r[f + 3], 14, -187363961), n = md5_gg(n, _, m, d, r[f + 8], 20, 1163531501), d = md5_gg(d, n, _, m, r[f + 13], 5, -1444681467), m = md5_gg(m, d, n, _, r[f + 2], 9, -51403784), _ = md5_gg(_, m, d, n, r[f + 7], 14, 1735328473), n = md5_gg(n, _, m, d, r[f + 12], 20, -1926607734), d = md5_hh(d, n, _, m, r[f + 5], 4, -378558), m = md5_hh(m, d, n, _, r[f + 8], 11, -2022574463), _ = md5_hh(_, m, d, n, r[f + 11], 16, 1839030562), n = md5_hh(n, _, m, d, r[f + 14], 23, -35309556), d = md5_hh(d, n, _, m, r[f + 1], 4, -1530992060), m = md5_hh(m, d, n, _, r[f + 4], 11, 1272893353), _ = md5_hh(_, m, d, n, r[f + 7], 16, -155497632), n = md5_hh(n, _, m, d, r[f + 10], 23, -1094730640), d = md5_hh(d, n, _, m, r[f + 13], 4, 681279174), m = md5_hh(m, d, n, _, r[f + 0], 11, -358537222), _ = md5_hh(_, m, d, n, r[f + 3], 16, -722521979), n = md5_hh(n, _, m, d, r[f + 6], 23, 76029189), d = md5_hh(d, n, _, m, r[f + 9], 4, -640364487), m = md5_hh(m, d, n, _, r[f + 12], 11, -421815835), _ = md5_hh(_, m, d, n, r[f + 15], 16, 530742520), n = md5_hh(n, _, m, d, r[f + 2], 23, -995338651), d = md5_ii(d, n, _, m, r[f + 0], 6, -198630844), m = md5_ii(m, d, n, _, r[f + 7], 10, 1126891415), _ = md5_ii(_, m, d, n, r[f + 14], 15, -1416354905), n = md5_ii(n, _, m, d, r[f + 5], 21, -57434055), d = md5_ii(d, n, _, m, r[f + 12], 6, 1700485571), m = md5_ii(m, d, n, _, r[f + 3], 10, -1894986606), _ = md5_ii(_, m, d, n, r[f + 10], 15, -1051523), n = md5_ii(n, _, m, d, r[f + 1], 21, -2054922799), d = md5_ii(d, n, _, m, r[f + 8], 6, 1873313359), m = md5_ii(m, d, n, _, r[f + 15], 10, -30611744), _ = md5_ii(_, m, d, n, r[f + 6], 15, -1560198380), n = md5_ii(n, _, m, d, r[f + 13], 21, 1309151649), d = md5_ii(d, n, _, m, r[f + 4], 6, -145523070), m = md5_ii(m, d, n, _, r[f + 11], 10, -1120210379), _ = md5_ii(_, m, d, n, r[f + 2], 15, 718787259), n = md5_ii(n, _, m, d, r[f + 9], 21, -343485551), d = safe_add(d, h), n = safe_add(n, e), _ = safe_add(_, a), m = safe_add(m, i) } return Array(d, n, _, m) } function md5_cmn(r, t, d, n, _, m) { return safe_add(bit_rol(safe_add(safe_add(t, r), safe_add(n, m)), _), d) } function md5_ff(r, t, d, n, _, m, f) { return md5_cmn(t & d | ~t & n, r, t, _, m, f) } function md5_gg(r, t, d, n, _, m, f) { return md5_cmn(t & n | d & ~n, r, t, _, m, f) } function md5_hh(r, t, d, n, _, m, f) { return md5_cmn(t ^ d ^ n, r, t, _, m, f) } function md5_ii(r, t, d, n, _, m, f) { return md5_cmn(d ^ (t | ~n), r, t, _, m, f) } function safe_add(r, t) { var d = (65535 & r) + (65535 & t), n = (r >> 16) + (t >> 16) + (d >> 16); return n << 16 | 65535 & d } function bit_rol(r, t) { return r << t | r >>> 32 - t } var hexcase = 0, b64pad = \"\";\n\texports.hex_md5 = hex_md5; // Make this method available in global\n\n\tvar toastContainer = document.querySelector(\".toast__container\");\n\n\t// To show notification\n\tfunction toast(msg, options) {\n\t\tif (!msg) return;\n\t\toptions = options || { timeout: app.toastDuration, type: \"info\" };\n\t\t// type = error, done, warning, help, info\n\t\toptions.timeout = typeof options.timeout !== undefined ? options.timeout : 3000;\n\t\toptions.type = typeof options.type !== undefined ? options.type : \"info\";\n\n\t\tvar toastMsg = document.createElement(\"div\");\n\t\ttoastMsg.className = \"toast__msg \" + options.type;\n\t\tvar icon = document.createElement(\"i\");\n\t\ticon.className = \"material-icons\";\n\t\ticon.textContent = options.type;\n\t\tvar span = document.createElement(\"span\");\n\t\tvar dismiss = document.createElement(\"a\");\n\t\tspan.textContent = msg;\n\t\tdismiss.textContent = \"Dismiss\";\n\t\tdismiss.className = \"mdl-button\";\n\t\ttoastMsg.appendChild(icon);\n\t\ttoastMsg.appendChild(span);\n\t\ttoastMsg.appendChild(dismiss);\n\t\tlet tc = toastContainer!==null?toastContainer.appendChild(toastMsg):null;\n\t\tdismiss.addEventListener(\"click\", function(event) {\n\t\t\tevent.target.parentNode.classList.add(\"toast__msg--hide\");\n\t\t\tevent.target.parentNode.remove(1);\n\t\t});\n\t\tsetTimeout(function() {\n\t\t\ttoastMsg.classList.add(\"toast__msg--hide\");\n\t\t\ttoastMsg.remove(1);\n\t\t}, options.timeout);\n\t}\n\texports.toast = toast;\n\n\tfunction getParameterByName(name, url) {\n\t\tif (!url) url = window.location.href;\n\t\tname = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n\t\tvar regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n\t\t\tresults = regex.exec(url);\n\t\tif (!results) return null;\n\t\tif (!results[2]) return \"\";\n\t\treturn decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n\t}\n\texports.getParameterByName = getParameterByName; // Make this method available in global\n\n\tfunction sprintf(string, options) {\n\t\treturn string.replace(/%s/g, options);\n\t}\n\texports.sprintf = sprintf; // Make this method available in global\n})(typeof window === 'undefined' ? module.exports : window);\n\n(function() {\n\t\"use strict\";\n\t/*\n\t * *********************************** Tooling functions ***********************************\n\t */\n\tapp.isLtr = function() {\n\t\treturn app.getSetting('settings.isLtr') !== null ? !!JSON.parse(String(app.getSetting('settings.isLtr')).toLowerCase()) : true;\n\t};\n\n\tapp.preloadImage = function(img) {\n\t\timg.setAttribute('src', img.getAttribute('data-src'));\n\t};\n\n\tapp.escapeHtml = function(text) {\n\t\tif (typeof text === \"string\") {\n\t\t\ttext = text\n\t\t\t\t.replace(/</g, \"&lt;\")\n\t\t\t\t.replace(/>/g, \"&gt;\")\n\t\t\t\t.replace(/\"/g, \"&quot;\")\n\t\t\t\t.replace(/'/g, \"&#039;\");\n\t\t}\n\t\treturn text;\n\t};\n\n\tapp.urlBase64ToUint8Array = function(base64String) {\n\t\tconst padding = '='.repeat((4 - base64String.length % 4) % 4);\n\t\tconst base64 = (base64String + padding).replace(/\\-/g, '+').replace(/_/g, '/');\n\t\tconst rawData = window.atob(base64);\n\t\tconst outputArray = new Uint8Array(rawData.length);\n\t\tfor (var i = 0; i < rawData.length; ++i) { outputArray[i] = rawData.charCodeAt(i); };\n\t\treturn outputArray;\n\t};\n\n\tapp.nl2br = function(str, isXhtml) {\n\t\tvar breakTag = (isXhtml || typeof isXhtml === 'undefined') ? '<br />' : '<br>';\n\t\treturn (str + '').replace(/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g, '$1' + breakTag + '$2');\n\t};\n\n\tapp.fetchStatusHandler = function(response) {\n\t\tif (response.headers.get('X-RateLimit-Limit') && response.headers.get('X-RateLimit-Remaining')) {\n\t\t\tapp.RateLimit.Limit = response.headers.get('X-RateLimit-Limit');\n\t\t\tapp.RateLimit.Remaining = response.headers.get('X-RateLimit-Remaining');\n\t\t\tapp.RateLimit.Used = app.RateLimit.Limit - app.RateLimit.Remaining;\n\t\t}\n\t\tif (response.status === 200 || response.status === 201) {\n\t\t\treturn response;\n\t\t} else if (response.status === 204) {\n\t\t\treturn response;\n\t\t} else if (response.status === 307) {\n\t\t\ttoast(\"Two-factor authentication\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t\treturn response;\n\t\t} else if (response.status === 400) {\n\t\t\ttoast(\"Bad Request.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\treturn response;\n\t\t} else if (response.status === 401 || response.status === 403) {\n\t\t\tapp.sessionExpired();\n\t\t\treturn response;\n\t\t} else if (response.status === 404) {\n\t\t\ttoast(\"There is an unknown resource that can't be loaded.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\treturn response;\n\t\t} else if (response.status === 409) {\n\t\t\ttoast(\"Revision is conflictual.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\treturn response;\n\t\t} else if (response.status === 412) {\n\t\t\ttoast(\"Precondition Failed\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\treturn response;\n\t\t} else if (response.status === 429) {\n\t\t\ttoast(\"Oups, over quota.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\treturn response;\n\t\t} else {\n\t\t\tthrow new Error(response.statusText);\n\t\t}\n\t};\n\n\tapp.fetchStatusHandlerOnUser = function(response) {\n\t\tif (response.headers.get('X-RateLimit-Limit') && response.headers.get('X-RateLimit-Remaining')) {\n\t\t\tapp.RateLimit.Limit = response.headers.get('X-RateLimit-Limit');\n\t\t\tapp.RateLimit.Remaining = response.headers.get('X-RateLimit-Remaining');\n\t\t\tapp.RateLimit.Used = app.RateLimit.Limit - app.RateLimit.Remaining;\n\t\t}\n\t\tif (response.status === 200 || response.status === 201) {\n\t\t\treturn response;\n\t\t} else if (response.status === 409) {\n\t\t\tthrow new Error('Email already exists on t6, please Sign in.');\n\t\t} else {\n\t\t\tthrow new Error(response.statusText);\n\t\t}\n\t};\n\n\tapp.getUniqueId = function() {\n\t\treturn Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t};\n\n\tapp.setSetting = function(name, value) {\n\t\tlocalStorage.setItem(name, value);\n\t};\n\n\tapp.getSetting = function(name) {\n\t\treturn localStorage.getItem(name);\n\t};\n\n\tapp.setLoginAction = function() {\n\t\tfor (var i in app.buttons.loginButtons) {\n\t\t\tif (app.buttons.loginButtons[i].childElementCount > -1) {\n\t\t\t\tapp.buttons.loginButtons[i].removeEventListener('click', app.onLoginButtonClick, false);\n\t\t\t\tapp.buttons.loginButtons[i].addEventListener('click', app.onLoginButtonClick, false);\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.setOTPAction = function() {\n\t\tfor (var i in app.buttons.OTPButtons) {\n\t\t\tif (app.buttons.OTPButtons[i].childElementCount > -1) {\n\t\t\t\tapp.buttons.OTPButtons[i].removeEventListener('click', app.onOTPButtonClick, false);\n\t\t\t\tapp.buttons.OTPButtons[i].addEventListener('click', app.onOTPButtonClick, false);\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.onLoginButtonClick = function(evt) {\n\t\tif (navigator.onLine) {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tmyForm.querySelector(\"form.signin button.login_button i.material-icons\").textContent = \"cached\";\n\t\t\tmyForm.querySelector(\"form.signin button.login_button i.material-icons\").classList.add(\"animatedIcon\");\n\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\tvar username = myForm.querySelector(\"form.signin input[name='username']\").value;\n\t\t\tvar password = myForm.querySelector(\"form.signin input[name='password']\").value;\n\t\t\tapp.otp.email = username;\n\t\t\tapp.auth = { \"username\": username, \"password\": password };\n\t\t\tapp.authenticate();\n\t\t} else {\n\t\t\ttoast(\"No Network detected, please check your connexion.\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t}\n\t\tevt.preventDefault();\n\t};\n\n\tapp.onOTPButtonClick = function(evt) {\n\t\tif (navigator.onLine) {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tmyForm.querySelector(\"form.otp button.login_button i.material-icons\").textContent = \"cached\";\n\t\t\tmyForm.querySelector(\"form.otp button.login_button i.material-icons\").classList.add(\"animatedIcon\");\n\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\tapp.otp.otp = myForm.querySelector(\"form.otp input[name='otp']\").value;\n\t\t\tapp.authenticateOTP();\n\t\t} else {\n\t\t\ttoast(\"No Network detected, please check your connexion.\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t}\n\t\tevt.preventDefault();\n\t};\n\n\tapp.onStatusButtonClick = function(evt) {\n\t\tif (navigator.onLine) {\n\t\t\tapp.getStatus();\n\t\t\tapp.setSection('status');\n\t\t} else {\n\t\t\ttoast(\"No Network detected, please check your connexion.\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t}\n\t\tif (evt) evt.preventDefault();\n\t};\n\n\tapp.onSettingsButtonClick = function(evt) {\n\t\tif (navigator.onLine) {\n\t\t\tapp.setSection('settings');\n\t\t} else {\n\t\t\ttoast(\"No Network detected, please check your connexion.\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t}\n\t\tif (evt) evt.preventDefault();\n\t};\n\n\tapp.setSignupAction = function() {\n\t\tfor (var i in app.buttons.user_create) {\n\t\t\tif (app.buttons.user_create[i].childElementCount > -1) {\n\t\t\t\tapp.buttons.user_create[i].addEventListener('click', app.onSignupButtonClick, false);\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.setPasswordResetAction = function() {\n\t\tfor (var i in app.buttons.user_setpassword) {\n\t\t\tif (app.buttons.user_setpassword[i].childElementCount > -1) {\n\t\t\t\tapp.buttons.user_setpassword[i].addEventListener('click', app.onPasswordResetButtonClick, false);\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.setForgotAction = function() {\n\t\tfor (var i in app.buttons.user_forgot) {\n\t\t\tif (app.buttons.user_forgot[i].childElementCount > -1) {\n\t\t\t\tapp.buttons.user_forgot[i].addEventListener('click', app.onForgotPasswordButtonClick, false);\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.onSignupButtonClick = function(evt) {\n\t\tif (navigator.onLine) {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tmyForm.querySelector(\"form.signup button.createUser i.material-icons\").textContent = \"cached\";\n\t\t\tmyForm.querySelector(\"form.signup button.createUser i.material-icons\").classList.add(\"animatedIcon\");\n\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\tvar email = myForm.querySelector(\"form.signup input[name='email']\").value;\n\t\t\tvar terms = myForm.querySelector(\"form.signup input[name='terms']\").checked;\n\t\t\tif (email && email.match(app.patterns.username)) {\n\t\t\t\tif (terms) {\n\t\t\t\t\tvar firstName = myForm.querySelector(\"form.signup input[name='firstName']\").value;\n\t\t\t\t\tvar lastName = myForm.querySelector(\"form.signup input[name='lastName']\").value;\n\t\t\t\t\tvar postData = { \"email\": email, \"firstName\": firstName, \"lastName\": lastName };\n\t\t\t\t\tif (app.getSetting('settings.pushSubscription.endpoint') && app.getSetting('settings.pushSubscription.keys.auth') && app.getSetting('settings.pushSubscription.keys.p256dh')) {\n\t\t\t\t\t\tpostData.pushSubscription = {\n\t\t\t\t\t\t\tendpoint: app.getSetting('settings.pushSubscription.endpoint'),\n\t\t\t\t\t\t\tkeys: {\n\t\t\t\t\t\t\t\tauth: app.getSetting('settings.pushSubscription.keys.auth'),\n\t\t\t\t\t\t\t\tp256dh: app.getSetting('settings.pushSubscription.keys.p256dh')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: 'POST', headers: myHeaders, body: JSON.stringify(postData) };\n\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/users`;\n\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandlerOnUser\n\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tapp.setSetting('notifications.email', response.user.data.attributes.email);\n\t\t\t\t\t\t\tapp.setSetting('notifications.unsubscription_token', response.user.data.attributes.unsubscription_token);\n\t\t\t\t\t\t\ttoast('Welcome, you should have received an email to set your password.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t\tif (typeof firebase !== \"undefined\") {\n\t\t\t\t\t\t\t\tfirebase.analytics().logEvent('sign_up');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.setSection('manage_notifications');\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\ttoast('We can\\'t process your signup. Please resubmit the form later! ' + error, { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\ttoast('Please read Terms & Conditions, you will be able to manage your privacy in the step right after.', { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttoast('We can\\'t process your signup. Please check your inputs.', { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t}\n\t\t} else {\n\t\t\ttoast(\"No Network detected, please check your connexion.\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t}\n\t\tevt.preventDefault();\n\t};\n\n\tapp.onPasswordResetButtonClick = function(evt) {\n\t\tif (navigator.onLine) {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tmyForm.querySelector(\"form.resetpassword button.setPassword i.material-icons\").textContent = \"cached\";\n\t\t\tmyForm.querySelector(\"form.resetpassword button.setPassword i.material-icons\").classList.add(\"animatedIcon\");\n\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\tvar password = myForm.querySelector(\"form.resetpassword input[name='password']\").value;\n\t\t\tvar password2 = myForm.querySelector(\"form.resetpassword input[name='password2']\").value;\n\t\t\tvar token = getParameterByName('token');\n\t\t\tif (token !== undefined && password == password2) {\n\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\tvar myInit = { method: 'POST', headers: myHeaders, body: JSON.stringify({ \"password\": password }) };\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/users/token/${token}`;\n\n\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t.then(\n\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t})\n\t\t\t\t\t.then(function() {\n\t\t\t\t\t\tapp.setSection('login');\n\t\t\t\t\t\ttoast('Your password has been reset; please login again.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\ttoast('We can\\'t process your password reset. Please resubmit the form later!', { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoast('We can\\'t process your password reset.', { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t}\n\t\t} else {\n\t\t\ttoast(\"No Network detected, please check your connexion.\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t}\n\t\tevt.preventDefault();\n\t};\n\n\tapp.onForgotPasswordButtonClick = function(evt) {\n\t\tif (navigator.onLine) {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tmyForm.querySelector(\"form.forgotpassword button.forgotPassword i.material-icons\").textContent = \"cached\";\n\t\t\tmyForm.querySelector(\"form.forgotpassword button.forgotPassword i.material-icons\").classList.add(\"animatedIcon\");\n\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\tvar email = myForm.querySelector(\"form.forgotpassword input[name='email']\").value;\n\t\t\tif (email && email.match(app.patterns.username)) {\n\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\tvar myInit = { method: 'POST', headers: myHeaders, body: JSON.stringify({ \"email\": email }) };\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/users/instruction/`;\n\n\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t.then(\n\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t})\n\t\t\t\t\t.then(function() {\n\t\t\t\t\t\tapp.setSection('login');\n\t\t\t\t\t\ttoast('Instructions has been sent to your email.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\ttoast('We can\\'t process your request. Please resubmit the form later!', { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\ttoast('We can\\'t send the instructions. Please check your inputs.', { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t}\n\t\t} else {\n\t\t\ttoast(\"No Network detected, please check your connexion.\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t}\n\t\tevt.preventDefault();\n\t};\n\n\tapp.onSaveProfileButtonClick = function(evt) {\n\t\tif (navigator.onLine) {\n\t\t\tvar firstName = document.getElementById(\"firstName\").value;\n\t\t\tvar lastName = document.getElementById(\"lastName\").value;\n\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: 'PUT', headers: myHeaders, body: JSON.stringify({ \"firstName\": firstName, \"lastName\": lastName }) };\n\t\t\tvar url = `${app.baseUrl}/${app.api_version}/users/${localStorage.getItem('currentUserId')}`;\n\n\t\t\tfetch(url, myInit)\n\t\t\t\t.then(\n\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t})\n\t\t\t\t.then(function() {\n\t\t\t\t\tlocalStorage.setItem('currentUserName', firstName + \" \" + lastName);\n\t\t\t\t\tapp.setDrawer();\n\t\t\t\t\ttoast('Your details have been updated.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\ttoast(\"We can't process your modifications. Please resubmit the form later!\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t\t});\n\t\t} else {\n\t\t\ttoast(\"No Network detected, please check your connexion.\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t}\n\t};\n\n\tapp.askPermission = function() {\n\t\treturn new Promise(function(resolve, reject) {\n\t\t\tconst permissionResult = Notification.requestPermission(function(result) {\n\t\t\t\tresolve(result);\n\t\t\t});\n\n\t\t\tif (permissionResult) {\n\t\t\t\tpermissionResult.then(resolve, reject);\n\t\t\t}\n\t\t})\n\t\t\t.then(function(permissionResult) {\n\t\t\t\tif (permissionResult !== 'granted') {\n\t\t\t\t\tthrow new Error('We weren\\'t granted permission.');\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.registerServiceWorker = function() {\n\t\treturn navigator.serviceWorker.register(\"/service-worker.js\", { scope: \"/\" })\n\t\t\t.then(function(registration) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log('[ServiceWorker] Registered with scope:', registration.scope);\n\t\t\t\t}\n\t\t\t\tif ((typeof firebase !== \"object\" || typeof firebase === \"undefined\") && typeof firebase.apps !== \"object\" && typeof firebase.apps.length !== \"number\") {\n\t\t\t\t\t//console.log(\"firebase\", \"Should Initialize Firebase\");\n\t\t\t\t\tfirebase.initializeApp(firebaseConfig);\n\t\t\t\t\tfirebase.messaging().useServiceWorker(registration);\n\t\t\t\t\tfirebase.analytics();\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\t//console.log(\"firebase.messaging-sw\", \"Should load Firebase Messaging SW\");\n\t\t\t\t\t\tconsole.log(\"[ServiceWorker]\", \"getToken()\", firebase.messaging().getToken());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn registration;\n\t\t\t})\n\t\t\t.catch(function(err) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log(\"[ServiceWorker]\", \"error occured...\", err);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.subscribeUserToPush = function() {\n\t\treturn app.registerServiceWorker()\n\t\t\t.then(function(registration) {\n\t\t\t\tconst subscribeOptions = {\n\t\t\t\t\tuserVisibleOnly: true,\n\t\t\t\t\tapplicationServerKey: app.urlBase64ToUint8Array(app.applicationServerKey)\n\t\t\t\t};\n\t\t\t\tif (registration) {\n\t\t\t\t\treturn registration.pushManager.subscribe(subscribeOptions);\n\t\t\t\t} else {\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\tconsole.log(\"[pushSubscription]\", \"subscribeUserToPush registration\", registration);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(function(pushSubscription) {\n\t\t\t\tvar j = JSON.parse(JSON.stringify(pushSubscription));\n\t\t\t\tif (j && j.keys) {\n\t\t\t\t\tapp.setSetting('settings.pushSubscription.endpoint', j.endpoint);\n\t\t\t\t\tapp.setSetting('settings.pushSubscription.keys.p256dh', j.keys.p256dh);\n\t\t\t\t\tapp.setSetting('settings.pushSubscription.keys.auth', j.keys.auth);\n\t\t\t\t}\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log(\"[pushSubscription]\", \"subscribeUserToPush pushSubscription\", pushSubscription);\n\t\t\t\t}\n\t\t\t\treturn pushSubscription;\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log(\"[pushSubscription]\", 'subscribeUserToPush error', error);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.refreshButtonsSelectors = function() {\n\t\tif (componentHandler) componentHandler.upgradeDom();\n\t\tapp.buttons = {\n\t\t\t// signin_button\n\t\t\t// _button\n\t\t\tnotification: document.querySelector('button#notification'),\n\n\t\t\tmenuTabBar: document.querySelectorAll('.mdl-layout__tab-bar a'),\n\t\t\tstatus: document.querySelectorAll('.statusButton'),\n\t\t\tsettings: document.querySelectorAll('.settingsButton'),\n\t\t\tdocs: document.querySelectorAll('.docsButton'),\n\t\t\tnotifications: document.querySelectorAll('form.notifications input.mdl-checkbox__input'),\n\n\t\t\tloginButtons: document.querySelectorAll('form.signin button.login_button'),\n\t\t\tOTPButtons: document.querySelectorAll('form.otp button.login_button'),\n\t\t\tuser_create: document.querySelectorAll('form.signup button.createUser'),\n\t\t\tuser_setpassword: document.querySelectorAll('form.resetpassword button.setPassword'),\n\t\t\tuser_forgot: document.querySelectorAll('form.forgotpassword button.forgotPassword'),\n\t\t\texpandButtons: document.querySelectorAll('.showdescription_button'),\n\t\t\texpandSourceButtons: document.querySelectorAll('.showsource_button'),\n\t\t\tobject_create: document.querySelectorAll('.showdescription_button'),\n\n\t\t\tdeleteObject: document.querySelectorAll('#objects .delete-button'),\n\t\t\tdeleteObject2: document.querySelectorAll('#objects .delete-button'),\n\t\t\teditObject: document.querySelectorAll('#objects .edit-button'),\n\t\t\tcreateObject: document.querySelector('#objects button#createObject'),\n\t\t\tsaveObject: document.querySelector('#object section.fixedActionButtons button.save-button'),\n\t\t\tbackObject: document.querySelector('#object section.fixedActionButtons button.back-button'),\n\t\t\teditObject2: document.querySelector('#object section.fixedActionButtons button.edit-button'),\n\t\t\tlistObject: document.querySelector('#object section.fixedActionButtons button.list-button'),\n\t\t\tviewuiObject: document.querySelector('#object section.fixedActionButtons button.viewui-button'),\n\t\t\taddObject: document.querySelector('#object_add section.fixedActionButtons button.add-button'),\n\t\t\taddObjectBack: document.querySelector('#object_add section.fixedActionButtons button.back-button'),\n\n\t\t\tdeleteFlow: document.querySelectorAll('#flows .delete-button'),\n\t\t\teditFlow: document.querySelectorAll('#flows .edit-button'),\n\t\t\tcreateFlow: document.querySelector('#flows button#createFlow'),\n\t\t\taddFlow: document.querySelector('#flow_add section.fixedActionButtons button.add-button'),\n\t\t\taddFlowBack: document.querySelector('#flow_add section.fixedActionButtons button.back-button'),\n\t\t\tsaveFlow: document.querySelector('#flow section.fixedActionButtons button.save-button'),\n\t\t\tbackFlow: document.querySelector('#flow section.fixedActionButtons button.back-button'),\n\t\t\teditFlow2: document.querySelector('#flow section.fixedActionButtons button.edit-button'),\n\t\t\tlistFlow: document.querySelector('#flow section.fixedActionButtons button.list-button'),\n\n\t\t\tdeleteDashboard: document.querySelectorAll('#dashboards .delete-button'),\n\t\t\teditDashboard: document.querySelectorAll('#dashboards .edit-button'),\n\t\t\tcreateDashboard: document.querySelector('#dashboards button#createDashboard'),\n\t\t\taddDashboard: document.querySelector('#dashboard_add section.fixedActionButtons button.add-button'),\n\t\t\taddDashboardBack: document.querySelector('#dashboard_add section.fixedActionButtons button.back-button'),\n\t\t\tbackDashboard: document.querySelector('#dashboard section.fixedActionButtons button.back-button'),\n\t\t\tsaveDashboard: document.querySelector('#dashboard section.fixedActionButtons button.save-button'),\n\t\t\teditDashboard2: document.querySelector('#dashboard section.fixedActionButtons button.edit-button'),\n\t\t\tlistDashboard: document.querySelector('#dashboard section.fixedActionButtons button.list-button'),\n\n\t\t\tdeleteSnippet: document.querySelectorAll('#snippets .delete-button'),\n\t\t\teditSnippet: document.querySelectorAll('#snippets .edit-button'),\n\t\t\tcreateSnippet: document.querySelector('#snippets button#createSnippet'),\n\t\t\taddSnippet: document.querySelector('#snippet_add section.fixedActionButtons button.add-button'),\n\t\t\taddSnippetBack: document.querySelector('#snippet_add section.fixedActionButtons button.back-button'),\n\t\t\tbackSnippet: document.querySelector('#snippet section.fixedActionButtons button.back-button'),\n\t\t\tsaveSnippet: document.querySelector('#snippet section.fixedActionButtons button.save-button'),\n\t\t\tlistSnippet: document.querySelector('#snippet section.fixedActionButtons button.list-button'),\n\t\t\teditSnippet2: document.querySelector('#snippet section.fixedActionButtons button.edit-button'),\n\n\t\t\tdeleteRule: document.querySelectorAll('#rules .delete-button'),\n\t\t\teditRule: document.querySelectorAll('#rules .edit-button'),\n\t\t\tcreateRule: document.querySelector('#rules button#createRule'),\n\t\t\taddRule: document.querySelector('#rule_add section.fixedActionButtons button.add-button'),\n\t\t\taddRuleBack: document.querySelector('#rule_add section.fixedActionButtons button.back-button'),\n\t\t\tbackRule: document.querySelector('#rule section.fixedActionButtons button.back-button'),\n\t\t\tsaveRule: document.querySelector('#rule section.fixedActionButtons button.save-button'),\n\t\t\tlistRule: document.querySelector('#rule section.fixedActionButtons button.list-button'),\n\t\t\teditRule2: document.querySelector('#rule section.fixedActionButtons button.edit-button'),\n\n\t\t\tdeleteMqtt: document.querySelectorAll('#mqtts .delete-button'),\n\t\t\teditMqtt: document.querySelectorAll('#mqtts .edit-button'),\n\t\t\tcreateMqtt: document.querySelector('#mqtts button#createMqtt'),\n\n\t\t\tdeleteSource: document.querySelectorAll('#sources .delete-button'),\n\t\t\teditSource: document.querySelectorAll('#sources .edit-button'),\n\t\t\tcreateSource: document.querySelector('#sources button#createSource'),\n\t\t\taddSource: document.querySelector('#source_add section.fixedActionButtons button.add-button'),\n\t\t\taddSourceBack: document.querySelector('#source_add section.fixedActionButtons button.back-button'),\n\t\t\tbackSource: document.querySelector('#source section.fixedActionButtons button.back-button'),\n\t\t\tsaveSource: document.querySelector('#source section.fixedActionButtons button.save-button'),\n\t\t\tlistSource: document.querySelector('#source section.fixedActionButtons button.list-button'),\n\t\t\teditSource2: document.querySelector('#source section.fixedActionButtons button.edit-button'),\n\t\t\tbuildSource: document.querySelector('#source section.fixedActionButtons button.build-button'),\n\t\t\tdeploySource: document.querySelector('#source section.fixedActionButtons button.deploy-button'),\n\t\t\teditSourceChild: document.querySelectorAll('#source section button.child_edit_btn'),\n\t\t\tlink_offSourceObject: document.querySelectorAll('#source section button.object_link_off_btn'),\n\t\t\teditSourceObject: document.querySelectorAll('#source section button.object_edit_btn'),\n\t\t\tdeploySourceObject: document.querySelectorAll('#source section button.object_deploy_btn, #object section button.object_deploy_btn'),\n\t\t\tbuildSourceObject: document.querySelectorAll('#source section button.object_build_btn, #object section button.object_build_btn'),\n\n\t\t\tdeleteStory: document.querySelectorAll('#stories .delete-button'),\n\t\t\teditStory: document.querySelectorAll('#stories .edit-button'),\n\t\t\tcreateStory: document.querySelector('#stories button#createStory'),\n\t\t\taddStory: document.querySelector('#story_add section.fixedActionButtons button.add-button'),\n\t\t\taddStoryBack: document.querySelector('#story_add section.fixedActionButtons button.back-button'),\n\t\t\tbackStory: document.querySelector('#story section.fixedActionButtons button.back-button'),\n\t\t\tsaveStory: document.querySelector('#story section.fixedActionButtons button.save-button'),\n\t\t\tlistStory: document.querySelector('#story section.fixedActionButtons button.list-button'),\n\t\t\teditStory2: document.querySelector('#story section.fixedActionButtons button.edit-button'),\n\t\t};\n\t};\n\n\tapp.refreshContainers = function() {\n\t\tapp.containers = {\n\t\t\tspinner: document.querySelector('section#loading-spinner'),\n\t\t\tindex: document.querySelector('section#index'),\n\t\t\tprofile: document.querySelector('section#profile'),\n\t\t\tsettings: document.querySelector('section#settings'),\n\t\t\tstatus: document.querySelector('section#status'),\n\t\t\tterms: document.querySelector('section#terms'),\n\t\t\tdocs: document.querySelector('section#docs'),\n\t\t\texploration: document.querySelector('section#exploration'),\n\t\t\tusersList: document.querySelector('section#users-list'),\n\t\t\tcompatibleDevices: document.querySelector('section#compatible-devices'),\n\t\t\topenSourceLicenses: document.querySelector('section#openSourceLicenses'),\n\t\t\tobjectsMaps: document.querySelector('section#objects-maps'),\n\t\t\thistory: document.querySelector('section#history'),\n\n\t\t\tobjects: document.querySelector('section#objects'),\n\t\t\tobject: document.querySelector('section#object'),\n\t\t\tobject_add: document.querySelector('section#object_add'),\n\n\t\t\tflows: document.querySelector('section#flows'),\n\t\t\tflow: document.querySelector('section#flow'),\n\t\t\tflow_add: document.querySelector('section#flow_add'),\n\n\t\t\tdashboards: document.querySelector('section#dashboards'),\n\t\t\tdashboard: document.querySelector('section#dashboard'),\n\t\t\tdashboard_add: document.querySelector('section#dashboard_add'),\n\n\t\t\tsnippets: document.querySelector('section#snippets'),\n\t\t\tsnippet: document.querySelector('section#snippet'),\n\t\t\tsnippet_add: document.querySelector('section#snippet_add'),\n\n\t\t\trules: document.querySelector('section#rules'),\n\t\t\trule: document.querySelector('section#rule'),\n\t\t\trule_add: document.querySelector('section#rule_add'),\n\n\t\t\tmqtts: document.querySelector('section#mqtts'),\n\t\t\tmqtt: document.querySelector('section#mqtt'),\n\t\t\tmqtt_add: document.querySelector('section#mqtt_add'),\n\n\t\t\tsources: document.querySelector('section#sources'),\n\t\t\tsource: document.querySelector('section#source'),\n\t\t\tsource_add: document.querySelector('section#source_add'),\n\n\t\t\tmenuIconElement: document.querySelector('.mdl-layout__drawer-button'),\n\t\t\tmenuElement: document.getElementById('drawer'),\n\t\t\tmenuOverlayElement: document.querySelector('.menu__overlay'),\n\t\t\tdrawerObfuscatorElement: document.getElementsByClassName('mdl-layout__obfuscator')[0],\n\t\t\tmenuItems: document.querySelectorAll('.mdl-layout__drawer nav a.mdl-navigation__link'),\n\t\t\tmenuTabItems: document.querySelectorAll('.mdl-layout__tab-bar a.mdl-navigation__link.mdl-layout__tab'),\n\n\t\t\tstories: document.querySelector('section#stories'),\n\t\t\tstory: document.querySelector('section#story'),\n\t\t\tstory_add: document.querySelector('section#story_add'),\n\t\t}\n\t};\n\n\tapp.setExpandAction = function() {\n\t\tcomponentHandler.upgradeDom();\n\t\tapp.refreshButtonsSelectors();\n\t\tfor (var i in app.buttons.expandButtons) {\n\t\t\tif ((app.buttons.expandButtons[i]).childElementCount > -1) {\n\t\t\t\t(app.buttons.expandButtons[i]).addEventListener('click', app.expand, false);\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.expand = function(evt) {\n\t\tvar id = (evt.target.parentElement).getAttribute('for') != null ? (evt.target.parentElement).getAttribute('for') : (evt.target).getAttribute('for');\n\t\tif (id != null) {\n\t\t\tdocument.getElementById(id).classList.toggle('hidden');\n\t\t\tif (evt.target.parentElement.querySelector('i.material-icons').innerHTML == 'expand_more') {\n\t\t\t\tevt.target.parentElement.querySelector('i.material-icons').innerHTML = 'expand_less';\n\t\t\t} else {\n\t\t\t\tevt.target.parentElement.querySelector('i.material-icons').innerHTML = 'expand_more';\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.findDataType = function(id) {\n\t\tif(typeof id===\"undefined\" || id === null || id===\"\") {return \"\";}\n\t\treturn JSON.parse(localStorage.getItem(\"datatypes\")).find(function(d) { return d.name === id; });\n\t};\n\n\tapp.initNewSection = function(section) {\n\t\tif (!document.getElementById(section)) {\n\t\t\tlet newSection = document.createElement(\"section\");\n\t\t\tnewSection.setAttribute(\"id\", section);\n\t\t\tnewSection.classList.add(\"mdl-tabs__panel\", \"mdl-layout__tab-panel\", \"is-inactive\");\n\t\t\tif (app.sectionsPageTitles[section]) {\n\t\t\t\tlet h2 = document.createElement(\"h2\");\n\t\t\t\th2.classList.add(\"mdl-card__title-text\", \"mdl-subheader-content\");\n\t\t\t\tvar title = document.createTextNode((app.sectionsPageTitles[section]).replace(/%s/g, \"\"));\n\t\t\t\th2.appendChild(title);\n\t\t\t\tlet divH2 = document.createElement(\"div\");\n\t\t\t\tdivH2.classList.add(\"mdl-grid\", \"mdl-cell--12-col\");\n\t\t\t\tdivH2.appendChild(h2);\n\t\t\t\tnewSection.appendChild(divH2);\n\t\t\t}\n\t\t\tlet divContent = document.createElement(\"div\");\n\t\t\tdivContent.classList.add(\"page-content\", \"mdl-grid\", \"mdl-grid--no-spacing\");\n\t\t\tnewSection.appendChild(divContent);\n\n\t\t\tlet main = document.getElementsByClassName(\"mdl-layout__content\")[0];\n\t\t\tmain.appendChild(newSection);\n\n\t\t\tapp.refreshContainers();\n\t\t}\n\t};\n\n\tapp.setSection = function(section, direction) {\n\t\tsection = section.split(\"?\")[0].replace(/\\/$/, \"\");\n\t\twindow.location.hash = '#' + section;\n\t\tlet url = (window.location.hash.substr(1).split(\"?\"))[1];  // TODO, recursive?\n\t\t//let url = window.location.search;  // \n\t\twindow.scrollTo(0, 0);\n\t\tapp.initNewSection(section);\n\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\tconsole.log('[setSection]', section);\n\t\t}\n\t\tif (section === 'public-object') {\n\t\t\tvar urlParams = new URLSearchParams(url);\n\t\t\tvar params = {};\n\t\t\tif (Array.from(urlParams).length > -1) {\n\t\t\t\tfor (let p of urlParams) {\n\t\t\t\t\tvar n = p[0];\n\t\t\t\t\tparams[n] = p[1];\n\t\t\t\t}\n\t\t\t\tif (params['id'] == \"\") {\n\t\t\t\t\tapp.setSection('objects'); // TODO, recursive?\n\t\t\t\t} else if (params['id']) {\n\t\t\t\t\tapp.resources.objects.display(params['id'], false, false, true);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (section === 'object') {\n\t\t\tvar urlParams = new URLSearchParams(url);\n\t\t\tvar params = {};\n\t\t\tconsole.log('DEBUG', \"urlParams\",urlParams);\n\t\t\tif (Array.from(urlParams).length > -1) {\n\t\t\t\tfor (let p of urlParams) {\n\t\t\t\t\tvar n = p[0];\n\t\t\t\t\tparams[n] = p[1];\n\t\t\t\t}\n\t\t\t\tif (params['id'] == \"\") {\n\t\t\t\t\tapp.setSection('objects'); // TODO, recursive?\n\t\t\t\t} else if (params['id']) {\n\t\t\t\t\tconsole.log('DEBUG', params['id']);\n\t\t\t\t\tapp.resources.objects.display(params['id'], false, false, false);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (section === 'edit-object') {\n\t\t\tvar urlParams = new URLSearchParams(url);\n\t\t\tvar params = {};\n\t\t\tif (Array.from(urlParams).length > -1) {\n\t\t\t\tfor (let p of urlParams) {\n\t\t\t\t\tvar n = p[0];\n\t\t\t\t\tparams[n] = p[1];\n\t\t\t\t}\n\t\t\t\tif (params['id'] == \"\") {\n\t\t\t\t\tapp.setSection('objects'); // TODO, recursive?\n\t\t\t\t} else if (params['id']) {\n\t\t\t\t\tapp.resources.objects.display(params['id'], false, true, false);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (section === 'flow') {\n\t\t\tvar urlParams = new URLSearchParams(url);\n\t\t\tvar params = {};\n\t\t\tif (Array.from(urlParams).length > -1) {\n\t\t\t\tfor (let p of urlParams) {\n\t\t\t\t\tvar n = p[0];\n\t\t\t\t\tparams[n] = p[1];\n\t\t\t\t}\n\t\t\t\tif (params['id'] == \"\") {\n\t\t\t\t\tapp.setSection('flows'); // TODO, recursive?\n\t\t\t\t} else if (params['id']) {\n\t\t\t\t\tapp.resources.flows.display(params['id'], false, false, false);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (section === 'snippet') {\n\t\t\tvar urlParams = new URLSearchParams(url);\n\t\t\tvar params = {};\n\t\t\tif (Array.from(urlParams).length > -1) {\n\t\t\t\tfor (let p of urlParams) {\n\t\t\t\t\tvar n = p[0];\n\t\t\t\t\tparams[n] = p[1];\n\t\t\t\t}\n\t\t\t\tif (params['id'] == \"\") {\n\t\t\t\t\tapp.setSection('snippets'); // TODO, recursive?\n\t\t\t\t} else if (params['id']) {\n\t\t\t\t\tapp.resources.dashboards.display(params['id'], false, false, false);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (section === 'dashboard') {\n\t\t\tvar urlParams = new URLSearchParams(url);\n\t\t\tvar params = {};\n\t\t\tif (Array.from(urlParams).length > -1) {\n\t\t\t\tfor (let p of urlParams) {\n\t\t\t\t\tvar n = p[0];\n\t\t\t\t\tparams[n] = p[1];\n\t\t\t\t}\n\t\t\t\tif (params['id'] == \"\") {\n\t\t\t\t\tapp.setSection('dashboards'); // TODO, recursive?\n\t\t\t\t} else if (params['id']) {\n\t\t\t\t\tapp.resources.dashboards.display(params['id'], false, false, false);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (section === 'rule') {\n\t\t\tvar urlParams = new URLSearchParams(url);\n\t\t\tvar params = {};\n\t\t\tif (Array.from(urlParams).length > -1) {\n\t\t\t\tfor (let p of urlParams) {\n\t\t\t\t\tvar n = p[0];\n\t\t\t\t\tparams[n] = p[1];\n\t\t\t\t}\n\t\t\t\tif (params['id'] == \"\") {\n\t\t\t\t\tapp.setSection('rules'); // TODO, recursive?\n\t\t\t\t} else if (params['id']) {\n\t\t\t\t\tapp.resources.rules.display(params['id'], false, false, false);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (section === 'mqtt') {\n\t\t\tvar urlParams = new URLSearchParams(url);\n\t\t\tvar params = {};\n\t\t\tif (Array.from(urlParams).length > -1) {\n\t\t\t\tfor (let p of urlParams) {\n\t\t\t\t\tvar n = p[0];\n\t\t\t\t\tparams[n] = p[1];\n\t\t\t\t}\n\t\t\t\tif (params['id'] == \"\") {\n\t\t\t\t\tapp.setSection('mqtts'); // TODO, recursive?\n\t\t\t\t} else if (params['id']) {\n\t\t\t\t\tapp.resources.mqtts.display(params['id'], false, false, false);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (section === 'source') {\n\t\t\tvar urlParams = new URLSearchParams(url);\n\t\t\tvar params = {};\n\t\t\tif (Array.from(urlParams).length > -1) {\n\t\t\t\tfor (let p of urlParams) {\n\t\t\t\t\tvar n = p[0];\n\t\t\t\t\tparams[n] = p[1];\n\t\t\t\t}\n\t\t\t\tif (params['id'] == \"\") {\n\t\t\t\t\tapp.setSection('sources'); // TODO, recursive?\n\t\t\t\t} else if (params['id']) {\n\t\t\t\t\tapp.resources.sources.display(params['id'], false, false, false);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (section === 'story') {\n\t\t\tvar urlParams = new URLSearchParams(url);\n\t\t\tvar params = {};\n\t\t\tif (Array.from(urlParams).length > -1) {\n\t\t\t\tfor (let p of urlParams) {\n\t\t\t\t\tvar n = p[0];\n\t\t\t\t\tparams[n] = p[1];\n\t\t\t\t}\n\t\t\t\tif (params['id'] == \"\") {\n\t\t\t\t\tapp.setSection('stories'); // TODO, recursive?\n\t\t\t\t} else if (params['id']) {\n\t\t\t\t\tapp.resources.stories.display(params['id'], false, false, false);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (section === 'history') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.getHistory();\n\t\t} else if (section === 'object_add') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.resources.objects.displayAdd(app.defaultResources.object, true, false, false);\n\t\t} else if (section === 'flow_add') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.resources.flows.displayAdd(app.defaultResources.flow, true, false, false);\n\t\t} else if (section === 'snippet_add') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.resources.snippets.displayAdd(app.defaultResources.snippet, true, false, false);\n\t\t} else if (section === 'dashboard_add') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.resources.dashboards.displayAdd(app.defaultResources.dashboard, true, false, false);\n\t\t} else if (section === 'rule_add') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.resources.rules.displayAdd(app.defaultResources.rule, true, false, false);\n\t\t} else if (section === 'mqtt_add') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.resources.mqtts.displayAdd(app.defaultResources.mqtt, true, false, false);\n\t\t} else if (section === 'source_add') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.resources.sources.displayAdd(app.defaultResources.source, true, false, false);\n\t\t} else if (section === 'story_add') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.resources.stories.displayAdd(app.defaultResources.story, true, false, false);\n\t\t} else if (section === 'profile') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\t(app.containers.profile).querySelector('.page-content').innerHTML = \"\";\n\t\t\tapp.fetchProfile();\n\t\t} else if (section === 'settings') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.getSettings();\n\t\t} else if (section === 'login') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.displayLoginForm(document.querySelector('#login').querySelector('.page-content'));\n\t\t} else if (section === 'otp') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.displayOTPForm(document.querySelector('#otp').querySelector('.page-content'));\n\t\t} else if (section === 'users-list') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.getUsersList();\n\t\t} else if (section === 'compatible-devices') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.getCompatibleDevices();\n\t\t} else if (section === 'openSourceLicenses') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.getOpenSourceLicenses();\n\t\t} else if (section === 'objects-maps') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.getObjectsMaps();\n\t\t} else if (section === 'manage_notifications') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tif (typeof firebase !== \"undefined\") {\n\t\t\t\tfirebase.analytics().logEvent('manage_notifications');\n\t\t\t}\n\t\t} else if (section === 'history') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t} else if (section === 'exploration') {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t} else {\n\t\t\tdocument.title = app.sectionsPageTitles[section] !== undefined ? app.sectionsPageTitles[section] : app.defaultPageTitle;\n\t\t\tapp.fetchItemsPaginated(section, undefined, app.itemsPage[section], app.itemsSize[section]);\n\t\t}\n\t\tapp.refreshButtonsSelectors();\n\t\tvar act = document.querySelectorAll('section.is-active');\n\t\tfor (var i in act) {\n\t\t\tif ((act[i]).childElementCount > -1) {\n\t\t\t\tact[i].classList.remove('is-active');\n\t\t\t\tact[i].classList.add('is-inactive');\n\t\t\t}\n\t\t}\n\t\tfor (var i in app.buttons.menuTabBar) {\n\t\t\tif ((app.buttons.menuTabBar[i]).childElementCount > -1) {\n\t\t\t\tapp.buttons.menuTabBar[i].classList.remove('is-active');\n\t\t\t\tif (app.buttons.menuTabBar[i].getAttribute(\"for\") == section || app.buttons.menuTabBar[i].getAttribute(\"for\") == section + 's') {\n\t\t\t\t\tapp.buttons.menuTabBar[i].classList.add('is-active');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (document.querySelector('#' + section)) {\n\t\t\tif (direction == 'ltr') {\n\t\t\t\tdocument.querySelector('#' + section).style.transform = \"translateX(-120%) !important\";\n\t\t\t} else {\n\t\t\t\tdocument.querySelector('#' + section).style.transform = \"translateX(120%) !important\";\n\t\t\t}\n\t\t\tdocument.querySelector('#' + section).classList.remove('is-inactive');\n\t\t\tdocument.querySelector('#' + section).classList.add('is-active');\n\t\t\tif (!app.isLogged && (\n\t\t\t\t!document.querySelector('#' + section).querySelector('.page-content form.signin') &&\n\t\t\t\tsection !== 'signup' &&\n\t\t\t\tsection !== 'otp' &&\n\t\t\t\tsection !== 'reset-password' &&\n\t\t\t\tsection !== 'forgot-password' &&\n\t\t\t\tsection !== 'settings' &&\n\t\t\t\tsection !== 'docs' &&\n\t\t\t\tsection !== 'terms' &&\n\t\t\t\tsection !== 'compatible-devices' &&\n\t\t\t\tsection !== 'openSourceLicenses' &&\n\t\t\t\tsection !== 'manage_notifications' &&\n\t\t\t\tsection !== 'use-cases' &&\n\t\t\t\tsection !== 'news'\n\t\t\t)\n\t\t\t) {\n\t\t\t\tapp.displayLoginForm(document.querySelector('#' + section).querySelector('.page-content'));\n\t\t\t}\n\t\t}\n\t\tapp.currentSection = section;\n\t\tif (typeof firebase === \"undefined\") {\n\t\t\tvar firebase = {};\n\t\t}\n\t\tif (typeof firebase !== \"object\" && typeof firebase.apps !== \"object\" && typeof firebase.apps.length !== \"number\") {\n\t\t\tfirebase.analytics().setCurrentScreen(section, null);\n\t\t}\n\t\tif (typeof Tawk_API !== \"undefined\" && typeof Tawk_API.setAttributes === \"function\") {\n\t\t\tTawk_API.addEvent(\"setCurrentScreen\", { \"screen\": section }, function(error) { });\n\t\t}\n\t};\n\n\tapp.setItemsClickAction = function(type) {\n\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\tconsole.log('DEBUG setItemsClickAction', type);\n\t\t}\n\t\tvar items = document.querySelectorAll(\"[data-action='view']\");\n\t\tfor (var i in items) {\n\t\t\tif (type == 'objects' && (items[i]) !== undefined && (items[i]).childElementCount > -1 && (items[i]).getAttribute('data-type') == type) {\n\t\t\t\t(items[i]).querySelectorAll(\"div.mdl-card__title, div.mdl-list__item--three-line\").forEach(div => {\n\t\t\t\t\tdiv.addEventListener(\"click\", (event) => {\n\t\t\t\t\t\tlet item = event.currentTarget.parentNode.parentNode;\n\t\t\t\t\t\titem.classList.add('is-hover');\n\t\t\t\t\t\tapp.resources.objects.display(item.dataset.id, false, false, false);\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if (type == 'flows' && (items[i]) !== undefined && (items[i]).childElementCount > -1 && (items[i]).getAttribute('data-type') == type) {\n\t\t\t\t(items[i]).querySelectorAll(\"div.mdl-card__title, div.mdl-list__item--three-line\").forEach(div => {\n\t\t\t\t\tdiv.addEventListener(\"click\", (event) => {\n\t\t\t\t\t\tlet item = event.currentTarget.parentNode.parentNode;\n\t\t\t\t\t\titem.classList.add('is-hover');\n\t\t\t\t\t\tapp.resources.flows.display(item.dataset.id, false, false, false);\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if (type == 'dashboards' && (items[i]) !== undefined && (items[i]).childElementCount > -1 && (items[i]).getAttribute('data-type') == type) {\n\t\t\t\t(items[i]).querySelectorAll(\"div.mdl-card__title, div.mdl-list__item--three-line\").forEach(div => {\n\t\t\t\t\tdiv.addEventListener(\"click\", (event) => {\n\t\t\t\t\t\tlet item = event.currentTarget.parentNode.parentNode;\n\t\t\t\t\t\titem.classList.add('is-hover');\n\t\t\t\t\t\tapp.resources.dashboards.display(item.dataset.id, false, false, false);\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if (type == 'snippets' && (items[i]) !== undefined && (items[i]).childElementCount > -1 && (items[i]).getAttribute('data-type') == type) {\n\t\t\t\t(items[i]).querySelectorAll(\"div.mdl-card__title, div.mdl-list__item--three-line\").forEach(div => {\n\t\t\t\t\tdiv.addEventListener(\"click\", (event) => {\n\t\t\t\t\t\tlet item = event.currentTarget.parentNode.parentNode;\n\t\t\t\t\t\titem.classList.add('is-hover');\n\t\t\t\t\t\tapp.resources.snippets.display(item.dataset.id, false, false, false);\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if (type == 'rules' && (items[i]) !== undefined && (items[i]).childElementCount > -1 && (items[i]).getAttribute('data-type') == type) {\n\t\t\t\t(items[i]).querySelectorAll(\"div.mdl-card__title, div.mdl-list__item--three-line\").forEach(div => {\n\t\t\t\t\tdiv.addEventListener(\"click\", (event) => {\n\t\t\t\t\t\tlet item = event.currentTarget.parentNode.parentNode;\n\t\t\t\t\t\titem.classList.add('is-hover');\n\t\t\t\t\t\tapp.resources.rules.display(item.dataset.id, false, false, false);\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if (type == 'sources' && (items[i]) !== undefined && (items[i]).childElementCount > -1 && (items[i]).getAttribute('data-type') == type) {\n\t\t\t\t(items[i]).querySelectorAll(\"div.mdl-card__title, div.mdl-list__item--three-line\").forEach(div => {\n\t\t\t\t\tdiv.addEventListener(\"click\", (event) => {\n\t\t\t\t\t\tlet item = event.currentTarget.parentNode.parentNode;\n\t\t\t\t\t\titem.classList.add('is-hover');\n\t\t\t\t\t\tapp.resources.sources.display(item.dataset.id, false, false, false);\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else if (type == 'stories' && (items[i]) !== undefined && (items[i]).childElementCount > -1 && (items[i]).getAttribute('data-type') == type) {\n\t\t\t\t(items[i]).querySelectorAll(\"div.mdl-card__title, div.mdl-list__item--three-line\").forEach(div => {\n\t\t\t\t\tdiv.addEventListener(\"click\", (event) => {\n\t\t\t\t\t\tlet item = event.currentTarget.parentNode.parentNode;\n\t\t\t\t\t\titem.classList.add('is-hover');\n\t\t\t\t\t\tapp.resources.stories.display(item.dataset.id, false, false, false);\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t\t// swapDate\n\t\tvar swaps = document.querySelectorAll(\"button.swapDate\");\n\t\tfor (var s in swaps) {\n\t\t\tif ((swaps[s]) !== undefined && (swaps[s]).childElementCount > -1) {\n\t\t\t\t(swaps[s]).addEventListener('click', function(evt) {\n\t\t\t\t\tvar datasetid = evt.currentTarget.dataset.id;\n\t\t\t\t\tvar createdElement = document.querySelector(\"div[data-id='\" + datasetid + \"'] span[data-date='created']\").classList;\n\t\t\t\t\tvar updatedElement = document.querySelector(\"div[data-id='\" + datasetid + \"'] span[data-date='updated']\").classList;\n\t\t\t\t\tif (createdElement.contains(\"visible\")) {\n\t\t\t\t\t\tcreatedElement.add('hidden');\n\t\t\t\t\t\tcreatedElement.remove('visible');\n\t\t\t\t\t\tupdatedElement.add('visible');\n\t\t\t\t\t\tupdatedElement.remove('hidden');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcreatedElement.add('visible');\n\t\t\t\t\t\tcreatedElement.remove('hidden');\n\t\t\t\t\t\tupdatedElement.add('hidden');\n\t\t\t\t\t\tupdatedElement.remove('visible');\n\t\t\t\t\t}\n\n\t\t\t\t}, { passive: false, });\n\t\t\t}\n\t\t};\n\n\t\tvar lazys = document.querySelectorAll(\"button.lazyloading\");\n\t\tfor (var l in lazys) {\n\t\t\tif ((lazys[l]) !== undefined && (lazys[l]).childElementCount > -1) {\n\t\t\t\t(lazys[l]).addEventListener('click', function(evt) {\n\t\t\t\t\tvar size = evt.currentTarget.dataset.size;\n\t\t\t\t\tvar page = evt.currentTarget.dataset.page;\n\t\t\t\t\tvar type = evt.currentTarget.dataset.type;\n\n\t\t\t\t\tapp.itemsPage[type] = page;\n\t\t\t\t\tapp.itemsSize[type] = size;\n\t\t\t\t\tapp.fetchItemsPaginated(type, undefined, app.itemsPage[type], app.itemsSize[type]);\n\t\t\t\t}, { passive: false, });\n\t\t\t}\n\t\t};\n\t};\n\n\tapp.showModal = function() {\n\t\tdialog.style.display = 'block';\n\t\tdialog.style.position = 'fixed';\n\t\tdialog.style.top = '20%';\n\t\tdialog.style.zIndex = '9999';\n\t};\n\n\tapp.hideModal = function() {\n\t\tdialog.style.display = 'none';\n\t\tdialog.style.zIndex = '-9999';\n\t};\n\n\tapp.copyTextToClipboard = function(text, evt) {\n\t\tif (!navigator.clipboard) {\n\t\t\tvar copyTextarea = evt.currentTarget.parentNode.querySelector('.copytextarea');\n\t\t\tcopyTextarea.focus();\n\t\t\tcopyTextarea.select();\n\t\t\tif (document.execCommand('copy')) {\n\t\t\t\ttoast(text + ' has been copied to clipboard.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\ttoast('Could not copy text: ' + text, { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\tnavigator.clipboard.writeText(text).then(function() {\n\t\t\t\ttoast(text + ' has been copied to clipboard.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\treturn true;\n\t\t\t}, function(err) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log('DEBUG clipboard', 'Could not copy text: ', err);\n\t\t\t\t}\n\t\t\t\ttoast('Could not copy text: ' + text, { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t\treturn false;\n\t\t\t});\n\t\t}\n\t};\n\n\tapp.setListActions = function(type) {\n\t\tapp.refreshButtonsSelectors();\n\t\tvar dialog = document.getElementById('dialog');\n\t\tvar copyButtons = document.querySelectorAll('.copy-button');\n\n\t\tfor (var c = 0; c < copyButtons.length; c++) {\n\t\t\tcopyButtons[c].addEventListener('click', function(evt) {\n\t\t\t\tvar myId = evt.currentTarget.dataset.id;\n\t\t\t\tapp.copyTextToClipboard(myId, evt);\n\t\t\t\tevt.preventDefault();\n\t\t\t});\n\t\t}\n\n\t\tif (type === \"objects\") {\n\t\t\tfor (var d = 0; d < app.buttons.deleteObject.length; d++) {\n\t\t\t\tapp.buttons.deleteObject[d].addEventListener('click', function(evt) {\n\t\t\t\t\tdialog.querySelector('h3').innerHTML = '<i class=\"material-icons md-48\">' + app.icons.delete_question + '</i> Delete Object';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__content').innerHTML = '<p>Do you really want to delete \\\"' + evt.target.parentNode.dataset.name + '\\\"?</p>'; //\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__actions').innerHTML = '<button class=\"mdl-button btn danger yes-button\">Yes</button> <button class=\"mdl-button cancel-button\">No, Cancel</button>';\n\t\t\t\t\tapp.showModal();\n\t\t\t\t\tvar myId = evt.target.parentNode.dataset.id;\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\tdialog.querySelector('.cancel-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t\tdialog.querySelector('.yes-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\t\tvar myInit = { method: 'DELETE', headers: myHeaders };\n\t\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/objects/${myId}`;\n\t\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\t\tdocument.querySelector('[data-id=\"' + myId + '\"]').classList.add('removed');\n\t\t\t\t\t\t\t\ttoast(\"Object has been deleted.\", { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\t\ttoast(\"Object has not been deleted.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (var e = 0; e < app.buttons.editObject.length; e++) {\n\t\t\t\t//console.log(buttons.editObject[e]);\n\t\t\t\tapp.buttons.editObject[e].addEventListener('click', function(evt) {\n\t\t\t\t\tapp.resources.objects.display(evt.currentTarget.dataset.id, false, true, false);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (type === \"flows\") {\n\t\t\tfor (var d = 0; d < app.buttons.deleteFlow.length; d++) {\n\t\t\t\t//console.log(buttons.deleteFlow[d]);\n\t\t\t\tapp.buttons.deleteFlow[d].addEventListener('click', function(evt) {\n\t\t\t\t\tdialog.querySelector('h3').innerHTML = '<i class=\"material-icons md-48\">' + app.icons.delete_question + '</i> Delete Flow';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__content').innerHTML = '<p>Do you really want to delete \\\"' + evt.target.parentNode.dataset.name + '\\\"? This action will remove all datapoints in the flow and can\\'t be recovered.</p>';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__actions').innerHTML = '<button class=\"mdl-button btn danger yes-button\">Yes</button> <button class=\"mdl-button cancel-button\">No, Cancel</button>';\n\t\t\t\t\tapp.showModal();\n\t\t\t\t\tvar myId = evt.target.parentNode.dataset.id;\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\tdialog.querySelector('.cancel-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t\tdialog.querySelector('.yes-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\t\tvar myInit = { method: 'DELETE', headers: myHeaders };\n\t\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/flows/${myId}`;\n\t\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\t\tdocument.querySelector('[data-id=\"' + myId + '\"]').classList.add('removed');\n\t\t\t\t\t\t\t\tapp.resources.flows.onDelete(myId);\n\t\t\t\t\t\t\t\ttoast('Flow has been deleted.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\t\ttoast('Flow has not been deleted.', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (var e = 0; e < app.buttons.editFlow.length; e++) {\n\t\t\t\t//console.log(buttons.editFlow[e]);\n\t\t\t\tapp.buttons.editFlow[e].addEventListener('click', function(evt) {\n\t\t\t\t\tapp.resources.flows.display(evt.currentTarget.dataset.id, false, true, false);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (type === \"dashboards\") {\n\t\t\tfor (var d = 0; d < app.buttons.deleteDashboard.length; d++) {\n\t\t\t\t//console.log(buttons.deleteDashboard[d]);\n\t\t\t\tapp.buttons.deleteDashboard[d].addEventListener('click', function(evt) {\n\t\t\t\t\tdialog.querySelector('h3').innerHTML = '<i class=\"material-icons md-48\">' + app.icons.delete_question + '</i> Delete Dashboard';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__content').innerHTML = '<p>Do you really want to delete \\\"' + evt.target.parentNode.dataset.name + '\\\"?</p>';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__actions').innerHTML = '<button class=\"mdl-button btn danger yes-button\">Yes</button> <button class=\"mdl-button cancel-button\">No, Cancel</button>';\n\t\t\t\t\tapp.showModal();\n\t\t\t\t\tvar myId = evt.target.parentNode.dataset.id;\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\tdialog.querySelector('.cancel-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t\tdialog.querySelector('.yes-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\t\tvar myInit = { method: 'DELETE', headers: myHeaders };\n\t\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/dashboards/${myId}`;\n\t\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\t\tdocument.querySelector('[data-id=\"' + myId + '\"]').classList.add('removed');\n\t\t\t\t\t\t\t\ttoast('Dashboard has been deleted.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\t\ttoast('Dashboard has not been deleted.', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (var d = 0; d < app.buttons.editDashboard.length; d++) {\n\t\t\t\t//console.log(buttons.editDashboard[d]);\n\t\t\t\tapp.buttons.editDashboard[d].addEventListener('click', function(evt) {\n\t\t\t\t\tapp.resources.dashboards.display(evt.currentTarget.dataset.id, false, true, false);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (type === \"snippets\") {\n\t\t\tfor (var d = 0; d < app.buttons.deleteSnippet.length; d++) {\n\t\t\t\tapp.buttons.deleteSnippet[d].addEventListener('click', function(evt) {\n\t\t\t\t\tdialog.querySelector('h3').innerHTML = '<i class=\"material-icons md-48\">' + app.icons.delete_question + '</i> Delete Snippet';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__content').innerHTML = '<p>Do you really want to delete \\\"' + evt.target.parentNode.dataset.name + '\\\"? This action will remove all reference to the Snippet in Dashboards.</p>';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__actions').innerHTML = '<button class=\"mdl-button btn danger yes-button\">Yes</button> <button class=\"mdl-button cancel-button\">No, Cancel</button>';\n\t\t\t\t\tapp.showModal();\n\t\t\t\t\tvar myId = evt.target.parentNode.dataset.id;\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\tdialog.querySelector('.cancel-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t\tdialog.querySelector('.yes-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\t\tvar myInit = { method: 'DELETE', headers: myHeaders };\n\t\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/snippets/${myId}`;\n\t\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\t\tdocument.querySelector('[data-id=\"' + myId + '\"]').classList.add('removed');\n\t\t\t\t\t\t\t\tapp.resources.snippets.onDelete(myId);\n\t\t\t\t\t\t\t\ttoast('Snippet has been deleted.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\t\ttoast('Snippet has not been deleted.', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (var s = 0; s < app.buttons.editSnippet.length; s++) {\n\t\t\t\tapp.buttons.editSnippet[s].addEventListener('click', function(evt) {\n\t\t\t\t\tapp.resources.snippets.display(evt.currentTarget.dataset.id, false, true, false);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (type === \"rules\") {\n\t\t\tfor (var d = 0; d < app.buttons.deleteRule.length; d++) {\n\t\t\t\tapp.buttons.deleteRule[d].addEventListener('click', function(evt) {\n\t\t\t\t\tdialog.querySelector('h3').innerHTML = '<i class=\"material-icons md-48\">' + app.icons.delete_question + '</i> Delete rule';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__content').innerHTML = '<p>Do you really want to delete \\\"' + evt.target.parentNode.dataset.name + '\\\"? This action will remove all reference to the Rule in t6.</p>';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__actions').innerHTML = '<button class=\"mdl-button btn danger yes-button\">Yes</button> <button class=\"mdl-button cancel-button\">No, Cancel</button>';\n\n\t\t\t\t\tapp.showModal();\n\t\t\t\t\tvar myId = evt.target.parentNode.dataset.id;\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\tdialog.querySelector('.cancel-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t\tdialog.querySelector('.yes-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\t\tvar myInit = { method: 'DELETE', headers: myHeaders };\n\t\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/rules/${myId}`;\n\t\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\t\tdocument.querySelector('[data-id=\"' + myId + '\"]').classList.add('removed');\n\t\t\t\t\t\t\t\ttoast('Rule has been deleted.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\t\ttoast('Rule has not been deleted.', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (var s = 0; s < app.buttons.editRule.length; s++) {\n\t\t\t\tapp.buttons.editRule[s].addEventListener('click', function(evt) {\n\t\t\t\t\tapp.resources.rules.display(evt.currentTarget.dataset.id, false, true, false);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (type === \"stories\") {\n\t\t\tfor (var d = 0; d < app.buttons.deleteStory.length; d++) {\n\t\t\t\tapp.buttons.deleteStory[d].addEventListener('click', function(evt) {\n\t\t\t\t\tdialog.querySelector('h3').innerHTML = '<i class=\"material-icons md-48\">' + app.icons.delete_question + '</i> Delete story';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__content').innerHTML = '<p>Do you really want to delete \\\"' + evt.target.parentNode.dataset.name + '\\\"? This action will remove all reference to the Story in t6.</p>';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__actions').innerHTML = '<button class=\"mdl-button btn danger yes-button\">Yes</button> <button class=\"mdl-button cancel-button\">No, Cancel</button>';\n\n\t\t\t\t\tapp.showModal();\n\t\t\t\t\tvar myId = evt.target.parentNode.dataset.id;\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\tdialog.querySelector('.cancel-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t\tdialog.querySelector('.yes-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\t\tvar myInit = { method: 'DELETE', headers: myHeaders };\n\t\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/stories/${myId}`;\n\t\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\t\tdocument.querySelector('[data-id=\"' + myId + '\"]').classList.add('removed');\n\t\t\t\t\t\t\t\ttoast('Story has been deleted.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\t\ttoast('Story has not been deleted.', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (var s = 0; s < app.buttons.editStory.length; s++) {\n\t\t\t\tapp.buttons.editStory[s].addEventListener('click', function(evt) {\n\t\t\t\t\tapp.resources.stories.display(evt.currentTarget.dataset.id, false, true, false);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (type === \"mqtts\") {\n\t\t\t// TODO\n\t\t} else if (type === \"sources\") {\n\t\t\tfor (var d = 0; d < app.buttons.deleteSource.length; d++) {\n\t\t\t\tapp.buttons.deleteSource[d].addEventListener('click', function(evt) {\n\t\t\t\t\tdialog.querySelector('h3').innerHTML = '<i class=\"material-icons md-48\">' + app.icons.delete_question + '</i> Delete source';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__content').innerHTML = '<p>Do you really want to delete \\\"' + evt.target.parentNode.dataset.name + '\\\"? This action will remove all reference to the Source in t6.</p>';\n\t\t\t\t\tdialog.querySelector('.mdl-dialog__actions').innerHTML = '<button class=\"mdl-button btn danger yes-button\">Yes</button> <button class=\"mdl-button cancel-button\">No, Cancel</button>';\n\n\t\t\t\t\tapp.showModal();\n\t\t\t\t\tvar myId = evt.target.parentNode.dataset.id;\n\t\t\t\t\tevt.preventDefault();\n\n\t\t\t\t\tdialog.querySelector('.cancel-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t\tdialog.querySelector('.yes-button').addEventListener('click', function(e) {\n\t\t\t\t\t\tapp.hideModal();\n\t\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\t\tvar myInit = { method: 'DELETE', headers: myHeaders };\n\t\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/sources/${myId}`;\n\t\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\t\tdocument.querySelector('[data-id=\"' + myId + '\"]').classList.add('removed');\n\t\t\t\t\t\t\t\ttoast('Source has been deleted.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\t\ttoast('Source has not been deleted.', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tfor (var s = 0; s < app.buttons.editSource.length; s++) {\n\t\t\t\tapp.buttons.editSource[s].addEventListener('click', function(evt) {\n\t\t\t\t\tapp.resources.sources.display(evt.currentTarget.dataset.id, false, true, false);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.getSubtitle = function(subtitle) {\n\t\tvar node = `<section class=\"mdl-grid mdl-cell--12-col md-primary md-subheader _md md-altTheme-theme sticky\" role=\"heading\">\n\t\t\t<div class=\"md-subheader-inner\">\n\t\t\t\t<div class=\"mdl-subheader-content\">\n\t\t\t\t\t<span class=\"ng-scope\">${subtitle}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>`;\n\t\treturn node;\n\t};\n\n\tapp.getUnits = function() {\n\t\tif (localStorage.getItem('units') == 'null' || !JSON.parse(localStorage.getItem('units'))) {\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\t\tvar url = `${app.baseUrl}/${app.api_version}/units/`;\n\t\t\tfetch(url, myInit)\n\t\t\t\t.then(\n\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tif (response.data) {\n\t\t\t\t\t\tfor (var i = 0; i < (response.data).length; i++) {\n\t\t\t\t\t\t\tvar u = response.data[i];\n\t\t\t\t\t\t\tapp.units.push({ name: u.id, value: u.attributes.type + ' - ' + u.attributes.name, format: u.attributes.format, system: u.attributes.system, description: u.attributes.description });\n\t\t\t\t\t\t}\n\t\t\t\t\t\t(app.units) = (app.units).sort(function(a, b) {\n\t\t\t\t\t\t\tif (a.value.toLowerCase() < b.value.toLowerCase()) { return -1; }\n\t\t\t\t\t\t\tif (a.value.toLowerCase() > b.value.toLowerCase()) { return 1; }\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlocalStorage.setItem('units', JSON.stringify(app.units));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t};\n\n\tapp.getFlows = function() {\n\t\tif (app.flows.length == 0 && (app.isLogged || localStorage.getItem('bearer'))) {\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\t\tvar url = `${app.baseUrl}/${app.api_version}/flows/?size=99999`;\n\t\t\tfetch(url, myInit)\n\t\t\t\t.then(\n\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tif (response.data) {\n\t\t\t\t\t\tfor (var i = 0; i < (response.data).length; i++) {\n\t\t\t\t\t\t\tvar f = response.data[i];\n\t\t\t\t\t\t\tapp.flows.push({ id: f.id, name: f.attributes.name, ttl: f.attributes.ttl, unit: f.attributes.unit, type: 'flows' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalStorage.setItem('flows', JSON.stringify(app.flows));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t};\n\n\tapp.getSnippets = function() {\n\t\tif (app.snippets.length == 0 && (app.isLogged || localStorage.getItem('bearer'))) {\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\t\tvar url = `${app.baseUrl}/${app.api_version}/snippets/?size=99999`;\n\t\t\tfetch(url, myInit)\n\t\t\t\t.then(\n\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tif (response.data) {\n\t\t\t\t\t\tfor (var i = 0; i < (response.data).length; i++) {\n\t\t\t\t\t\t\tvar s = response.data[i];\n\t\t\t\t\t\t\tapp.snippets.push({ id: s.id, name: s.attributes.name, sType: s.attributes.type, type: 'snippets' });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalStorage.setItem('snippets', JSON.stringify(app.snippets));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t};\n\n\tapp.getDatatypes = function() {\n\t\tif (app.datatypes.length == 0) {\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\t\tvar url = `${app.baseUrl}/${app.api_version}/datatypes/`;\n\t\t\tfetch(url, myInit)\n\t\t\t\t.then(\n\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tif (response.data) {\n\t\t\t\t\t\tfor (var i = 0; i < (response.data).length; i++) {\n\t\t\t\t\t\t\tvar d = response.data[i];\n\t\t\t\t\t\t\tapp.datatypes.push({ name: d.id, value: d.attributes.name, classification: d.attributes.classification, type: d.attributes.type });\n\t\t\t\t\t\t}\n\t\t\t\t\t\t(app.datatypes) = (app.datatypes).sort(function(a, b) {\n\t\t\t\t\t\t\tif (a.value.toLowerCase() < b.value.toLowerCase()) { return -1; }\n\t\t\t\t\t\t\tif (a.value.toLowerCase() > b.value.toLowerCase()) { return 1; }\n\t\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlocalStorage.setItem('datatypes', JSON.stringify(app.datatypes));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t};\n\n\tapp.getSources = function() {\n\t\tif ((app.isLogged || localStorage.getItem('bearer'))) {\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\t\tvar url = `${app.baseUrl}/${app.api_version}/sources/?size=99999`;\n\t\t\tfetch(url, myInit)\n\t\t\t\t.then(\n\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tif (response.data) {\n\t\t\t\t\t\tapp.sources = new Array();\n\t\t\t\t\t\tfor (var i = 0; i < (response.data).length; i++) {\n\t\t\t\t\t\t\tvar s = response.data[i];\n\t\t\t\t\t\t\tapp.sources.push({ id: s.id, name: s.attributes.name, version: s.attributes.version, subversions: s.attributes.subversions });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlocalStorage.setItem('sources', JSON.stringify(app.sources));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t};\n\n\tapp.getCard = function(card) {\n\t\tvar output = \"\";\n\t\tif (typeof card.className !== \"undefined\") {\n\t\t\toutput += \"<div class=\\\"\" + card.className + \"\\\">\";\n\t\t} else {\n\t\t\toutput += \"<div class=\\\"mdl-grid mdl-cell\\\">\";\n\t\t}\n\t\toutput += \"\t<div class=\\\"mdl-card mdl-shadow--2dp\\\">\";\n\t\tif (card.image) {\n\t\t\toutput += \"\t<div class=\\\"mdl-card__title\\\" style=\\\"background:url(\" + card.image + \") no-repeat 50% 50%;\\\">\";\n\t\t} else {\n\t\t\toutput += \"\t<div class=\\\"mdl-card__title\\\">\";\n\t\t}\n\t\toutput += \"\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\" + card.title + \"</h3>\";\n\t\toutput += \"\t\t</div>\";\n\t\toutput += \"  \t<div class=\\\"mdl-card__supporting-text mdl-card--expand\\\">\" + card.description + \"</div>\";\n\t\tif (card.url || card.secondaryaction || card.action) {\n\t\t\toutput += \"  \t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\t\tif (card.url) {\n\t\t\t\toutput += \"\t\t<a href=\\\"\" + card.url + \"\\\"> Get Started</a>\";\n\t\t\t}\n\t\t\tif (card.secondaryaction) {\n\t\t\t\toutput += \"\t\t<a href=\\\"#\\\" onclick=\\\"app.setSection('\" + card.secondaryaction.id + \"');\\\" class=\\\"mdl-button mdl-button--colored\\\"> \" + card.secondaryaction.label + \"</a>&nbsp;\";\n\t\t\t}\n\t\t\tif (card.action && !card.internalAction) {\n\t\t\t\toutput += \"\t\t<button class=\\\"mdl-button mdl-js-button mdl-js-ripple-effect\\\" onclick=\\\"app.setSection('\" + card.action.id + \"');\\\"> \" + card.action.label + \"</button>\";\n\t\t\t}\n\t\t\tif (card.internalAction) {\n\t\t\t\toutput += \"\t\t<button class=\\\"mdl-button mdl-js-button mdl-js-ripple-effect\\\" onclick=\\\"\" + card.internalAction + \"\\\"> \" + card.action.label + \"</button>\";\n\t\t\t}\n\t\t\toutput += \"\t\t</div>\";\n\t\t}\n\t\toutput += \"\t\t</div>\";\n\t\toutput += \"</div>\";\n\t\treturn output;\n\t};\n\n\tapp.displayChip = function(chip) {\n\t\tvar chipElt = document.createElement('div');\n\t\tchipElt.setAttribute('class', 'mdl-chip');\n\t\tchipElt.setAttribute('data-id', chip.id);\n\t\tchipElt.innerHTML = \"<i class='material-icons md-18'>\" + app.icons[chip.type] + \"</i>\" + chip.name + \"<i class='material-icons close'>close</i>\";\n\t\tchipElt.querySelector('i.close').addEventListener('click', function(evt) {\n\t\t\tevt.preventDefault();\n\t\t\tevt.target.parentNode.remove();\n\t\t}, false);\n\t\treturn chipElt;\n\t};\n\n\tapp.addChipTo = function(container, chip) {\n\t\tdocument.getElementById(container).append(app.displayChip(chip));\n\t};\n\n\tapp.removeChipFrom = function(container) {\n\t\twhile (document.getElementById(container).firstChild) { document.getElementById(container).removeChild(document.getElementById(container).firstChild); }\n\t};\n\n\tapp.displayChipSnippet = function(chipSnippet) {\n\t\tvar displayChipSnippet = document.createElement('div');\n\t\tdisplayChipSnippet.setAttribute('class', 'mdl-chip mdl-list__item');\n\t\tdisplayChipSnippet.setAttribute('style', 'width: 100%; text-overflow: ellipsis; display: flex;');\n\t\tdisplayChipSnippet.setAttribute('draggable', true);\n\t\tdisplayChipSnippet.setAttribute('data-id', chipSnippet.id);\n\t\tdisplayChipSnippet.setAttribute('data-stype', chipSnippet.sType);\n\t\tdisplayChipSnippet.innerHTML = \"<i class='md-36 grippy'></i>\" +\n\t\t\t\"<i class='material-icons md-36' id='type-\" + chipSnippet.id + \"'>\" + app.icons[chipSnippet.type] + \"</i> <div class='mdl-tooltip mdl-tooltip--top' for='type-\" + chipSnippet.id + \"'>\" + chipSnippet.type + \" (\" + chipSnippet.sType + \")</div>\" +\n\t\t\t\"<span>\" + chipSnippet.name + \" (\" + chipSnippet.sType + \")</span>\" +\n\t\t\t\"<i class='material-icons close mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect' id='remove-\" + chipSnippet.id + \"'>close</i> <div class='mdl-tooltip mdl-tooltip--top' for='remove-\" + chipSnippet.id + \"'>Remove this \" + chipSnippet.type + \"</div>\" +\n\t\t\t\"<i class='material-icons edit mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect' id='edit-\" + chipSnippet.id + \"'>edit</i> <div class='mdl-tooltip mdl-tooltip--top' for='edit-\" + chipSnippet.id + \"'>Edit this \" + chipSnippet.type + \"</div>\";\n\t\tdisplayChipSnippet.querySelector('i.close').addEventListener('click', function(evt) {\n\t\t\tevt.preventDefault();\n\t\t\tevt.target.parentNode.parentNode.remove();\n\t\t}, false);\n\t\tdisplayChipSnippet.querySelector('i.edit').addEventListener('click', function(evt) {\n\t\t\tevt.preventDefault();\n\t\t\tapp.resources.snippets.display(\n\t\t\t\tapp.getSnippetIdFromIndex(evt.target.parentNode.parentNode.getAttribute('data-id')),\n\t\t\t\tfalse,\n\t\t\t\ttrue,\n\t\t\t\tfalse\n\t\t\t);\n\t\t}, false);\n\n\t\treturn displayChipSnippet;\n\t};\n\n\t/* Sort Snippets */\n\tvar dragSrcEl = null;\n\tapp.handleDragStart = function(e) {\n\t\t// Target (this) element is the source node.\n\t\tdragSrcEl = this;\n\t\te.dataTransfer.effectAllowed = 'move';\n\t\te.dataTransfer.setData('text/html', this.outerHTML);\n\t\tthis.classList.add('dragElem');\n\t};\n\tapp.handleDragOver = function(e) {\n\t\tif (e.preventDefault) {\n\t\t\te.preventDefault(); // Necessary. Allows us to drop.\n\t\t}\n\t\tthis.classList.add('over');\n\t\te.dataTransfer.dropEffect = 'move'; // See the section on the DataTransfer object.\n\t\treturn false;\n\t};\n\tapp.handleDragEnter = function(e) {\n\t\t// this / e.target is the current hover target.\n\t};\n\tapp.handleDragLeave = function(e) {\n\t\tthis.classList.remove('over'); // this / e.target is previous target element.\n\t}\n\tapp.handleDrop = function(e) {\n\t\t// this/e.target is current target element.\n\t\tif (e.stopPropagation) {\n\t\t\te.stopPropagation(); // Stops some browsers from redirecting.\n\t\t}\n\t\t// Don't do anything if dropping the same column we're dragging.\n\t\tif (dragSrcEl != this) {\n\t\t\t// Set the source column's HTML to the HTML of the column we dropped on.\n\t\t\t//alert(this.outerHTML);\n\t\t\t//dragSrcEl.innerHTML = this.innerHTML;\n\t\t\t//this.innerHTML = e.dataTransfer.getData('text/html');\n\t\t\tthis.parentNode.removeChild(dragSrcEl);\n\t\t\tvar dropHTML = e.dataTransfer.getData('text/html');\n\t\t\tthis.insertAdjacentHTML('beforebegin', dropHTML);\n\t\t\tvar dropElem = this.previousSibling;\n\t\t\tapp.addDnDHandlers(dropElem);\n\t\t}\n\t\tthis.classList.remove('over');\n\t\treturn false;\n\t};\n\tapp.handleDragEnd = function(e) {\n\t\t// this/e.target is the source node.\n\t\tthis.classList.remove('over');\n\t\t/*[].forEach.call(cols, function (col) {\n\t\t\tcol.classList.remove('over');\n\t\t});*/\n\t};\n\tapp.addDnDHandlers = function(e) {\n\t\te.addEventListener('dragstart', app.handleDragStart, false);\n\t\te.addEventListener('dragenter', app.handleDragEnter, false)\n\t\te.addEventListener('dragover', app.handleDragOver, false);\n\t\te.addEventListener('dragleave', app.handleDragLeave, false);\n\t\te.addEventListener('drop', app.handleDrop, false);\n\t\te.addEventListener('dragend', app.handleDragEnd, false);\n\t};\n\t/* END Sorting */\n\n\tapp.addChipSnippetTo = function(container, chipSnippet) {\n\t\tdocument.getElementById(container).append(app.displayChipSnippet(chipSnippet));\n\t};\n\tapp.getSnippetIdFromIndex = function(index) {\n\t\treturn ((JSON.parse(localStorage.getItem('snippets')))[index]).id;\n\t};\n\n\tapp.fetchItemsPaginated = function(type, filter, page, size) {\n\t\tlet promise = new Promise((resolve, reject) => {\n\t\t\tif (type !== \"objects\" && type !== \"flows\" && type !== \"dashboards\" && type !== \"snippets\" && type !== \"rules\" && type !== \"mqtts\" && type !== \"sources\" && type !== \"stories\") {\n\t\t\t\tresolve();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tapp.initNewSection(type);\n\n\t\t\tsize = size !== undefined ? size : app.itemsSize[type];\n\t\t\tpage = page !== undefined ? page : app.itemsPage[type];\n\n\t\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\t\tapp.containers.spinner.classList.remove('hidden');\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\t\tvar defaultCard = {};\n\n\t\t\tif (type == 'objects') {\n\t\t\t\tvar container = (app.containers.objects).querySelector('.page-content');\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/objects`;\n\n\t\t\t\tif (page || size || filter) {\n\t\t\t\t\turl += '?';\n\t\t\t\t\tif (filter !== undefined) {\n\t\t\t\t\t\turl += 'name=' + escape(filter) + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (page !== undefined) {\n\t\t\t\t\t\turl += 'page=' + page + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (size !== undefined) {\n\t\t\t\t\t\turl += 'size=' + size + '&';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar title = 'My Objects';\n\t\t\t\tif (app.isLogged) defaultCard = { title: title, titlecolor: '#ffffff', description: 'Hey, it looks you don\\'t have any Object yet.', internalAction: false, action: { id: 'object_add', label: '<i class=\\'material-icons\\'>add</i>Add my first Object' }, className: \"mdl-grid mdl-cell mdl-cell--12-col\" };\n\t\t\t\telse defaultCard = { title: 'Connected Objects', titlecolor: '#ffffff', description: 'Connecting anything physical or virtual to t6 Api without any hassle. Embedded, Automatization, Domotic, Sensors, any Objects or Devices can be connected and communicate to t6 via RESTful API. Unic and dedicated application to rules them all and designed to simplify your journey.', className: \"mdl-grid mdl-cell mdl-cell--12-col\" }; // ,\n\n\t\t\t} else if (type == 'flows') {\n\t\t\t\tvar container = (app.containers.flows).querySelector('.page-content');\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/flows`;\n\t\t\t\tif (page || size || filter) {\n\t\t\t\t\turl += '?';\n\t\t\t\t\tif (filter !== undefined) {\n\t\t\t\t\t\turl += 'name=' + escape(filter) + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (page !== undefined) {\n\t\t\t\t\t\turl += 'page=' + page + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (size !== undefined) {\n\t\t\t\t\t\turl += 'size=' + size + '&';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar title = 'My Flows';\n\t\t\t\tif (app.isLogged) defaultCard = { title: title, titlecolor: '#ffffff', description: 'Hey, it looks you don\\'t have any Flow yet.', internalAction: false, action: { id: 'flow_add', label: '<i class=\\'material-icons\\'>add</i>Add my first Flow' }, className: \"mdl-grid mdl-cell mdl-cell--12-col\" };\n\t\t\t\telse defaultCard = { title: 'Time-series Datapoints', titlecolor: '#ffffff', description: 'Communication becomes easy in the platform with Timestamped values. Flows allows to retrieve and classify data.', className: \"mdl-grid mdl-cell mdl-cell--12-col\" };\n\t\t\t} else if (type == 'dashboards') {\n\t\t\t\tvar container = (app.containers.dashboards).querySelector('.page-content');\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/dashboards`;\n\t\t\t\tif (page || size) {\n\t\t\t\t\turl += '?';\n\t\t\t\t\tif (page !== undefined) {\n\t\t\t\t\t\turl += 'page=' + page + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (size !== undefined) {\n\t\t\t\t\t\turl += 'size=' + size + '&';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar title = 'My Dashboards';\n\t\t\t\tif (app.isLogged) {\n\t\t\t\t\tdefaultCard = { title: title, titlecolor: '#ffffff', description: 'Hey, it looks you don\\'t have any dashboard yet.', internalAction: false, action: { id: 'dashboard_add', label: '<i class=\\'material-icons\\'>add</i>Add my first Dashboard' }, className: \"mdl-grid mdl-cell mdl-cell--12-col\" };\n\t\t\t\t} else {\n\t\t\t\t\tdefaultCard = { title: 'Dashboards', titlecolor: '#ffffff', description: 't6 support multiple Snippets to create your own IoT Dashboards for data visualization. Snippets are ready to Use Html components integrated into the application. Dashboards allows to empower your data-management by Monitoring and Reporting activities.', className: \"mdl-grid mdl-cell mdl-cell--12-col\" };\n\t\t\t\t}\n\t\t\t} else if (type == 'snippets') {\n\t\t\t\tvar container = (app.containers.snippets).querySelector('.page-content');\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/snippets`;\n\t\t\t\tif (page || size) {\n\t\t\t\t\turl += '?';\n\t\t\t\t\tif (page !== undefined) {\n\t\t\t\t\t\turl += 'page=' + page + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (size !== undefined) {\n\t\t\t\t\t\turl += 'size=' + size + '&';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar title = 'My Snippets';\n\t\t\t\tif (app.isLogged) defaultCard = { title: title, titlecolor: '#ffffff', description: 'Hey, it looks you don\\'t have any snippet yet.', internalAction: false, action: { id: 'snippet_add', label: '<i class=\\'material-icons\\'>add</i>Add my first Snippet' } };\n\t\t\t\telse defaultCard = { title: 'Customize Snippets', titlecolor: '#ffffff', description: 'Snippets are components to embed into your dashboards and displays your data', className: \"mdl-grid mdl-cell mdl-cell--12-col\" }; // ,\n\n\t\t\t} else if (type == 'rules') {\n\t\t\t\tvar container = (app.containers.rules).querySelector('.page-content');\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/rules`;\n\t\t\t\tif (page || size) {\n\t\t\t\t\turl += '?';\n\t\t\t\t\tif (page !== undefined) {\n\t\t\t\t\t\turl += 'page=' + page + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (size !== undefined) {\n\t\t\t\t\t\turl += 'size=' + size + '&';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar title = 'My Rules';\n\t\t\t\tif (app.isLogged) defaultCard = { title: title, titlecolor: '#ffffff', description: 'Hey, it looks you don\\'t have any rule yet.', internalAction: false, action: { id: 'rule_add', label: '<i class=\\'material-icons\\'>add</i>Add my first Rule' }, className: \"mdl-grid mdl-cell mdl-cell--12-col\" };\n\t\t\t\telse defaultCard = { title: 'Decision Rules to get smart', titlecolor: '#ffffff', description: 'Trigger action from Mqtt and decision-tree. Let\\'s your Objects talk to the platform as events.', className: \"mdl-grid mdl-cell mdl-cell--12-col\" }; // ,\n\n\t\t\t} else if (type == 'mqtts') {\n\t\t\t\tvar container = (app.containers.mqtts).querySelector('.page-content');\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/mqtts`;\n\t\t\t\tif (page || size) {\n\t\t\t\t\turl += '?';\n\t\t\t\t\tif (page !== undefined) {\n\t\t\t\t\t\turl += 'page=' + page + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (size !== undefined) {\n\t\t\t\t\t\turl += 'size=' + size + '&';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar title = 'My Mqtts';\n\t\t\t\tif (app.isLogged) defaultCard = { title: title, titlecolor: '#ffffff', description: 'Hey, it looks you don\\'t have any mqtt topic yet.', action: { id: 'mqtt_add', label: '<i class=\\'material-icons\\'>add</i>Add my first Mqtt' }, className: \"mdl-grid mdl-cell mdl-cell--12-col\" };\n\t\t\t\telse defaultCard = { title: 'Sense events', titlecolor: '#ffffff', description: 'Whether it\\'s your own sensors or external Flows from Internet, sensors collect values and communicate them to t6.', className: \"mdl-grid mdl-cell mdl-cell--12-col\" }; // ,\n\n\t\t\t} else if (type == 'sources') {\n\t\t\t\tvar container = (app.containers.sources).querySelector('.page-content');\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/sources`;\n\t\t\t\tif (page || size) {\n\t\t\t\t\turl += '?';\n\t\t\t\t\tif (page !== undefined) {\n\t\t\t\t\t\turl += 'page=' + page + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (size !== undefined) {\n\t\t\t\t\t\turl += 'size=' + size + '&';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar title = 'My Sources';\n\t\t\t\tif (app.isLogged) defaultCard = { title: title, titlecolor: '#ffffff', description: 'Hey, it looks you don\\'t have any source yet.', action: { id: 'source_add', label: '<i class=\\'material-icons\\'>add</i>Add my first Source' }, className: \"mdl-grid mdl-cell mdl-cell--12-col\" };\n\t\t\t\telse defaultCard = { title: 'Code Source', titlecolor: '#ffffff', description: 'Deploy Arduino source Over The Air.', className: \"mdl-grid mdl-cell mdl-cell--12-col\" }; // ,\n\n\t\t\t} else if (type == 'stories') {\n\t\t\t\tvar container = (app.containers.stories).querySelector('.page-content');\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/stories`;\n\t\t\t\tif (page || size) {\n\t\t\t\t\turl += '?';\n\t\t\t\t\tif (page !== undefined) {\n\t\t\t\t\t\turl += 'page=' + page + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (size !== undefined) {\n\t\t\t\t\t\turl += 'size=' + size + '&';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar title = 'My stories';\n\t\t\t\tif (app.isLogged) defaultCard = { title: title, titlecolor: '#ffffff', description: 'Hey, it looks you don\\'t have any story yet.', action: { id: 'story_add', label: '<i class=\\'material-icons\\'>add</i>Add my first story' }, className: \"mdl-grid mdl-cell mdl-cell--12-col\" };\n\t\t\t\telse defaultCard = { title: 'Stories', titlecolor: '#ffffff', description: 'Discover your data through auto generated stories', className: \"mdl-grid mdl-cell mdl-cell--12-col\" }; // ,\n\n\t\t\t} else if (type == 'tokens') {\n\t\t\t\tvar container = (app.containers.tokens).querySelector('.page-content');\n\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/tokens`;\n\t\t\t\tif (page || size) {\n\t\t\t\t\turl += '?';\n\t\t\t\t\tif (page !== undefined) {\n\t\t\t\t\t\turl += 'page=' + page + '&';\n\t\t\t\t\t}\n\t\t\t\t\tif (size !== undefined) {\n\t\t\t\t\t\turl += 'size=' + size + '&';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar title = 'My tokens';\n\t\t\t\tif (app.isLogged) defaultCard = { title: title, titlecolor: '#ffffff', description: 'Hey, it looks you don\\'t have any token yet.', action: { id: 'token_add', label: '<i class=\\'material-icons\\'>add</i>Add my first Token' }, className: \"mdl-grid mdl-cell mdl-cell--12-col\" };\n\t\t\t\telse defaultCard = { title: 'Sense events', titlecolor: '#ffffff', description: 'Whether it\\'s your own sensors or external Flows from Internet, sensors collect values and communicate them to t6.', className: \"mdl-grid mdl-cell mdl-cell--12-col\" }; // ,\n\n\t\t\t} else if (type == 'status') {\n\t\t\t\tvar icon = app.icons.status;\n\t\t\t\tvar container = (app.containers.status).querySelector('.page-content');\n\t\t\t\tdefaultCard = {};\n\t\t\t\tapp.getStatus();\n\n\t\t\t} else {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log('DEBUG Error no Type defined: ' + type);\n\t\t\t\t\ttoast('Error no Type defined.', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t\ttype = undefined;\n\t\t\t}\n\n\t\t\tif (!navigator.onLine) {\n\t\t\t\tcontainer.innerHTML = app.getCard(app.offlineCard);\n\t\t\t} else {\n\t\t\t\tif (app.isLogged && type !== undefined) {\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tif (page == 1) {\n\t\t\t\t\t\t\t\tcontainer.innerHTML = \"\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (!response.data || (response.data && (response.data).length == 0)) {\n\t\t\t\t\t\t\t\tcontainer.innerHTML = app.getCard(defaultCard);\n\t\t\t\t\t\t\t\tapp.displayLoginForm(container);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (var i = 0; i < (response.data).length; i++) {\n\t\t\t\t\t\t\t\t\tcontainer.innerHTML += (app.resources)[type].displayItem(response.data[i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tapp.showAddFAB(type);\n\t\t\t\t\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\t\t\t\t\tapp.setItemsClickAction(type);\n\t\t\t\t\t\t\t\tapp.setListActions(type);\n\t\t\t\t\t\t\t\tif (type == 'snippets') {\n\t\t\t\t\t\t\t\t\tapp.snippets = [];\n\t\t\t\t\t\t\t\t\t(response.data).map(function(snippet) {\n\t\t\t\t\t\t\t\t\t\tapp.snippets.push({ id: snippet.id, name: snippet.attributes.name, sType: snippet.attributes.type, type: snippets.attributes.type });\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('snippets', JSON.stringify(app.snippets));\n\t\t\t\t\t\t\t\t} else if (type == 'flows') {\n\t\t\t\t\t\t\t\t\tapp.flows = [];\n\t\t\t\t\t\t\t\t\t(response.data).map(function(flow) {\n\t\t\t\t\t\t\t\t\t\tapp.flows.push({ id: flow.id, name: flow.attributes.name, ttl: flow.attributes.ttl, unit: flow.attributes.unit, type: flow.attributes.type });\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem('flows', JSON.stringify(app.flows));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\t\t\ttoast('fetchItemsPaginated ' + type + ' error occured...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcontainer.innerHTML = app.getCard(defaultCard);\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn promise;\n\t};\n\n\tapp.getObjectsMaps = function() {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tapp.getLocation();\n\t\t\n\t\tvar container = (app.containers.objectsMaps).querySelector('.page-content');\n\t\tlet objectsMaps = \"\";\n\t\tobjectsMaps += app.getSubtitle(\"Locate Objects\");\n\t\tobjectsMaps += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" style=\\\"padding-bottom: 50px !important;\\\">\";\n\t\tobjectsMaps += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tobjectsMaps += \"\t<div class=\\\"card-header heading-left\\\">&nbsp;</div>\";\n\t\tobjectsMaps += app.getMap(\"my_location\", \"osmLocateObjects\", parseFloat(app.defaultResources.object.attributes.longitude), parseFloat(app.defaultResources.object.attributes.latitude), false, false, false);\n\t\tobjectsMaps += \"\t</div>\";\n\t\tobjectsMaps += \"</section>\";\n\t\tcontainer.innerHTML = objectsMaps;\n\t\t\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\tvar url = `${app.baseUrl}/${app.api_version}/objects/`;\n\t\tvar map;\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tif (response.data) {\n\t\t\t\t\tlet objectsLocation = [];\n\t\t\t\t\tfor (var i = 0; i < (response.data).length; i++) {\n\t\t\t\t\t\tvar object = response.data[i];\n\t\t\t\t\t\tif (object.attributes.latitude && object.attributes.longitude) {\n\t\t\t\t\t\t\tobjectsLocation.push({ id: object.id, name: object.attributes.name, latitude: object.attributes.latitude, longitude: object.attributes.longitude });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\tvar container = L.DomUtil.get(\"osmLocateObjects\");\n\t\t\t\t\tif(typeof container !== \"undefined\") {\n\t\t\t\t\t\tcontainer._leaflet_id = null;\n\t\t\t\t\t}\n\t\t\t\t\tmap = L.map(\"osmLocateObjects\").setView([parseFloat(app.defaultResources.object.attributes.latitude), parseFloat(app.defaultResources.object.attributes.longitude)], 13);\n\t\t\t\t\tL.tileLayer('https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png', {\n\t\t\t\t\t\tattribution: '© <a href=\"//osm.org/copyright\">OpenStreetMap</a>',\n\t\t\t\t\t\tminZoom: 1,\n\t\t\t\t\t\tmaxZoom: 20,\n\t\t\t\t\t\ttrackResize: true,\n\t\t\t\t\t\tdragging: true\n\t\t\t\t\t}).addTo(map);\n\t\t\t\t\tlet popup = L.popup();\n\t\t\t\t\tlet CustomIcon = L.Icon.extend({\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tshadowUrl:\t\t\"/img/m/marker-shadow.png\",\n\t\t\t\t\t\t\ticonSize:\t\t[25, 41],\n\t\t\t\t\t\t\tshadowSize:\t\t[41, 41],\n\t\t\t\t\t\t\ticonAnchor:\t\t[20, 20],\n\t\t\t\t\t\t\tshadowAnchor:\t[20, 20],\n\t\t\t\t\t\t\tpopupAnchor:\t[0, -20]\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tlet bounds = new L.LatLngBounds();\n\t\t\t\t\tlet mIcon = new CustomIcon({iconUrl: \"/img/m/marker-icon.png\"});\n\t\t\t\t\tobjectsLocation.map(function(obj) {\n\t\t\t\t\t\tlet marker = L.marker([parseFloat(obj.latitude), parseFloat(obj.longitude)], {icon: mIcon, draggable: false}).bindPopup(`${obj.name}<br /><a href=\"javascript:app.resources.objects.display('${obj.id}', false, false, false);\">Details</a>`).addTo(map);\n\t\t\t\t\t\tbounds.extend(marker.getLatLng());\n\t\t\t\t\t});\n\t\t\t\t\tmap.fitBounds(bounds);\n\t\t\t\t\tsetTimeout(function() {map.invalidateSize(true);}, 1000);\n\t\t\t\t}\n\t\t\t});\n\n\t\tcomponentHandler.upgradeDom();\n\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\n\t};\n\n\tapp.getUsersList = function() {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\tvar container = (app.containers.usersList).querySelector('.page-content');\n\t\tvar url = `${app.baseUrl}/${app.api_version}/users/list`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tvar usersList = \"\";\n\t\t\t\tdocument.title = app.sectionsPageTitles['users-list'];\n\t\t\t\tfor (var i = 0; i < (response.data).length; i++) {\n\t\t\t\t\tvar user = response.data[i];\n\t\t\t\t\tvar num = (response.links.meta.count) - i;\n\t\t\t\t\tusersList += \"<div class=\\\"mdl-grid mdl-cell\\\" data-action=\\\"nothing\\\" data-type=\\\"user\\\" data-id=\\\"\" + user.id + \"\\\">\";\n\t\t\t\t\tusersList += \"\t<div class=\\\"mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tusersList += \"\t\t<div class=\\\"mdl-card__title\\\">\";\n\t\t\t\t\tusersList += \"\t\t\t<i class=\\\"material-icons\\\">perm_identity</i>\";\n\t\t\t\t\tusersList += \"\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\" + num + \". \" + user.attributes.first_name + \" \" + user.attributes.last_name + \"</h3>\";\n\t\t\t\t\tusersList += \"\t\t</div>\";\n\t\t\t\t\tusersList += \"\t\t<div class=\\\"mdl-card__title\\\"><img src=\\\"//secure.gravatar.com/avatar/\" + hex_md5(user.attributes.email) + \"\\\" alt=\\\"\\\" class=\\\"user-image\\\"></div>\";\n\t\t\t\t\tusersList += app.getField('card_membership', 'User id', user.id, { type: 'text', style: \"text-transform: none !important;\", isEdit: false });\n\t\t\t\t\tusersList += app.getField('mail', 'Email', user.attributes.email, { type: 'text', style: \"text-transform: none !important;\", isEdit: false });\n\t\t\t\t\tif (user.attributes.push_subscription && typeof user.attributes.push_subscription === \"object\" && typeof user.attributes.push_subscription.keys === \"object\" && typeof user.attributes.push_subscription.keys.auth === \"string\") {\n\t\t\t\t\t\tusersList += app.getField('sms', 'Push notification Auth', user.attributes.push_subscription.keys.auth, { type: 'text', style: \"text-transform: none !important;\", isEdit: false });\n\t\t\t\t\t}\n\t\t\t\t\tif (user.attributes.location) {\n\t\t\t\t\t\tif (user.attributes.location.geo) {\n\t\t\t\t\t\t\tusersList += app.getField('my_location', 'Location', user.attributes.location.geo.city + \" (\" + user.attributes.location.geo.country + \")\", { type: 'text', isEdit: false });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (user.attributes.location.ip) {\n\t\t\t\t\t\t\tusersList += app.getField('dns', 'IP address', user.attributes.location.ip, { type: 'text', isEdit: false });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tusersList += app.getField('contact_mail', 'Password last update', moment((user.attributes.password_last_updated) / 1).format(app.date_format), { type: 'text', isEdit: false });\n\t\t\t\t\tusersList += app.getField('contact_mail', 'Reminder Email', moment((user.attributes.reminder_mail) / 1).format(app.date_format), { type: 'text', isEdit: false });\n\t\t\t\t\tusersList += app.getField('change_history', 'Password reset request', moment((user.attributes.change_password_mail) / 1).format(app.date_format), { type: 'text', isEdit: false });\n\t\t\t\t\tusersList += app.getField('new_releases', 'Newsletter', ((user.attributes.unsubscription) && (typeof user.attributes.unsubscription.newsletter !== \"undefined\")) ? \"Unsubscribed \" + moment((user.attributes.unsubscription.newsletter) / 1).format(app.date_format) : \"Subscribed\", { type: 'text', isEdit: false });\n\n\t\t\t\t\tusersList += \"\t\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\t\t\t\tusersList += \"\t\t\t<span class=\\\"pull-left mdl-card__date\\\">\";\n\t\t\t\t\tusersList += \"\t\t\t\t<button data-id=\\\"\" + user.id + \"\\\" class=\\\"swapDate mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\t\t\t\tusersList += \"\t\t\t\t\t<i class=\\\"material-icons\\\">update</i>\";\n\t\t\t\t\tusersList += \"\t\t\t\t</button>\";\n\t\t\t\t\tusersList += \"\t\t\t\t<span data-date=\\\"created\\\" class=\\\"visible\\\">Subscribed on \" + moment((user.attributes.subscription_date) / 1).format(app.date_format) + \"</span>\";\n\t\t\t\t\tusersList += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Password last update on \" + moment((user.attributes.password_last_updated) / 1).format(app.date_format) + \"</span>\";\n\t\t\t\t\tusersList += \"\t\t\t</span>\";\n\t\t\t\t\tusersList += \"\t\t</div>\";\n\t\t\t\t\tusersList += \"\t</div>\";\n\t\t\t\t\tusersList += \"</div>\";\n\t\t\t\t}\n\t\t\t\tcontainer.innerHTML += usersList;\n\n\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\tapp.setItemsClickAction('usersList');\n\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast('getUsersList error out...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.fetchProfile = function() {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tapp.initNewSection(\"profile\");\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\tvar container = (app.containers.profile).querySelector('.page-content');\n\t\tvar url = `${app.baseUrl}/${app.api_version}/users/me/token`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tif (!navigator.onLine) {\n\t\t\t\t\tcontainer.innerHTML = app.getCard(app.offlineCard);\n\t\t\t\t} else {\n\t\t\t\t\tvar user = response.data;\n\t\t\t\t\tvar gravatar = user.attributes.gravatar.entry[0];\n\t\t\t\t\tvar node = \"\";\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp card card-user\\\">\";\n\t\t\t\t\tif (gravatar.profileBackground) {\n\t\t\t\t\t\tnode += \"\t<div class=\\\"card-heading heading-left\\\" style=\\\"background: url('\" + gravatar.profileBackground.url + \"') 50% 50% !important\\\">\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode += \"\t<div class=\\\"card-heading heading-left\\\" style=\\\"background: url('\" + app.baseUrlCdn + \"/img/opl_img.webp') 50% 50% !important\\\">\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t\t<img src=\\\"//secure.gravatar.com/avatar/\" + hex_md5(user.attributes.email) + \"\\\" alt=\\\"\\\" class=\\\"user-image\\\">\";\n\t\t\t\t\tnode += \"\t\t<h3 class=\\\"card-title text-color-white\\\">\" + user.attributes.first_name + \" \" + user.attributes.last_name + \"</h3>\";\n\t\t\t\t\tif (gravatar.currentLocation) {\n\t\t\t\t\t\tnode += \"\t\t<div class=\\\"subhead\\\">\";\n\t\t\t\t\t\tnode += gravatar.currentLocation;\n\t\t\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t</div>\";\n\n\t\t\t\t\tnode += \"\t<div class=\\\"card-body\\\">\";\n\t\t\t\t\tnode += app.getField('face', 'First name', user.attributes.first_name, { type: 'input', id: 'firstName', isEdit: true, pattern: app.patterns.name, error: 'Must be greater than 3 chars.' });\n\t\t\t\t\tnode += app.getField('face', 'Last name', user.attributes.last_name, { type: 'input', id: 'lastName', isEdit: true, pattern: app.patterns.name, error: 'Must be greater than 3 chars.' });\n\t\t\t\t\tnode += app.getField('lock', 'Email', user.attributes.email, { type: 'text', id: 'email', style: 'text-transform: none !important;', isEdit: false });\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\t\t\t\tnode += \"\t\t<a class=\\\"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\\\" id=\\\"saveProfileButton\\\"><i class=\\\"material-icons\\\">edit</i>Save t6 profile</a>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\tnode += app.getSubtitle('Gravatar contacts');\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp card card-user\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"card-header heading-left\\\">&nbsp;</div>\";\n\t\t\t\t\tnode += \"\t<div class=\\\"card-body\\\">\";\n\t\t\t\t\tfor (var phone in gravatar.phoneNumbers) {\n\t\t\t\t\t\tnode += app.getField('phone', gravatar.phoneNumbers[phone].type, gravatar.phoneNumbers[phone].value, { type: 'text', isEdit: false });\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t\t<ul class=\\\"social-links\\\">\";\n\t\t\t\t\tfor (var account in gravatar.accounts) {\n\t\t\t\t\t\tnode += \"\t\t<li><a href=\\\"\" + gravatar.accounts[account].url + \"\\\"><i class=\\\"material-icons mdl-textfield__icon\\\">link</i><span class=\\\"mdl-list__item-sub-title\\\">\" + gravatar.accounts[account].shortname + \"</span></a></li>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t\t</ul>\";\n\t\t\t\t\tnode += \"\t\t<ul class='social-links'>\";\n\t\t\t\t\tfor (var url in gravatar.urls) {\n\t\t\t\t\t\tnode += \"\t\t<li><a href=\\\"\" + gravatar.urls[url].value + \"\\\" target=\\\"_blank\\\"><i class=\\\"material-icons\\\">bookmark</i><span class=\\\"mdl-list__item-sub-title\\\">\" + gravatar.urls[url].title + \"</span></a></li>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t\t</ul>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\t\t\t\tnode += \"\t\t<a class=\\\"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\\\" href=\\\"\" + gravatar.profileUrl + \"\\\" target=\\\"_blank\\\"><i class=\\\"material-icons\\\">launch</i>Edit my gravatar</a>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\tcontainer.innerHTML = node;\n\t\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\t\t// Profile Storage\n\t\t\t\t\tlocalStorage.setItem('currentUserId', user.id);\n\t\t\t\t\tlocalStorage.setItem(\"currentUserName\", user.attributes.first_name + \" \" + user.attributes.last_name);\n\t\t\t\t\tlocalStorage.setItem(\"currentUserEmail\", user.attributes.email);\n\t\t\t\t\tlocalStorage.setItem(\"notifications.email\", user.attributes.email);\n\t\t\t\t\tlocalStorage.setItem(\"notifications.unsubscription_token\", user.attributes.unsubscription_token);\n\t\t\t\t\tlocalStorage.setItem(\"currentUserHeader\", gravatar.photos[0].value);\n\t\t\t\t\tif (gravatar.profileBackground && gravatar.profileBackground.url) {\n\t\t\t\t\t\tlocalStorage.setItem(\"currentUserBackground\", gravatar.profileBackground.url);\n\t\t\t\t\t}\n\t\t\t\t\tif (app.gtm && app.getCookie('cookieconsentNoGTM') !== \"true\" && typeof self.dataLayer !== \"undefined\" && firebaseConfig) {\n\t\t\t\t\t\tself.dataLayer.push({\n\t\t\t\t\t\t\t\"userEmail\": user.attributes.email,\n\t\t\t\t\t\t\t\"userRole\": user.attributes.role,\n\t\t\t\t\t\t\t\"userId\": user.id\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(typeof gtag === \"function\") {\n\t\t\t\t\t\t\tgtag(\"config\", firebaseConfig.measurementId, { 'user_id': user.id });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof firebase !== \"undefined\" && !firebase.apps.length) {\n\t\t\t\t\t\t\tfirebase.analytics().setUserProperties({ 'userId': user.id });\n\t\t\t\t\t\t\tfirebase.analytics().setUserProperties({ 'userRole': user.attributes.role });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof Tawk_API !== \"undefined\" && typeof Tawk_API.setAttributes === \"function\") {\n\t\t\t\t\t\t\tTawk_API.setAttributes({\n\t\t\t\t\t\t\t\t'name': user.attributes.first_name + \" \" + user.attributes.last_name,\n\t\t\t\t\t\t\t\t'email': user.attributes.email\n\t\t\t\t\t\t\t}, function(error) { });\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tapp.setDrawer();\n\t\t\t\t\tapp.fetchSubscriptions();\n\t\t\t\t\tapp.displaySubscriptions((app.containers.profile).querySelector('.page-content'));\n\n\t\t\t\t\tdocument.getElementById(\"saveProfileButton\").addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\tapp.onSaveProfileButtonClick();\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t});\n\n\t\t\t\t\tif (user.attributes.role === \"admin\" && !document.querySelector('#drawer nav a.mdl-navigation__link[href=\"#users-list\"]')) {\n\t\t\t\t\t\tlocalStorage.setItem(\"role\", 'admin');\n\t\t\t\t\t\tapp.addMenuItem('Users Accounts', 'supervisor_account', '#users-list', null);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast('fetchProfile error out...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.fetchSubscriptions = function() {\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\tvar url = `${app.baseUrl}/${app.api_version}/notifications/list/subscribed`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tvar notifications = typeof response.subscription!==\"undefined\"?response.subscription:{};\n\t\t\t\tlocalStorage.setItem(\"notifications.subscribed\", JSON.stringify(notifications));\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast('fetchSubscriptions error' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.displaySubscriptions = function(container) {\n\t\tvar notifications = JSON.parse(app.getSetting('notifications.subscribed'));\n\t\tvar node = \"\";\n\t\tnode += app.getSubtitle('Email Notifications');\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\tnode += \"<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp card card-user\\\">\";\n\t\tnode += \"\t<div class=\\\"card-header heading-left\\\">&nbsp;</div>\";\n\t\tnode += \"\t<div class=\\\"card-body\\\">\";\n\t\tvar value;\n\t\tvar isEdit = true;\n\t\tvalue = (notifications.reminder !== null && typeof notifications.reminder !== \"undefined\" ) ? 'true' : 'false';\n\t\tnode += app.getField('mail_outline', 'Reminder Welcome email', value, { type: 'switch', id: 'profile.notifications.reminder', isEdit: isEdit });\n\n\t\tvalue = (notifications.changePassword !== null && typeof notifications.changePassword !== \"undefined\" ) ? 'true' : 'false';\n\t\tnode += app.getField('mail_outline', 'Reminder to change Password', value, { type: 'switch', id: 'profile.notifications.changePassword', isEdit: isEdit });\n\n\t\tvalue = (notifications.newsletter !== null && typeof notifications.newsletter !== \"undefined\" ) ? 'true' : 'false';\n\t\tnode += app.getField('mail_outline', 't6 Newsletter', value, { type: 'switch', id: 'profile.notifications.newsletter', isEdit: isEdit });\n\n\t\tvalue = (notifications.monthlyreport !== null && typeof notifications.monthlyreport !== \"undefined\" ) ? 'true' : 'false';\n\t\tnode += app.getField('mail_outline', 't6 Monthly Activity Report', value, { type: 'switch', id: 'profile.notifications.monthlyreport', isEdit: isEdit });\n\n\t\tnode += app.getField('mail_outline', 'Security notification related to your account', true, { type: 'switch', id: 'profile.notifications.security', isEdit: false });\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\n\t\tcontainer.innerHTML += node;\n\t\tcomponentHandler.upgradeDom();\n\n\t\tlet element1 = document.getElementById('switch-profile.notifications.reminder').parentNode;\n\t\tif (element1) {\n\t\t\telement1.addEventListener('change', function(e) {\n\t\t\t\tif (app.getSetting('notifications.email') && app.getSetting('notifications.unsubscription_token')) {\n\t\t\t\t\tvar name = 'reminder';\n\t\t\t\t\tvar type = element1.classList.contains('is-checked') !== false ? 'subscribe' : 'unsubscribe';\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\t\t\t\tvar url = app.baseUrl + '/mail/' + app.getSetting('notifications.email') + '/' + type + '/' + name + '/' + app.getSetting('notifications.unsubscription_token') + '/';\n\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t).then(function(response) {\n\t\t\t\t\t\t\ttoast('Subscription ' + name + ' (' + type + ') updated.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\t\t\ttoast('Error occured on saving Notifications...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast('Error occured on saving Notifications...', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tvar element2 = document.getElementById('switch-profile.notifications.changePassword').parentNode;\n\t\tif (element2) {\n\t\t\telement2.addEventListener('change', function(e) {\n\t\t\t\tif (app.getSetting('notifications.email') && app.getSetting('notifications.unsubscription_token')) {\n\t\t\t\t\tvar name = 'changePassword';\n\t\t\t\t\tvar type = element2.classList.contains('is-checked') !== false ? 'subscribe' : 'unsubscribe';\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\t\t\t\tvar url = app.baseUrl + '/mail/' + app.getSetting('notifications.email') + '/' + type + '/' + name + '/' + app.getSetting('notifications.unsubscription_token') + '/';\n\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t).then(function(response) {\n\t\t\t\t\t\t\ttoast('Subscription ' + name + ' (' + type + ') updated.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\t\t\ttoast('Error occured on saving Notifications...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast('Error occured on saving Notifications...', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tlet element3 = document.getElementById('switch-profile.notifications.newsletter').parentNode;\n\t\tif (element3) {\n\t\t\telement3.addEventListener('change', function(e) {\n\t\t\t\tif (app.getSetting('notifications.email') && app.getSetting('notifications.unsubscription_token')) {\n\t\t\t\t\tvar name = 'newsletter';\n\t\t\t\t\tvar type = element3.classList.contains('is-checked') !== false ? 'subscribe' : 'unsubscribe';\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\t\t\t\tvar url = app.baseUrl + '/mail/' + app.getSetting('notifications.email') + '/' + type + '/' + name + '/' + app.getSetting('notifications.unsubscription_token') + '/';\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t).then(function(response) {\n\t\t\t\t\t\t\ttoast('Subscription ' + name + ' (' + type + ') updated.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\t\t\ttoast('Error occured on saving Notifications...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast('Error occured on saving Notifications...', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tapp.setDrawer = function() {\n\t\tif (localStorage.getItem(\"currentUserName\") != 'null') { document.getElementById(\"currentUserName\").innerHTML = localStorage.getItem(\"currentUserName\") }\n\t\telse { document.getElementById(\"currentUserName\").innerHTML = \"t6 IoT App\"; }\n\t\tif (localStorage.getItem(\"currentUserEmail\") != 'null') { document.getElementById(\"currentUserEmail\").innerHTML = localStorage.getItem(\"currentUserEmail\") }\n\t\telse { document.getElementById(\"currentUserEmail\").innerHTML = \"\"; }\n\t\tif (document.getElementById(\"imgIconMenu\") && localStorage.getItem(\"currentUserHeader\") != 'null' && localStorage.getItem(\"currentUserHeader\")) {\n\t\t\tdocument.getElementById(\"currentUserHeader\").setAttribute('src', localStorage.getItem(\"currentUserHeader\"));\n\t\t\tdocument.getElementById(\"imgIconMenu\").outerHTML = \"<img id=\\\"imgIconMenu\\\" src=\\\"\" + localStorage.getItem(\"currentUserHeader\") + \"\\\" alt=\\\"Current user avatar\\\" style=\\\"border-radius: 50%; width: 30px; height: 30px; padding: 0px;border: 2px solid #fff;margin: 0px 0px;\\\">\";\n\t\t}\n\t\telse { document.getElementById(\"currentUserHeader\").setAttribute('src', app.baseUrlCdn + \"/img/m/icons/icon-128x128.png\"); }\n\t\tif (localStorage.getItem(\"currentUserBackground\") !== null) { document.getElementById(\"currentUserBackground\").style.background = \"#795548 url(\" + localStorage.getItem(\"currentUserBackground\") + \") 50% 50% / cover\" }\n\t\telse { document.getElementById(\"currentUserBackground\").style.background = \"#795548 url(\" + app.baseUrlCdn + \"/img/m/side-nav-bg.webp) 50% 50% / cover\" }\n\t};\n\n\tapp.resetDrawer = function() {\n\t\tlocalStorage.removeItem(\"currentUserName\");\n\t\tlocalStorage.removeItem(\"currentUserEmail\");\n\t\tlocalStorage.removeItem(\"currentUserHeader\");\n\t\tlocalStorage.removeItem(\"currentUserBackground\");\n\t\tif (document.getElementById(\"imgIconMenu\")) document.getElementById(\"imgIconMenu\").outerHTML = \"<i id=\\\"imgIconMenu\\\" class=\\\"material-icons\\\">menu</i>\";\n\t\tapp.setDrawer();\n\t};\n\n\tapp.displayLoginForm = function(container) {\n\t\tcontainer.querySelectorAll('form.signin').forEach(function(e) { if (e) { e.parentNode.remove(); } });\n\t\tif (app.isLogged === false) {\n\t\t\tvar login = \"<section class='content-grid mdl-grid'>\" +\n\t\t\t\t\"\t<div class='mdl-layout-spacer'></div>\" +\n\t\t\t\t\"\t<form class='signin'>\" +\n\t\t\t\t\"\t\t<div class='mdl-card mdl-card__title mdl-shadow--2dp'>\" +\n\t\t\t\t\"\t\t\t<img src='\" + app.baseUrlCdn + \"/img/opl_img.webp' alt='t6 Connect your Objects' aria-hidden='true'>\" +\n\t\t\t\t\"\t\t\t<div class='mdl-card__title'>\" +\n\t\t\t\t\"\t\t\t\tConnect your Objects to collect their data and show your own Dashboards.\" +\n\t\t\t\t\"\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t<div class='mdl-card__supporting-text'>\" +\n\t\t\t\t\"\t\t\t\t<div class='mdl-textfield mdl-js-textfield mdl-textfield--floating-label'>\" +\n\t\t\t\t\"\t\t\t\t\t<i class='material-icons mdl-textfield__icon'>lock</i>\" +\n\t\t\t\t\"\t\t\t\t\t<input name='username' inputmode='email' autocomplete='username email' pattern=\\\"\" + app.patterns.username + \"\\\" class='mdl-textfield__input' type='text' id='signin.username'>\" +\n\t\t\t\t\"\t\t\t\t\t<label for='signin.username' class='mdl-textfield__label'>Username</label>\" +\n\t\t\t\t\"\t\t\t\t\t<span class='mdl-textfield__error'>Username should be your email address</span>\" +\n\t\t\t\t\"\t\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t\t<div class='mdl-textfield mdl-js-textfield mdl-textfield--floating-label'>\" +\n\t\t\t\t\"\t\t\t\t\t<i class='material-icons mdl-textfield__icon'>vpn_key</i>\" +\n\t\t\t\t\"\t\t\t\t\t<input name='password' pattern=\\\"\" + app.patterns.password + \"\\\" class='mdl-textfield__input' type='password' autocomplete='current-password' id='signin.password'>\" +\n\t\t\t\t\"\t\t\t\t\t<label for='signin.password' class='mdl-textfield__label'>Password</label>\" +\n\t\t\t\t\"\t\t\t\t\t<span class='mdl-textfield__error'>Password must be provided</span>\" +\n\t\t\t\t\"\t\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t<div class='mdl-card__supporting-text'>\" +\n\t\t\t\t//app.getField(null, \"Notifications\", app.getSetting('settings.notifications')!==undefined?app.getSetting('settings.notifications'):true, {type: 'switch', id:'login.notifications', isEdit: true}) +\n\t\t\t\t\"\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t<div class='mdl-card__supporting-text mdl-grid'>\" +\n\t\t\t\t\"\t\t\t\t<span class='mdl-layout-spacer'></span>\" +\n\t\t\t\t\"\t\t\t\t<button class='login_button mdl-button mdl-js-button mdl-js-ripple-effect'>\" +\n\t\t\t\t\"\t\t\t\t\t<i class='material-icons'>lock</i>Log in\" +\n\t\t\t\t\"\t\t\t\t</button>\" +\n\t\t\t\t\"\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t<div class='mdl-card__actions mdl-card--border'>\" +\n\t\t\t\t\"\t\t\t\t<span class='mdl-layout-spacer'></span>\" +\n\t\t\t\t\"\t\t\t\t<a onclick=\\\"app.setSection('signup');\\\" href='#signup' class='mdl-button small'>Sign Up</a> or \" +\n\t\t\t\t\"\t\t\t\t<a onclick=\\\"app.setSection('forgot-password');\\\" href='#forgot-password' class='mdl-button small'>Reset password</a>\" +\n\t\t\t\t\"\t\t\t</div>\" +\n\t\t\t\t\"\t\t</div>\" +\n\t\t\t\t\"\t</form>\" +\n\t\t\t\t\"\t<div class='mdl-layout-spacer'></div>\" +\n\t\t\t\t\"</section>\";\n\t\t\tcontainer.innerHTML += login;\n\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\tvar updated = document.querySelectorAll('.page-content form div.mdl-js-textfield');\n\t\t\tfor (var i = 0; i < updated.length; i++) {\n\t\t\t\tupdated[i].classList.remove('is-upgraded');\n\t\t\t\tupdated[i].removeAttribute('data-upgraded');\n\t\t\t}\n\t\t\tapp.refreshButtonsSelectors();\n\t\t\tapp.setLoginAction();\n\t\t\tapp.setSignupAction();\n\t\t}\n\t};\n\n\tapp.displayOTPForm = function(container) {\n\t\tcontainer.querySelectorAll('form.otp').forEach(function(e) { if (e) { e.parentNode.remove(); } });\n\t\tif (app.isLogged === false) {\n\t\t\tvar otp = \"<section class='content-grid mdl-grid'>\" +\n\t\t\t\t\"\t<div class='mdl-layout-spacer'></div>\" +\n\t\t\t\t\"\t<form class='otp'>\" +\n\t\t\t\t\"\t\t<div class='mdl-card mdl-card__title mdl-shadow--2dp'>\" +\n\t\t\t\t\"\t\t\t<img src='\" + app.baseUrlCdn + \"/img/opl_img.webp' alt='t6 Connect your Objects' aria-hidden='true'>\" +\n\t\t\t\t\"\t\t\t<div class='mdl-card__title'>\" +\n\t\t\t\t\"\t\t\t\tWe noticed some recent activity on your account that requires additional security measures. To ensure the protection of your account, check you email inbox including the One-Time Password (OTP) for verification purposes. This OTP expires within 5 minutes\" +\n\t\t\t\t\"\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t<div class='mdl-card__supporting-text'>\" +\n\t\t\t\t\"\t\t\t\t<div class='mdl-textfield mdl-js-textfield mdl-textfield--floating-label'>\" +\n\t\t\t\t\"\t\t\t\t\t<i class='material-icons mdl-textfield__icon'>lock</i>\" +\n\t\t\t\t\"\t\t\t\t\t<input name='otp' pattern=\\\"\" + app.patterns.otp + \"\\\" inputmode='otp' class='mdl-textfield__input' type='text' id='otp.otp'>\" +\n\t\t\t\t\"\t\t\t\t\t<label for='otp.otp' class='mdl-textfield__label'>6 digits you have received by email</label>\" +\n\t\t\t\t\"\t\t\t\t\t<span class='mdl-textfield__error'>OTP should be 6 digits long</span>\" +\n\t\t\t\t\"\t\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t<div class='mdl-card__supporting-text'>\" +\n\t\t\t\t//app.getField(null, \"Notifications\", app.getSetting('settings.notifications')!==undefined?app.getSetting('settings.notifications'):true, {type: 'switch', id:'login.notifications', isEdit: true}) +\n\t\t\t\t\"\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t<div class='mdl-card__supporting-text mdl-grid'>\" +\n\t\t\t\t\"\t\t\t\t<span class='mdl-layout-spacer'></span>\" +\n\t\t\t\t\"\t\t\t\t<button class='login_button mdl-button mdl-js-button mdl-js-ripple-effect'>\" +\n\t\t\t\t\"\t\t\t\t\t<i class='material-icons'>lock</i>Log in\" +\n\t\t\t\t\"\t\t\t\t</button>\" +\n\t\t\t\t\"\t\t\t</div>\" +\n\t\t\t\t\"\t\t\t<div class='mdl-card__actions mdl-card--border'>\" +\n\t\t\t\t\"\t\t\t\t<span class='mdl-layout-spacer'></span>\" +\n\t\t\t\t\"\t\t\t\t<a onclick=\\\"app.setSection('signup');\\\" href='#signup' class='mdl-button small'>Sign Up</a> or \" +\n\t\t\t\t\"\t\t\t\t<a onclick=\\\"app.setSection('forgot-password');\\\" href='#forgot-password' class='mdl-button small'>Reset password</a>\" +\n\t\t\t\t\"\t\t\t</div>\" +\n\t\t\t\t\"\t\t</div>\" +\n\t\t\t\t\"\t</form>\" +\n\t\t\t\t\"\t<div class='mdl-layout-spacer'></div>\" +\n\t\t\t\t\"</section>\";\n\t\t\tcontainer.innerHTML += otp;\n\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\tvar updated = document.querySelectorAll('.page-content form div.mdl-js-textfield');\n\t\t\tfor (var i = 0; i < updated.length; i++) {\n\t\t\t\tupdated[i].classList.remove('is-upgraded');\n\t\t\t\tupdated[i].removeAttribute('data-upgraded');\n\t\t\t}\n\t\t\tapp.refreshButtonsSelectors();\n\t\t\tapp.setOTPAction();\n\t\t\tapp.setSignupAction();\n\t\t}\n\t};\n\n\tapp.showAddFAB = function(type) {\n\t\tlet container;\n\t\tlet fabs = new Array();\n\t\tif (type === 'objects') {\n\t\t\tfabs.push({id: \"locateObject\", icon: \"place\", tooltip: \"Locate Objects\"});\n\t\t\tfabs.push({id: \"createObject\", icon: \"add\", tooltip: \"Add a new object\"});\n\t\t\tcontainer = (app.containers.objects).querySelector('.page-content');\n\t\t}\n\t\tif (type === 'flows') {\n\t\t\tfabs.push({id: \"DataHistory\", icon: app.icons.history, tooltip: \"Data History\"});\n\t\t\tfabs.push({id: \"DataExploration\", icon: app.icons.exploration, tooltip: \"Data Exploration\"});\n\t\t\tfabs.push({id: \"createFlow\", icon: \"add\", tooltip: \"Add a new flow\"});\n\t\t\tcontainer = (app.containers.flows).querySelector('.page-content');\n\t\t}\n\t\tif (type === 'dashboards') {\n\t\t\tfabs.push({id: \"createDashboard\", icon: \"add\", tooltip: \"Add a new dashboard\"});\n\t\t\tcontainer = (app.containers.dashboards).querySelector('.page-content');\n\t\t}\n\t\tif (type === 'snippets') {\n\t\t\tfabs.push({id: \"createSnippet\", icon: \"add\", tooltip: \"Add a new snippet\"});\n\t\t\tcontainer = (app.containers.snippets).querySelector('.page-content');\n\t\t}\n\t\tif (type === 'rules') {\n\t\t\tfabs.push({id: \"createRule\", icon: \"add\", tooltip: \"Add a new rule\"});\n\t\t\tcontainer = (app.containers.rules).querySelector('.page-content');\n\t\t}\n\t\tif (type === 'mqtts') {\n\t\t\tfabs.push({id: \"createMqtt\", icon: \"add\", tooltip: \"Add a new mqtt\"});\n\t\t\tcontainer = (app.containers.mqtts).querySelector('.page-content');\n\t\t}\n\t\tif (type === 'sources') {\n\t\t\tfabs.push({id: \"createSource\", icon: \"add\", tooltip: \"Add a new source\"});\n\t\t\tcontainer = (app.containers.sources).querySelector('.page-content');\n\t\t}\n\t\tif (type === 'stories') {\n\t\t\tfabs.push({id: \"createStory\", icon: \"add\", tooltip: \"Add a new story\"});\n\t\t\tcontainer = (app.containers.stories).querySelector('.page-content');\n\t\t}\n\t\tif (type === 'exploration') {\n\t\t\tfabs.push({id: \"exploreFlows\", icon: app.icons.exploration, tooltip: \"Explore\"});\n\t\t\tcontainer = (app.containers.exploration).querySelector('.page-content');\n\t\t}\n\t\tif (container && fabs.length > -1) {\n\t\t\tlet fabClass = app.getSetting('settings.fab_position') !== null ? app.getSetting('settings.fab_position') : \"fab__bottom\";\n\t\t\tfabClass += app.getSetting('settings.isLtr') === \"false\" ? \" pull-left\" : \" pull-right\";\n\t\t\tlet tooltipClass = app.getSetting('settings.isLtr') === \"true\" ? \"mdl-tooltip--left\" : \"mdl-tooltip--right\";\n\t\t\tlet fab = `<div class=\"mdl-button--fab_flinger-container ${fabClass}\">`;\n\t\t\tfabs.map(function(button) {\n\t\t\t\tfab += `\t<button id=\"${button.id}\" class=\"mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored mdl-shadow--8dp\">\n\t\t\t\t\t\t\t\t<i class='material-icons'>${button.icon}</i>\n\t\t\t\t\t\t\t\t<div class=\"mdl-tooltip ${tooltipClass}\" for=\"${button.id}\">${button.tooltip}</label>\n\t\t\t\t\t\t\t</button>`;\n\t\t\t});\n\t\t\tfab += \"</div>\";\n\n\t\t\t// Add spacer\n\t\t\tvar from = (parseInt(app.itemsPage[type]) * parseInt(app.itemsSize[type])) + 1;\n\t\t\tvar to = (parseInt(app.itemsPage[type]) + 1) * parseInt(app.itemsSize[type]);\n\t\t\tvar page = parseInt(app.itemsPage[type]) + 1;\n\t\t\tvar max = 5; // hardcoded! # TODO\n\t\t\t//if ( to < max ) {\n\t\t\tfab += \"<div class='mdl-grid mdl-cell mdl-cell--12-col spacer'>\";\n\t\t\tfab += \"\t<span class='mdl-layout-spacer'></span>\";\n\t\t\tfab += \"\t\t<button data-size='\" + parseInt(app.itemsSize[type]) + \"' data-page='\" + page + \"' data-type='\" + type + \"' class='lazyloading mdl-cell--12-col mdl-button mdl-js-button mdl-js-ripple-effect'>\";\n\t\t\tfab += \"\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\tfab += \"\t\t</button>\";\n\t\t\tfab += \"\t<span class='mdl-layout-spacer'></span>\";\n\t\t\tfab += \"</div>\";\n\t\t\t//}\n\t\t\tvar fb = container.getElementsByClassName(\"mdl-button--fab_flinger-container\");\n\t\t\tif( fb[0] ) {\n\t\t\t\t fb[0].remove();\n\t\t\t}\n\t\t\tcontainer.innerHTML += fab;\n\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\tapp.refreshButtonsSelectors();\n\t\t\tif (document.getElementById(\"exploreFlows\")) {\n\t\t\t\tdocument.getElementById(\"exploreFlows\").addEventListener(\"click\", function(evt) { app.eda(evt); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (document.getElementById(\"locateObject\")) {\n\t\t\t\tdocument.getElementById(\"locateObject\").addEventListener(\"click\", function(evt) { app.setSection(\"objects-maps\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (document.getElementById(\"DataExploration\")) {\n\t\t\t\tdocument.getElementById(\"DataExploration\").addEventListener(\"click\", function(evt) { app.setSection(\"exploration\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (document.getElementById(\"DataHistory\")) {\n\t\t\t\tdocument.getElementById(\"DataHistory\").addEventListener(\"click\", function(evt) { app.setSection(\"history\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (app.buttons.createObject) {\n\t\t\t\tapp.buttons.createObject.addEventListener(\"click\", function(evt) { app.setSection(\"object_add\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (app.buttons.createFlow) {\n\t\t\t\tapp.buttons.createFlow.addEventListener(\"click\", function(evt) { app.setSection(\"flow_add\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (app.buttons.createSnippet) {\n\t\t\t\tapp.buttons.createSnippet.addEventListener(\"click\", function(evt) { app.setSection(\"snippet_add\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (app.buttons.createDashboard) {\n\t\t\t\tapp.buttons.createDashboard.addEventListener(\"click\", function(evt) { app.setSection(\"dashboard_add\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (app.buttons.createRule) {\n\t\t\t\tapp.buttons.createRule.addEventListener(\"click\", function(evt) { app.setSection(\"rule_add\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (app.buttons.createMqtt) {\n\t\t\t\tapp.buttons.createMqtt.addEventListener(\"click\", function(evt) { app.setSection(\"mqtt_add\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (app.buttons.createSource) {\n\t\t\t\tapp.buttons.createSource.addEventListener(\"click\", function(evt) { app.setSection(\"source_add\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t\tif (app.buttons.createStory) {\n\t\t\t\tapp.buttons.createStory.addEventListener(\"click\", function(evt) { app.setSection(\"story_add\"); evt.preventDefault(); }, false);\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.getWidth = function(margin=0) {\n\t\treturn typeof document.querySelector(\".is-active .page-content section\")!==\"undefined\"?(document.querySelector(\".is-active .page-content section\").offsetWidth)-margin:0;\n\t}\n\n\tapp.eda = function(evt) {\n\t\tlet myForm = (app.containers.exploration);\n\t\tlet my_flow_id = Array.prototype.map.call(myForm.querySelectorAll(\".mdl-chips .mdl-chip\"), function(flow) { return ((JSON.parse(localStorage.getItem(\"flows\")))[flow.getAttribute(\"data-id\")]).id; });\n\t\tlet start = \"&start=\" + myForm.querySelector(\"#start\").value;\n\t\tlet end = \"&end=\" + myForm.querySelector(\"#end\").value;\n\t\tlet sel_summary = myForm.querySelector(\"#switch-ExplorationSummary\").parentNode.classList.contains(\"is-checked\");\n\t\tlet sel_head = myForm.querySelector(\"#switch-ExplorationHead\").parentNode.classList.contains(\"is-checked\");\n\t\tlet sel_tail = myForm.querySelector(\"#switch-ExplorationTail\").parentNode.classList.contains(\"is-checked\");\n\t\tlet sel_boxplot = myForm.querySelector(\"#switch-ExplorationBoxplot\").parentNode.classList.contains(\"is-checked\");\n\t\tlet sel_frequency = myForm.querySelector(\"#switch-ExplorationFrequency\").parentNode.classList.contains(\"is-checked\");\n\t\tlet sel_line = myForm.querySelector(\"#switch-ExplorationLine\").parentNode.classList.contains(\"is-checked\");\n\t\tlet sel_loess = myForm.querySelector(\"#switch-ExplorationLoess\").parentNode.classList.contains(\"is-checked\");\n\t\tlet sel_trend = myForm.querySelector(\"#switch-ExplorationTrend\").parentNode.classList.contains(\"is-checked\");\n\t\t\n\t\tif (!(sel_summary || sel_head || sel_tail || sel_boxplot || sel_frequency || sel_line || sel_loess || sel_trend )) {\n\t\t\ttoast(\"Please select at least one output.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif (my_flow_id.length>0) {\n\t\t\tif (start && end) {\n\t\t\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\t\t\tapp.containers.spinner.classList.remove('hidden');\n\t\t\t\ttoast(\"Exploring... Please wait.\", { timeout: app.toastDuration, type: \"info\" });\n\n\t\t\t\tif (sel_summary) {\n\t\t\t\t\tif (!myForm.querySelector(\".page-content #exploreSummaryResults\")) {\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", app.getSubtitle(\"Exploration Summary Statistics\"));\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", `<section class=\"mdl-grid mdl-cell--12-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-cell--12-col mdl-card mdl-shadow--2dp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-list__item--three-line small-padding\" id=\"exploreSummaryResults\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</section>`);\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmyForm.querySelector(\"#exploreSummaryResults\").innerHTML = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"bearer\"));\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/exploration/summary?flow_id=${my_flow_id}${start}${end}`;\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tmyForm.querySelector(\"#exploreSummaryResults\").innerHTML += app.getField(\"timeline\", \"Data Type\", `${response.data_type.name} ${response.data_type.type} (${response.data_type.classification})`, { type: \"text\" });\n\t\t\t\t\t\t\tfor (const [key, value] of Object.entries(response)) {\n\t\t\t\t\t\t\t\tif (typeof value !== \"object\") {\n\t\t\t\t\t\t\t\t\tmyForm.querySelector(\"#exploreSummaryResults\").innerHTML += app.getField(\"bubble_chart\", key, value, { type: \"text\", tooltip: typeof app.summaryResults[key]!==\"undefined\"?app.summaryResults[key]:undefined });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\t\t\t\ttoast(\"Data exploration updated\", { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\ttoast(\"Exploring error.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (sel_head) {\n\t\t\t\t\tif (!myForm.querySelector(\".page-content #exploreHeadResults\")) {\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", app.getSubtitle(\"Exploration Head\"));\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", `<section class=\"mdl-grid mdl-cell--12-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-cell--12-col mdl-card mdl-shadow--2dp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-list__item--three-line small-padding\" id=\"exploreHeadResults\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</section>`);\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmyForm.querySelector(\"#exploreHeadResults\").innerHTML = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"bearer\"));\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/exploration/head?flow_id=${my_flow_id}${start}${end}&n=1`;\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tfor (const [key, value] of Object.entries(response[0])) {\n\t\t\t\t\t\t\t\tif (typeof value !== \"object\") {\n\t\t\t\t\t\t\t\t\tmyForm.querySelector(\"#exploreHeadResults\").innerHTML += app.getField(\"bubble_chart\", key, value, { type: \"text\" });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ttoast(\"Data exploration updated\", { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\ttoast(\"Exploring error.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (sel_tail) {\n\t\t\t\t\tif (!myForm.querySelector(\".page-content #exploreTailResults\")) {\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", app.getSubtitle(\"Exploration Tail\"));\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", `<section class=\"mdl-grid mdl-cell--12-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-cell--12-col mdl-card mdl-shadow--2dp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-list__item--three-line small-padding\" id=\"exploreTailResults\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</section>`);\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmyForm.querySelector(\"#exploreTailResults\").innerHTML = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"bearer\"));\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/exploration/tail?flow_id=${my_flow_id}${start}${end}&n=1`;\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\tfor (const [key, value] of Object.entries(response[0])) {\n\t\t\t\t\t\t\t\tif (typeof value !== \"object\") {\n\t\t\t\t\t\t\t\t\tmyForm.querySelector(\"#exploreTailResults\").innerHTML += app.getField(\"bubble_chart\", key, value, { type: \"text\" });\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\ttoast(\"Data exploration updated\", { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\ttoast(\"Exploring error.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (sel_boxplot) {\n\t\t\t\t\tif (!myForm.querySelector(\".page-content #exploreBoxplotResults\")) {\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", app.getSubtitle(\"Exploration Boxplot\"));\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", `<section class=\"mdl-grid mdl-cell--12-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-cell--12-col mdl-card mdl-shadow--2dp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-list__item--three-line small-padding\" id=\"exploreBoxplotResults\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</section>`);\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmyForm.querySelector(\"#exploreBoxplotResults\").innerHTML = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"bearer\"));\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/exploration/boxplot?flow_id=${my_flow_id}&width=${app.getWidth(64)}&height=200&xAxis=Boxplot${start}${end}`;\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then(response => response.text())\n\t\t\t\t\t\t.then(function(svg) {\n\t\t\t\t\t\t\tdocument.getElementById(\"exploreBoxplotResults\").innerHTML = svg;\n\t\t\t\t\t\t\ttoast(\"Data exploration updated\", { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\ttoast(\"Exploring error.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (sel_line) {\n\t\t\t\t\tif (!myForm.querySelector(\".page-content #exploreLineResults\")) {\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", app.getSubtitle(\"Plot Line\"));\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", `<section class=\"mdl-grid mdl-cell--12-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-cell--12-col mdl-card mdl-shadow--2dp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-list__item--three-line small-padding\" id=\"exploreLineResults\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</section>`);\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmyForm.querySelector(\"#exploreLineResults\").innerHTML = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"bearer\"));\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/exploration/line?flow_id=${my_flow_id}&width=${app.getWidth(64)}&height=200&xAxis=Plot Line&limit=10000${start}${end}`;\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then(response => response.text())\n\t\t\t\t\t\t.then(function(svg) {\n\t\t\t\t\t\t\tdocument.getElementById(\"exploreLineResults\").innerHTML = svg;\n\t\t\t\t\t\t\ttoast(\"Data exploration updated\", { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\ttoast(\"Exploring error.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (sel_frequency) {\n\t\t\t\t\tif (!myForm.querySelector(\".page-content #exploreFrequencyResults\")) {\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", app.getSubtitle(\"Exploration Frequency Distribution\"));\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", `<section class=\"mdl-grid mdl-cell--12-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-cell--12-col mdl-card mdl-shadow--2dp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-list__item--three-line small-padding\" id=\"exploreFrequencyResults\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</section>`);\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmyForm.querySelector(\"#exploreFrequencyResults\").innerHTML = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"bearer\"));\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/exploration/kernelDensityEstimation?flow_id=${my_flow_id}&select=mean&group=30d&width=${app.getWidth(64)}&height=250&xAxis=Distribution${start}${end}`;\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then(response => response.text())\n\t\t\t\t\t\t.then(function(svg) {\n\t\t\t\t\t\t\tdocument.getElementById(\"exploreFrequencyResults\").innerHTML = svg;\n\t\t\t\t\t\t\ttoast(\"Data exploration updated\", { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\ttoast(\"Exploring error.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (sel_loess) {\n\t\t\t\t\tif (!myForm.querySelector(\".page-content #ExplorationLoess\")) {\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", app.getSubtitle(\"Loess Regression\"));\n\t\t\t\t\t\tmyForm.querySelector('.page-content').insertAdjacentHTML(\"beforeend\", `<section class=\"mdl-grid mdl-cell--12-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-cell--12-col mdl-card mdl-shadow--2dp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-list__item--three-line small-padding\" id=\"ExplorationLoess\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>&nbsp;</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</section>`);\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmyForm.querySelector(\"#ExplorationLoess\").innerHTML = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"bearer\"));\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\t\t\t\tvar url = `${app.baseUrl}/${app.api_version}/exploration/loess?flow_id=${my_flow_id}&limit=1000&width=${app.getWidth(64)}&height=200&xAxis=&degree=linear&span=0.15&band=0.7${start}${end}`;\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.then(response => response.text())\n\t\t\t\t\t\t.then(function(svg) {\n\t\t\t\t\t\t\tdocument.getElementById(\"ExplorationLoess\").innerHTML = svg;\n\t\t\t\t\t\t\ttoast(\"Data exploration updated\", { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\ttoast(\"Exploring error.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t}\n\n\t\t\t\tif (sel_trend) {\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\ttoast(\"Missing information in filters.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t}\n\t\t} else {\n\t\t\ttoast(\"Missing Flow, please select at least one flow.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t}\n\t};\n\n\tapp.getField = function(icon, label, value, options) {\n\t\tif (options.type === 'hidden') {\n\t\t\toptions.isVisible = false;\n\t\t}\n\t\tvar hidden = options.isVisible !== false ? \"\" : \" hidden\";\n\t\tvar expand = options.isExpand === false ? \"\" : \" mdl-card--expand\";\n\t\tvar enterkeyhint = typeof options.enterkeyhint !== \"undefined\" ? sprintf(\" enterkeyhint=\\\"%s\\\"\", options.enterkeyhint) : \"\";\n\t\tvar inputmode = typeof options.inputmode !== \"undefined\" ? sprintf(\" inputmode=\\\"%s\\\"\", options.inputmode) : \"\";\n\t\tvar field = \"\";\n\t\tfield += \"<div class='mdl-list__item--three-line small-padding \" + hidden + expand + \"'>\";\n\t\tif (typeof options === 'object') {\n\t\t\tvar id = options.id !== null ? options.id : app.getUniqueId();\n\n\t\t\tif (options.type === 'input' || options.type === 'text') {\n\t\t\t\tvar style = options.style !== undefined ? \"style='\" + options.style + \"'\" : \"\";\n\t\t\t\tif (options.isEdit === true) {\n\t\t\t\t\tvar pattern = options.pattern !== undefined ? \"pattern='\" + options.pattern + \"'\" : \"\";\n\t\t\t\t\tfield += \"<div class='mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-list__item-sub-title'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon' for='\" + id + \"'>\" + icon + \"</i>\";\n\t\t\t\t\tfield += \"\t<input type='text' \" + style + \" \" + inputmode + \" \" + enterkeyhint + \" value='\" + app.escapeHtml(value) + \"' \" + pattern + \" class='mdl-textfield__input' name='\" + label + \"' id='\" + id + \"' />\";\n\t\t\t\t\tif (label) field += \"\t<label class='mdl-textfield__label' for='\" + id + \"'>\" + label + \"</label>\";\n\t\t\t\t\tif (options.error) field += \"\t<span class='mdl-textfield__error'>\" + options.error + \"</span>\";\n\t\t\t\t\tlet tooltipId = app.getUniqueId();\n\t\t\t\t\tif (options.tooltip) field += `<i class=\"material-icons dialog-buttons\" id=\"tooltip-${tooltipId}\">help</i> <div class=\"mdl-tooltip mdl-tooltip--left\" for=\"tooltip-${tooltipId}\">${options.tooltip}</div>`;\n\t\t\t\t\tfield += \"</div>\";\n\t\t\t\t} else {\n\t\t\t\t\tfield += \"<div class='mdl-list__item-sub-title'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon'>\" + icon + \"</i>\";\n\t\t\t\t\tif (label) field += \"\t<label class='mdl-textfield__label'>\" + label + \"</label>\";\n\t\t\t\t\tif (value) field += \"\t<span class='mdl-list__item-sub-title' \" + style + \">\" + app.escapeHtml(value) + \"</span>\";\n\t\t\t\t\tlet tooltipId = app.getUniqueId();\n\t\t\t\t\tif (options.tooltip) field += `<i class=\"material-icons dialog-buttons mdl-tooltip--left\" id=\"tooltip-${tooltipId}\">help</i> <div class=\"mdl-tooltip mdl-tooltip--left\" for=\"tooltip-${tooltipId}\">${options.tooltip}</div>`;\n\t\t\t\t\tfield += \"</div>\";\n\t\t\t\t}\n\t\t\t} else if (options.type === 'container') {\n\t\t\t\tfield += \"<div class='mdl-list__item-sub-title'>\";\n\t\t\t\tfield += \"\t<i class='material-icons mdl-textfield__icon' for='\" + id + \"'>view_module</i>\";\n\t\t\t\tif (label) field += \"\t<label class='mdl-textfield__label' for='\" + id + \"'>\" + label + \"</label>\";\n\t\t\t\tfield += \"\t<div class='' id='\" + id + \"'></div>\";\n\t\t\t\tfield += \"</div>\";\n\t\t\t} else if (options.type === 'hidden') {\n\t\t\t\tvar pattern = options.pattern !== undefined ? \"pattern='\" + options.pattern + \"'\" : \"\";\n\t\t\t\tfield += \"<div class='mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-list__item-sub-title'>\";\n\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon' for='\" + id + \"'>\" + icon + \"</i>\";\n\t\t\t\tfield += \"\t<input type='hidden' value='\" + value + \"' \" + pattern + \" class='mdl-textfield__input' name='\" + label + \"' id='\" + id + \"' />\";\n\t\t\t\tif (label) field += \"\t<label class='mdl-textfield__label' for='\" + id + \"'>\" + label + \"</label>\";\n\t\t\t\tif (options.error) field += \"\t<span class='mdl-textfield__error'>\" + options.error + \"</span>\";\n\t\t\t\tfield += \"</div>\";\n\t\t\t} else if (options.type === 'textarea') {\n\t\t\t\tif (options.isEdit === true) {\n\t\t\t\t\tfield += \"<div class='mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-list__item-sub-title'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon' for='\" + id + \"'>\" + icon + \"</i>\";\n\t\t\t\t\tfield += \"\t<textarea style='width:100%; height:100%;' type='text' rows='3' class='mdl-textfield__input' name='\" + label + \"' id='\" + id + \"'>\" + value + \"</textarea>\";\n\t\t\t\t\tif (label) field += \"\t<label class='mdl-textfield__label' for='\" + id + \"'>\" + label + \"</label>\";\n\t\t\t\t\tif (options.error) field += \"\t<span class='mdl-textfield__error'>\" + options.error + \"</span>\";\n\t\t\t\t\tfield += \"</div>\";\n\t\t\t\t} else {\n\t\t\t\t\tif (value) field += \"<span class='mdl-list__item-sub-title'>\" + value + \"</span>\";\n\t\t\t\t}\n\t\t\t} else if (options.type === 'radio') {\n\t\t\t\tif (options.isEdit === true) {\n\t\t\t\t\tfield += \"<div class='mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-list__item-sub-title'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon'> /!\\ radio \" + icon + \"</i>\";\n\t\t\t\t\tif (label) field += \"\t<label class='mdl-textfield__label'> /!\\ radio \" + label + \"</label>\";\n\t\t\t\t\tif (options.error) field += \"\t<span class='mdl-textfield__error'>\" + options.error + \"</span>\";\n\t\t\t\t\tfield += \"</div>\";\n\t\t\t\t} else {\n\t\t\t\t\tfield += \"<div class='mdl-list__item-sub-title'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon'>\" + icon + \"</i>\";\n\t\t\t\t\tif (label) field += \"\t<label class='mdl-radio__label'>\" + label + \"</label>\";\n\t\t\t\t\tif (value) field += \"\t<span class='mdl-list__item-sub-title'>\" + value + \"</span>\";\n\t\t\t\t\tfield += \"</div>\";\n\t\t\t\t}\n\t\t\t} else if (options.type === 'checkbox') {\n\t\t\t\tvar isChecked = value === true || value === \"true\" ? \" checked\" : \"\";\n\t\t\t\tvar className = value === true || value === \"true\" ? \"is-checked\" : \"\";\n\t\t\t\tif (options.isEdit === true) {\n\t\t\t\t\tfield += \"<label class='mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect mdl-textfield--floating-label \" + className + \"' for='checkbox-\" + id + \"' data-id='checkbox-\" + id + \"'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon' for='\" + id + \"'>\" + icon + \"</i>\";\n\t\t\t\t\tfield += \"\t<input type='checkbox' id='checkbox-\" + id + \"' class='mdl-checkbox__input' name='\" + label + \"' value='\" + value + \"' placeholder='\" + label + \"' \" + isChecked + \">\";\n\t\t\t\t\tif (label) field += \"\t<div class='mdl-checkbox__label'>\" + label + \"</div>\";\n\t\t\t\t\tfield += \"</label>\";\n\t\t\t\t\tif (options.error) field += \"\t<span class='mdl-textfield__error'>\" + options.error + \"</span>\";\n\t\t\t\t} else {\n\t\t\t\t\tfield += \"<div class='mdl-list__item-sub-title'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon'>\" + icon + \"</i>\";\n\t\t\t\t\tif (label) field += \"\t<label class='mdl-switch__label'>\" + label + \"</label>\";\n\t\t\t\t\tif (value) field += \"\t<span class='mdl-list__item-sub-title'>\" + value + \"</span>\";\n\t\t\t\t\tfield += \"</div>\";\n\t\t\t\t}\n\t\t\t} else if (options.type === 'switch') {\n\t\t\t\tvar isChecked = value === true || value === \"true\" ? \" checked\" : \"\";\n\t\t\t\tvar className = value === true || value === \"true\" ? \"is-checked\" : \"\";\n\t\t\t\tif (options.isEdit === true || options.isEdit === \"disabled\") {\n\t\t\t\t\tlet disabledOpt = options.isEdit === \"disabled\" ? \"disabled='true'\" : \"\";\n\t\t\t\t\tfield += \"<label class='mdl-switch mdl-js-switch mdl-js-ripple-effect mdl-textfield--floating-label \" + className + \"' for='switch-\" + id + \"' data-id='switch-\" + id + \"'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon' for='\" + id + \"'>\" + icon + \"</i>\";\n\t\t\t\t\tfield += \"\t<input type='checkbox' id='switch-\" + id + \"' \" + disabledOpt + \" class='mdl-switch__input' name='\" + label + \"' value='\" + value + \"' placeholder='\" + label + \"' \" + isChecked + \">\";\n\t\t\t\t\tif (label) field += \"\t<div class='mdl-switch__label'>\" + label + \"</div>\";\n\t\t\t\t\tfield += \"</label>\";\n\t\t\t\t\tif (options.error) field += \"\t<span class='mdl-textfield__error'>\" + options.error + \"</span>\";\n\t\t\t\t} else {\n\t\t\t\t\tfield += \"<div class='mdl-list__item-sub-title'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon'>\" + icon + \"</i>\";\n\t\t\t\t\tif (label) field += \"\t<label class='mdl-switch__label'>\" + label + \"</label>\";\n\t\t\t\t\tif (value) field += \"\t<span class='mdl-list__item-sub-title'>\" + value + \"</span>\";\n\t\t\t\t\tfield += \"</div>\";\n\t\t\t\t}\n\t\t\t} else if (options.type === 'select') {\n\t\t\t\tif (options.isEdit == true) {\n\t\t\t\t\tvar isMultiple = options.isMultiple == true ? 'multiple' : '';\n\n\t\t\t\t\tfield += \"<div class='mdl-selectfield mdl-js-selectfield mdl-textfield--floating-label'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon' for='\" + id + \"'>\" + icon + \"</i>\";\n\t\t\t\t\tif (label) field += \"\t<label class='mdl-selectfield__label' for='\" + id + \"'>\" + label + \"</label>\";\n\t\t\t\t\tfield += \"\t<select class='mdl-textfield__input mdl-selectfield__select' name='\" + label + \"' id='\" + id + \"' \" + isMultiple + \">\";\n\t\t\t\t\tif (options.options) {\n\t\t\t\t\t\tfor (var n = 0; n < options.options.length; n++) {\n\t\t\t\t\t\t\tlet selected = value == options.options[n].name ? 'selected' : '';\n\t\t\t\t\t\t\tlet displayName = options.options[n].value;\n\t\t\t\t\t\t\tif (typeof options.options[n].type !== \"undefined\") {\n\t\t\t\t\t\t\t\tdisplayName += ` (${options.options[n].type}, ${options.options[n].classification})`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tfield += \"\t<option \" + selected + \" value='\" + options.options[n].name + \"' data-stype='\" + options.options[n].sType + \"'>\" + displayName + \"</option>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfield += \"\t</select>\";\n\t\t\t\t\tif (options.error) field += \"\t<span class='mdl-textfield__error'>\" + options.error + \"</span>\";\n\t\t\t\t\tfield += \"</div>\";\n\t\t\t\t} else {\n\t\t\t\t\tvar selectedValue = (options.options.filter(function(cur) { return cur.name === value }));\n\t\t\t\t\tselectedValue = selectedValue[0] !== undefined ? selectedValue[0].value : '';\n\t\t\t\t\tfield += \"<div class='mdl-list__item-sub-title'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon'>\" + icon + \"</i>\";\n\t\t\t\t\tif (label) field += \"\t<label class='mdl-selectfield__label'>\" + label + \"</label>\";\n\t\t\t\t\tif (value) field += \"\t<span class='mdl-list__item-sub-title'>\" + value + \"</span>\";\n\t\t\t\t\tfield += \"</div>\";\n\t\t\t\t}\n\t\t\t} else if (options.type === '2inputs') {\n\t\t\t\tvar pattern = new Array();\n\t\t\t\tpattern[0] = options.pattern[0] !== undefined ? \"pattern='\" + options.pattern[0] + \"'\" : \"\";\n\t\t\t\tpattern[1] = options.pattern[1] !== undefined ? \"pattern='\" + options.pattern[1] + \"'\" : \"\";\n\t\t\t\tif (options.isEdit == true) {\n\t\t\t\t\tfield += \"<div class='half mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-list__item-sub-title' style='width: calc(50% - 20px) !important;'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon' for='\" + id[0] + \"'>\" + icon + \"</i>\";\n\n\t\t\t\t\tfield += \"\t<input type='text' value='\" + value[0] + \"'\" + pattern[0] + \" class='mdl-textfield__input' name='\" + id[0] + \"' id='\" + id[0] + \"' />\";\n\t\t\t\t\tif (label[0]) field += \"\t<label class='mdl-textfield__label' for='\" + id[0] + \"'>\" + label[0] + \"</label>\";\n\t\t\t\t\tif (options.error[0]) field += \"\t<span class='mdl-textfield__error'>\" + options.error[0] + \"</span>\";\n\t\t\t\t\tfield += \"</div>\";\n\n\t\t\t\t\tfield += \"<div class='half mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-list__item-sub-title' style='width: calc(50% - 20px) !important;'>\";\n\t\t\t\t\tfield += \"\t<input type='text' value='\" + value[1] + \"'\" + pattern[1] + \" class='mdl-textfield__input' name='\" + id[1] + \"' id='\" + id[1] + \"' />\";\n\t\t\t\t\tif (label[1]) field += \"\t<label class='mdl-textfield__label' for='\" + id[1] + \"'>\" + label[1] + \"</label>\";\n\t\t\t\t\tif (options.error[1]) field += \"\t<span class='mdl-textfield__error'>\" + options.error[1] + \"</span>\";\n\t\t\t\t\tfield += \"</div>\";\n\n\t\t\t\t\tfield += \"<div class='half mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-list__item-sub-title' style='width: 40px !important;'>\";\n\t\t\t\t\tfield += \"\t<button class='mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' style='position: absolute; bottom: -10px;'><i class='material-icons'>add</i></button>\";\n\t\t\t\t\tfield += \"</div>\";\n\n\t\t\t\t} else {\n\t\t\t\t\tvalue = (options.options.filter(function(cur) { return cur.name === value }))[0].value;\n\t\t\t\t\tfield += \"<div class='mdl-list__item-sub-title'>\";\n\t\t\t\t\tif (icon) field += \"\t<i class='material-icons mdl-textfield__icon'>\" + icon + \"</i>\";\n\t\t\t\t\tif (value) field += \"\t<span class='mdl-list__item-sub-title'>\" + value + \"</span>\";\n\t\t\t\t\tfield += \"</div>\";\n\t\t\t\t}\n\t\t\t} else if (options.type === 'progress-status') {\n\t\t\t\tfield += \"<span class='mdl-progress mdl-js-progress' id='progress-status' title=''><br />\" + value + \"</span>\";\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.log(\"Error on options: \", options);\n\t\t}\n\n\t\tif (options.action !== undefined) {\n\t\t\tfield += \"\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\tfield += \"\t\t<a href='#' \" + options.action + \">\";\n\t\t\tfield += \"\t\t\t<i class='material-icons'>chevron_right</i>\";\n\t\t\tfield += \"\t\t</a>\";\n\t\t\tfield += \"\t</span>\";\n\t\t}\n\t\tfield += \"</div>\";\n\t\treturn field;\n\t};\n\n\tapp.getSnippet = function(icon, snippet_id, container) {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\tvar myContainer = container != null ? container : (app.containers.dashboard).querySelector('.page-content');\n\t\tvar url = `${app.baseUrl}/${app.api_version}/snippets/${snippet_id}`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tif (response.data[0]) {\n\t\t\t\t\tvar my_snippet = response.data[0];\n\t\t\t\t\tvar s = app.snippetTypes.find(function(snippet) {\n\t\t\t\t\t\treturn (snippet.name).toLowerCase() === (my_snippet.attributes.type).toLowerCase();\n\t\t\t\t\t});\n\t\t\t\t\tvar snippet = s.getHtml({ name: my_snippet.attributes.name, id: my_snippet.id, icon: my_snippet.attributes.icon, color: my_snippet.attributes.color });\n\n\t\t\t\t\tvar c = document.createElement(\"div\");\n\t\t\t\t\tc.setAttribute('class', 'mdl-grid mdl-cell');\n\t\t\t\t\tc.innerHTML = snippet;\n\t\t\t\t\tmyContainer.appendChild(c);\n\t\t\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\t\t\tmy_snippet.flowNames = [];\n\t\t\t\t\tmy_snippet.attributes.flows.map(function(f) {\n\t\t\t\t\t\tif (localStorage.getItem('flows') != 'null' && JSON.parse(localStorage.getItem('flows'))) {\n\t\t\t\t\t\t\tvar theFlow = (JSON.parse(localStorage.getItem('flows'))).find(function(storedF) { return storedF.id == f; });\n\t\t\t\t\t\t\tif (theFlow) {\n\t\t\t\t\t\t\t\tmy_snippet.flowNames.push(theFlow.name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (typeof my_snippet.attributes.options !== \"undefined\") {\n\t\t\t\t\t\ts.setOptions(my_snippet.attributes.options);\n\t\t\t\t\t}\n\t\t\t\t\ts.activateOnce(my_snippet);\n\n\t\t\t\t\t// Set the buttons on edit Snippets\n\t\t\t\t\tvar editSnippetButtons = document.querySelectorAll(\".edit-snippet\");\n\t\t\t\t\tfor (var b in editSnippetButtons) {\n\t\t\t\t\t\tif ((editSnippetButtons[b]).childElementCount > -1) {\n\t\t\t\t\t\t\t(editSnippetButtons[b]).addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\t\t\tapp.resources.snippets.display(evt.target.parentNode.getAttribute(\"data-snippet-id\"), false, true, false);\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast(\"getSnippet error out...\" + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.refreshFromNow = function(id, time, fromNow) {\n\t\tif (document.getElementById(id)) {\n\t\t\tdocument.getElementById(id).innerHTML = moment(time).format(app.date_format);\n\t\t\tif (fromNow !== null) {\n\t\t\t\tdocument.getElementById(id).innerHTML += \"<small>, \" + moment(time).fromNow() + \"</small>\";\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.getQrcodeImg = function(icon, label, id) {\n\t\tvar field = \"<div class='mdl-list__item small-padding'>\";\n\t\tfield += \"\t\t<span class='mdl-list__item-primary-content'>\";\n\t\tfield += \"\t\t\t<i class='material-icons mdl-textfield__icon'>link</i>\";\n\t\tfield += \"\t\t\t<label class=\\\"mdl-switch__label\\\">QR Code<sup>TM</sup></label>\";\n\t\tfield += \"\t\t</span>\";\n\t\tfield += \"\t\t<span class='mdl-list__item-secondary-content'>\";\n\t\tfield += \"\t\t\t<img src='' id='qr-\" + id + \"' class='img-responsive' style='margin:0 auto;' />\";\n\t\tfield += \"\t\t</span>\";\n\t\tfield += \"</div>\";\n\t\treturn field;\n\t};\n\n\tapp.getQrcode = function(icon, label, id) {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\tvar url = `${app.baseUrl}/${app.api_version}/objects/${id}/qrcode/8/M`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tif (response) {\n\t\t\t\t\tvar container = document.getElementById('qr-' + id);\n\t\t\t\t\tcontainer.setAttribute('src', (new DOMParser()).parseFromString(response.data, \"text/html\").images[0].src);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast('fetch Qrcode error out...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t});\n\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t};\n\n\tapp.getMap = function(icon, id, longitude, latitude, isEditable, isActionable) {\n\t\tvar field = \"<div class='mdl-list__item'>\";\n\t\tfield += \"\t<span class='mdl-list__item-primary-content map' id='\" + id + \"' style='width:100%; height:400px;'></span>\";\n\t\tfield += \"</div>\";\n\t\treturn field;\n\t};\n\n\tapp.authenticate = function() {\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tapp.auth.pushSubscription = {\n\t\t\tendpoint: app.getSetting('settings.pushSubscription.endpoint'),\n\t\t\tkeys: {\n\t\t\t\tauth: app.getSetting('settings.pushSubscription.keys.auth'),\n\t\t\t\tp256dh: app.getSetting('settings.pushSubscription.keys.p256dh')\n\t\t\t}\n\t\t};\n\t\tvar myInit = { method: 'POST', headers: myHeaders, body: JSON.stringify(app.auth) };\n\t\tvar url = `${app.baseUrl}/${app.api_version}/authenticate`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tif( typeof response.hash!==\"undefined\" ) {\n\t\t\t\t\tapp.otp.hash = typeof response.hash!==\"undefined\"?response.hash:null;\n\t\t\t\t\tapp.setSection(\"otp\");\n\t\t\t\t}\n\t\t\t\tif (response.token && response.refresh_token && response.refreshTokenExp) {\n\t\t\t\t\tlocalStorage.setItem('bearer', response.token);\n\t\t\t\t\tlocalStorage.setItem('refresh_token', response.refresh_token);\n\t\t\t\t\tlocalStorage.setItem('refreshTokenExp', response.refreshTokenExp);\n\t\t\t\t\tapp.isLogged = true;\n\t\t\t\t\tapp.resetSections();\n\t\t\t\t\tapp.fetchProfile();\n\t\t\t\t\tapp.fetchSubscriptions();\n\t\t\t\t\tif (window.location.hash && window.location.hash.substr(1) === 'object_add') {\n\t\t\t\t\t\tapp.displayAddObject(app.defaultResources.object);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'flow_add') {\n\t\t\t\t\t\tapp.displayAddFlow(app.defaultResources.flow);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'dashboard_add') {\n\t\t\t\t\t\tapp.displayAddDashboard(app.defaultResources.dashboard);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'snippet_add') {\n\t\t\t\t\t\tapp.displayAddSnippet(app.defaultResources.snippet);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'rule_add') {\n\t\t\t\t\t\tapp.displayAddRule(app.defaultResources.rule);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'mqtt_add') {\n\t\t\t\t\t\tapp.displayAddMqtt(app.defaultResources.mqtt);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'source_add') {\n\t\t\t\t\t\tapp.displayAddSource(app.defaultResources.source);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'story_add') {\n\t\t\t\t\t\tapp.displayAddStory(app.defaultResources.story);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) !== 'login') {\n\t\t\t\t\t\tapp.setSection(window.location.hash.substr(1));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.setSection('index');\n\t\t\t\t\t}\n\t\t\t\t\tapp.setHiddenElement(\"signin_button\");\n\t\t\t\t\tapp.setVisibleElement(\"logout_button\");\n\n\t\t\t\t\ttoast('Hey. Welcome Back! :-)', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\tif (typeof firebase !== \"undefined\") {\n\t\t\t\t\t\tfirebase.analytics().setUserProperties({ 'isLoggedIn': 1 });\n\t\t\t\t\t\tfirebase.analytics().logEvent('login');\n\t\t\t\t\t}\n\t\t\t\t\tsetInterval(app.refreshAuthenticate, app.refreshExpiresInSeconds);\n\t\t\t\t\tapp.getUnits();\n\t\t\t\t\tapp.getDatatypes();\n\t\t\t\t\tapp.getFlows();\n\t\t\t\t\tapp.getSnippets();\n\t\t\t\t\tapp.getSources();\n\t\t\t\t} else {\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast('Auth internal error', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t}\n\t\t\t\t\tapp.resetDrawer();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast('We can\\'t process your identification. Please resubmit your credentials!', { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t\t\tdocument.querySelectorAll(\".mdl-spinner\").forEach(function(e) { e.parentNode.removeChild(e); });\n\t\t\t\t}\n\t\t\t});\n\t\tapp.auth = {};\n\t};\n\n\tapp.authenticateOTP = function() {\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tapp.auth.pushSubscription = {\n\t\t\tendpoint: app.getSetting('settings.pushSubscription.endpoint'),\n\t\t\tkeys: {\n\t\t\t\tauth: app.getSetting('settings.pushSubscription.keys.auth'),\n\t\t\t\tp256dh: app.getSetting('settings.pushSubscription.keys.p256dh')\n\t\t\t}\n\t\t};\n\t\tvar myInit = { method: 'POST', headers: myHeaders, body: JSON.stringify(app.otp) };\n\t\tvar url = `${app.baseUrl}/${app.api_version}/authenticate/OTPchallenge`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tif (response.token && response.refresh_token && response.refreshTokenExp) {\n\t\t\t\t\tlocalStorage.setItem('bearer', response.token);\n\t\t\t\t\tlocalStorage.setItem('refresh_token', response.refresh_token);\n\t\t\t\t\tlocalStorage.setItem('refreshTokenExp', response.refreshTokenExp);\n\t\t\t\t\tapp.isLogged = true;\n\t\t\t\t\tapp.resetSections();\n\t\t\t\t\tapp.fetchProfile();\n\t\t\t\t\tapp.fetchSubscriptions();\n\t\t\t\t\tif (window.location.hash && window.location.hash.substr(1) === 'object_add') {\n\t\t\t\t\t\tapp.displayAddObject(app.defaultResources.object);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'flow_add') {\n\t\t\t\t\t\tapp.displayAddFlow(app.defaultResources.flow);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'dashboard_add') {\n\t\t\t\t\t\tapp.displayAddDashboard(app.defaultResources.dashboard);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'snippet_add') {\n\t\t\t\t\t\tapp.displayAddSnippet(app.defaultResources.snippet);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'rule_add') {\n\t\t\t\t\t\tapp.displayAddRule(app.defaultResources.rule);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'mqtt_add') {\n\t\t\t\t\t\tapp.displayAddMqtt(app.defaultResources.mqtt);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'source_add') {\n\t\t\t\t\t\tapp.displayAddSource(app.defaultResources.source);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) === 'story_add') {\n\t\t\t\t\t\tapp.displayAddStory(app.defaultResources.story);\n\t\t\t\t\t} else if (window.location.hash && window.location.hash.substr(1) !== 'login') {\n\t\t\t\t\t\tapp.setSection(window.location.hash.substr(1));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.setSection('index');\n\t\t\t\t\t}\n\t\t\t\t\tapp.setHiddenElement(\"signin_button\");\n\t\t\t\t\tapp.setVisibleElement(\"logout_button\");\n\n\t\t\t\t\ttoast('Hey. Welcome Back! :-)'+window.location.hash.substr(1), { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\tif (typeof firebase !== \"undefined\") {\n\t\t\t\t\t\tfirebase.analytics().setUserProperties({ 'isLoggedIn': 1 });\n\t\t\t\t\t\tfirebase.analytics().logEvent('login');\n\t\t\t\t\t}\n\t\t\t\t\tsetInterval(app.refreshAuthenticate, app.refreshExpiresInSeconds);\n\t\t\t\t\tapp.getUnits();\n\t\t\t\t\tapp.getDatatypes();\n\t\t\t\t\tapp.getFlows();\n\t\t\t\t\tapp.getSnippets();\n\t\t\t\t\tapp.getSources();\n\t\t\t\t} else {\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast('Auth internal error', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t}\n\t\t\t\t\tapp.resetDrawer();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast('We can\\'t process your identification. Please resubmit your credentials!', { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t\t\tdocument.querySelectorAll(\".mdl-spinner\").forEach(function(e) { e.parentNode.removeChild(e); });\n\t\t\t\t}\n\t\t\t});\n\t\tapp.auth = {};\n\t};\n\n\tapp.refreshAuthenticate = function() {\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tapp.auth.pushSubscription = {\n\t\t\tendpoint: app.getSetting('settings.pushSubscription.endpoint'),\n\t\t\tkeys: {\n\t\t\t\tauth: app.getSetting('settings.pushSubscription.keys.auth'),\n\t\t\t\tp256dh: app.getSetting('settings.pushSubscription.keys.p256dh')\n\t\t\t}\n\t\t};\n\t\tif (localStorage.getItem('refresh_token') !== \"null\") {\n\t\t\tvar refreshPOST = { \"grant_type\": \"refresh_token\", \"refresh_token\": localStorage.getItem('refresh_token'), pushSubscription: app.auth.pushSubscription };\n\t\t\tvar myInit = { method: 'POST', headers: myHeaders, body: JSON.stringify(refreshPOST) };\n\t\t\tvar url = `${app.baseUrl}/${app.api_version}/authenticate`;\n\t\n\t\t\tfetch(url, myInit)\n\t\t\t\t.then(\n\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tif (response.token && response.refresh_token && response.refreshTokenExp) {\n\t\t\t\t\t\tlocalStorage.setItem('bearer', response.token);\n\t\t\t\t\t\tlocalStorage.setItem('refresh_token', response.refresh_token);\n\t\t\t\t\t\tlocalStorage.setItem('refreshTokenExp', response.refreshTokenExp);\n\t\n\t\t\t\t\t\tapp.isLogged = true;\n\t\t\t\t\t\tif (typeof firebase !== \"undefined\") {\n\t\t\t\t\t\t\tfirebase.initializeApp(firebaseConfig);\n\t\t\t\t\t\t\tfirebase.analytics().setUserProperties({ 'isLoggedIn': 1 });\n\t\t\t\t\t\t\tfirebase.analytics().logEvent('refreshAuthenticate');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.fetchProfile();\n\t\n\t\t\t\t\t\tapp.setHiddenElement(\"signin_button\");\n\t\t\t\t\t\tapp.setVisibleElement(\"logout_button\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\t\ttoast('Auth internal error', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.resetDrawer();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(function(error) {\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast('We can\\'t process your identification. Please resubmit your credentials on login page!', { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\tapp.auth = {};\n\t\t} else {\n\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\ttoast('Please resubmit your credentials on login page!', { timeout: app.toastDuration, type: \"error\" });\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.addMenuItem = function(title, icon, link, position) {\n\t\tvar menuElt = document.createElement(\"a\");\n\t\tmenuElt.setAttribute('href', link);\n\t\tmenuElt.setAttribute('class', 'mdl-navigation__link');\n\t\tvar iconElt = document.createElement(\"i\");\n\t\ticonElt.setAttribute('class', 'material-icons');\n\t\ticonElt.appendChild(document.createTextNode(icon));\n\t\tmenuElt.appendChild(iconElt);\n\t\tmenuElt.appendChild(document.createTextNode(title));\n\t\tmenuElt.addEventListener('click', function(evt) {\n\t\t\tapp.setSection((evt.target.getAttribute('hash') !== null ? evt.target.getAttribute('hash') : evt.target.getAttribute('href')).substr(1));\n\t\t\tapp.hideMenu();\n\t\t}, false);\n\n\t\tif (position && position > -1) {\n\n\t\t} else {\n\t\t\tdocument.querySelector('#drawer nav.mdl-navigation.menu__list').appendChild(menuElt);\n\t\t}\n\t};\n\n\tapp.getSettings = function() {\n\t\tvar settings = \"\";\n\n\t\tsettings += app.getSubtitle('Application settings');\n\t\tsettings += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\tsettings += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tsettings += \"\t<div class=\\\"card-header heading-left\\\">&nbsp;</div>\";\n\t\tsettings += app.getField('radio_button_checked', 'Floating Action Buttons', app.getSetting('settings.fab_position') !== null ? app.getSetting('settings.fab_position') : 'fab__bottom', { type: 'select', id: 'settings.fab_position', options: [{ name: 'fab__top', value: 'Top position' }, { name: 'fab__bottom', value: 'Bottom position' }], isEdit: true });\n\t\tsettings += app.getField('format_textdirection_l_to_r', 'Action buttons', app.getSetting('settings.isLtr') !== null ? app.getSetting('settings.isLtr') : true, { type: 'select', id: 'settings.isLtr', options: [{ name: 'true', value: 'Aligned to the right' }, { name: 'false', value: 'Aligned to the left' }], isEdit: true });\n\t\tsettings += app.getField('date_range', 'Date Format', app.getSetting('settings.date_format') !== null ? app.getSetting('settings.date_format') : app.date_format, { type: 'input', id: 'settings.date_format', isEdit: true });\n\t\tsettings += app.getField('subject', 'Card Chars Limit', app.getSetting('settings.cardMaxChars') !== null ? app.getSetting('settings.cardMaxChars') : app.cardMaxChars, { type: 'input', id: 'settings.cardMaxChars', isEdit: true, pattern: app.patterns.cardMaxChars, error: 'Must be an Integer.' });\n\t\tsettings += app.getField('room', app.getSetting('settings.geolocalization') != 'false' ? \"Geolocalization is enabled\" : \"Geolocalization is disabled\", app.getSetting('settings.geolocalization') !== null ? app.getSetting('settings.geolocalization') : true, { type: 'switch', id: 'settings.geolocalization', isEdit: true });\n\t\tsettings += app.getField('bug_report', app.getSetting('settings.debug') != 'false' ? \"Debug is enabled\" : \"Debug is disabled\", app.getSetting('settings.debug') !== null ? app.getSetting('settings.debug') : app.debug, { type: 'switch', id: 'settings.debug', options: [{ name: 'true', value: 'True' }, { name: 'false', value: 'False' }], isEdit: true });\n\t\tsettings += app.getField('voice_over_off', 'Do Not Track (DNT) header', navigator.doNotTrack == '1' ? \"Enabled, you are not being tracked. This setting is customized on your browser.\" : \"Disabled, you are tracked :-) and it can be customized on your browser settings.\", { type: 'switch', isEdit: false });\n\t\tsettings += \"\t</div>\";\n\t\tsettings += \"</section>\";\n\n\t\tsettings += app.getSubtitle('API Notifications');\n\t\tsettings += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\tsettings += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tsettings += \"\t<div class=\\\"card-header heading-left\\\">&nbsp;</div>\";\n\t\tsettings += app.getField('notifications', app.getSetting('settings.notifications') != 'false' ? \"Notifications are enabled\" : \"Notifications are disabled\", app.getSetting('settings.notifications') !== undefined ? app.getSetting('settings.notifications') : true, { type: 'switch', id: 'settings.notifications', isEdit: true });\n\t\tif (app.getSetting('settings.pushSubscription.keys.p256dh') && app.getSetting('settings.notifications') != \"false\" && app.getSetting('settings.debug') != \"false\") {\n\t\t\tsettings += app.getField('cloud', 'Endpoint', app.getSetting('settings.pushSubscription.endpoint'), { type: 'input', id: 'settings.pushSubscription.endpoint', isEdit: true, style: \"text-transform: none !important;\" });\n\t\t\tsettings += app.getField('vpn_key', 'Key', app.getSetting('settings.pushSubscription.keys.p256dh'), { type: 'input', id: 'settings.pushSubscription.keys.p256dh', isEdit: true, style: \"text-transform: none !important;\" });\n\t\t\tsettings += app.getField('vpn_lock', 'Auth', app.getSetting('settings.pushSubscription.keys.auth'), { type: 'input', id: 'settings.pushSubscription.keys.auth', isEdit: true, style: \"text-transform: none !important;\" });\n\t\t}\n\t\tsettings += \"\t</div>\";\n\t\tsettings += \"</section>\";\n\n\t\t(app.containers.settings).querySelector('.page-content').innerHTML = settings;\n\t\tcomponentHandler.upgradeDom();\n\n\t\tif (document.getElementById('settings.fab_position')) {\n\t\t\tdocument.getElementById('settings.fab_position').addEventListener('change', function(e) {\n\t\t\t\tapp.setSetting('settings.fab_position', e.target.value);\n\t\t\t\tvar fabs = document.querySelectorAll('.mdl-button--fab_flinger-container');\n\t\t\t\tif (e.target.value == 'fab__top') {\n\t\t\t\t\tfor (var f in fabs) {\n\t\t\t\t\t\tif ((fabs[f]).childElementCount > -1) {\n\t\t\t\t\t\t\t(fabs[f]).classList.add('fab__top');\n\t\t\t\t\t\t\t(fabs[f]).classList.remove('fab__bottom');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttoast('Floating Button are aligned Top.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t} else {\n\t\t\t\t\tfor (var f in fabs) {\n\t\t\t\t\t\tif ((fabs[f]).childElementCount > -1) {\n\t\t\t\t\t\t\t(fabs[f]).classList.remove('fab__top');\n\t\t\t\t\t\t\t(fabs[f]).classList.add('fab__bottom');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ttoast('Floating Button are aligned Bottom.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (document.getElementById('settings.isLtr')) {\n\t\t\tdocument.getElementById('settings.isLtr').addEventListener('change', function(e) {\n\t\t\t\tapp.setSetting('settings.isLtr', e.target.value);\n\t\t\t\tvar fabs = document.querySelectorAll('.mdl-button--fab_flinger-container');\n\t\t\t\tif (e.target.value == 'true') {\n\t\t\t\t\tapp.setSetting('settings.isLtr', true);\n\t\t\t\t\ttoast('Action buttons are aligned to the right.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t} else {\n\t\t\t\t\tapp.setSetting('settings.isLtr', false);\n\t\t\t\t\ttoast('Action buttons are aligned to the left.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (document.getElementById('switch-settings.notifications')) {\n\t\t\tdocument.getElementById('switch-settings.notifications').addEventListener('change', function(e) {\n\t\t\t\tvar label = e.target.parentElement.querySelector('div.mdl-switch__label');\n\t\t\t\tif (document.getElementById('switch-settings.notifications').checked === true) {\n\t\t\t\t\tapp.setSetting('settings.notifications', true);\n\t\t\t\t\tapp.askPermission();\n\t\t\t\t\tapp.subscribeUserToPush();\n\t\t\t\t\tlabel.innerText = \"Notifications are enabled\";\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast('Awsome, Notifications are enabled.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlabel.innerText = \"Notifications are disabled\";\n\t\t\t\t\tapp.setSetting('settings.notifications', false);\n\t\t\t\t\ttoast('Notifications are disabled.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (document.getElementById('switch-settings.geolocalization')) {\n\t\t\tdocument.getElementById('switch-settings.geolocalization').addEventListener('change', function(e) {\n\t\t\t\tvar label = e.target.parentElement.querySelector('div.mdl-switch__label');\n\t\t\t\tif (document.getElementById('switch-settings.geolocalization').checked === true) {\n\t\t\t\t\tapp.setSetting('settings.geolocalization', true);\n\t\t\t\t\tlabel.innerText = \"Geolocalization is enabled\";\n\t\t\t\t\tapp.getLocation();\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast('Awsome, Geolocalization is enabled.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tapp.setSetting('settings.geolocalization', false);\n\t\t\t\t\tlabel.innerText = \"Geolocalization is disabled\";\n\t\t\t\t\ttoast('Geolocalization is disabled.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (document.getElementById('switch-settings.debug')) {\n\t\t\tdocument.getElementById('switch-settings.debug').addEventListener('change', function(e) {\n\t\t\t\tvar label = e.target.parentElement.querySelector('div.mdl-switch__label');\n\t\t\t\tif (document.getElementById('switch-settings.debug').checked === true) {\n\t\t\t\t\tapp.setSetting('settings.debug', true);\n\t\t\t\t\tlabel.innerText = \"Debug is enabled\";\n\t\t\t\t\tdocument.dispatchEvent(new Event(\"clearCache\"));\n\t\t\t\t\tapp.debug = true;\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast('Awsome, Debug mode is activated and cache is now cleared.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tapp.setSetting('settings.debug', false);\n\t\t\t\t\tlabel.innerText = \"Debug is disabled\";\n\t\t\t\t\tapp.debug = false;\n\t\t\t\t\ttoast('Debug mode is disabled.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif (document.getElementById('settings.date_format')) {\n\t\t\tdocument.getElementById('settings.date_format').addEventListener('keyup', function(e) {\n\t\t\t\tapp.setSetting('settings.date_format', document.getElementById('settings.date_format').value);\n\t\t\t\tapp.date_format = document.getElementById('settings.date_format').value;\n\t\t\t\ttoast('Date Format has been updated on ' + moment().format(app.date_format), { timeout: app.toastDuration, type: \"done\" });\n\t\t\t});\n\t\t}\n\t\tif (document.getElementById('settings.cardMaxChars')) {\n\t\t\tdocument.getElementById('settings.cardMaxChars').addEventListener('keyup', function(e) {\n\t\t\t\tif ((document.getElementById('settings.cardMaxChars').value).match(app.patterns.cardMaxChars)) {\n\t\t\t\t\tapp.setSetting('settings.cardMaxChars', document.getElementById('settings.cardMaxChars').value);\n\t\t\t\t\tapp.cardMaxChars = document.getElementById('settings.cardMaxChars').value;\n\t\t\t\t\ttoast('Card Limit is set to ' + app.cardMaxChars + '.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t} else {\n\t\t\t\t\ttoast('Card Limit remain ' + app.cardMaxChars + '.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tapp.getStatus = function() {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\tvar url = `${app.baseUrl}/${app.api_version}/status`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tif (!navigator.onLine) {\n\t\t\t\t\t(app.containers.status).querySelector('.page-content').innerHTML = app.getCard(app.offlineCard);\n\t\t\t\t} else {\n\t\t\t\t\tvar status = \"\";\n\t\t\t\t\tstatus += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tstatus += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tstatus += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\t\tstatus += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\t\tstatus += \"\t\t\t\t<i class=\\\"material-icons\\\">\" + app.icons.status + \"</i>\";\n\t\t\t\t\tstatus += \"\t\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\" + app.sectionsPageTitles.status + \"</h3>\";\n\t\t\t\t\tstatus += \"\t\t\t</span>\";\n\t\t\t\t\tstatus += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\t\tstatus += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='status-details'>\";\n\t\t\t\t\tstatus += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\t\tstatus += \"\t\t\t\t</button>\";\n\t\t\t\t\tstatus += \"\t\t\t</span>\";\n\t\t\t\t\tstatus += \"\t\t</div>\";\n\t\t\t\t\tstatus += \"\t\t<div class=\\\"card-body\\\">\";\n\t\t\t\t\tstatus += \"\t\t\t<div class='mdl-list__item--three-line small-padding  mdl-card--expand' id='status-details'>\";\n\t\t\t\t\tstatus += app.getField('thumb_up', 'Application Name', response.appName, { type: 'text', style: 'text-transform: none !important;', isEdit: false });\n\t\t\t\t\tstatus += app.getField('favorite', 'Status', response.status, { type: 'text', isEdit: false });\n\t\t\t\t\tstatus += app.getField('volume_down', 'Mqtt Topic Info', response.mqttInfo, { type: 'text', style: 'text-transform: none !important;', isEdit: false });\n\t\t\t\t\tstatus += app.getField('verified_user', 'Api Version', response.version, { type: 'text', style: 'text-transform: none !important;', isEdit: false });\n\t\t\t\t\tstatus += app.getField('verified_user', 'Build Version', response.t6BuildVersion, { type: 'text', style: 'text-transform: none !important;', isEdit: false });\n\t\t\t\t\tstatus += app.getField('alarm', 'Build Date', moment(response.t6BuildDate, \"DD/MM/YYYY HH:mm:ss\").format(app.date_format), { type: 'text', style: 'text-transform: none !important;', isEdit: false });\n\t\t\t\t\tstatus += app.getField('alarm', 'Server Last Update', `${moment(response.started_at, \"DD/MM/YYYY HH:mm:ss\").format(app.date_format)} ; Loaded in ${response.startProcessTime}ms (incl. ${response.moduleLoadTime}ms to load modules)`, { type: 'text', isEdit: false });\n\t\t\t\t\tstatus += app.getField('trip_origin', 'appId', firebaseConfig.appId, { type: 'text', isEdit: false });\n\t\t\t\t\tstatus += \"\t\t\t</div>\";\n\t\t\t\t\tstatus += \"\t\t</div>\";\n\t\t\t\t\tstatus += \"\t</div>\";\n\t\t\t\t\tstatus += \"</section>\";\n\n\t\t\t\t\tif (app.RateLimit.Limit && app.RateLimit.Remaining) {\n\t\t\t\t\t\tstatus += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\t\tstatus += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\t\tstatus += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\t\t\tstatus += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\t\t\tstatus += \"\t\t\t\t<i class=\\\"material-icons\\\">crop_free</i>\";\n\t\t\t\t\t\tstatus += \"\t\t\t\t<h3 class=\\\"mdl-card__title-text\\\">API Usage</h3>\";\n\t\t\t\t\t\tstatus += \"\t\t\t</span>\";\n\t\t\t\t\t\tstatus += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\t\t\tstatus += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='status-usage'>\";\n\t\t\t\t\t\tstatus += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\t\t\tstatus += \"\t\t\t\t</button>\";\n\t\t\t\t\t\tstatus += \"\t\t\t</span>\";\n\t\t\t\t\t\tstatus += \"\t\t</div>\";\n\t\t\t\t\t\tstatus += \"\t\t<div class='mdl-cell--12-col' id='status-usage'>\";\n\t\t\t\t\t\tif (app.RateLimit.Used && app.RateLimit.Limit) {\n\t\t\t\t\t\t\tstatus += app.getField('center_focus_weak', 'Used', app.RateLimit.Used + '/' + app.RateLimit.Limit, { type: 'progress-status', isEdit: false });\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstatus += \"\t\t</div>\";\n\t\t\t\t\t\tstatus += \"\t</div>\";\n\t\t\t\t\t\tstatus += \"</section>\";\n\t\t\t\t\t}\n\n\t\t\t\t\t(app.containers.status).querySelector('.page-content').innerHTML = status;\n\t\t\t\t\tif (app.RateLimit.Used && app.RateLimit.Limit) {\n\t\t\t\t\t\tvar rate = Math.ceil((app.RateLimit.Used * 100 / app.RateLimit.Limit) / 10) * 10;\n\t\t\t\t\t\tdocument.querySelector('#progress-status').addEventListener('mdl-componentupgraded', function() {\n\t\t\t\t\t\t\tthis.MaterialProgress.setProgress(rate);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tapp.setExpandAction();\n\t\t\t\t}\n\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast('Can\\'t display Status...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.getTerms = function() {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\tvar url = `${app.baseUrl}/${app.api_version}/terms`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tvar terms = \"\";\n\t\t\t\tfor (var i = 0; i < (response).length; i++) {\n\t\t\t\t\tterms += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tterms += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tif (response[i].title) {\n\t\t\t\t\t\tterms += \"\t<div class=\\\"mdl-card__title\\\">\";\n\t\t\t\t\t\tterms += \"\t\t<i class=\\\"material-icons\\\">business_center</i></span>\";\n\t\t\t\t\t\tterms += \"\t\t<h3 class=\\\"mdl-card__title-text\\\">\" + response[i].title + \"</h3>\";\n\t\t\t\t\t\tterms += \"\t</div>\";\n\t\t\t\t\t}\n\t\t\t\t\tterms += \"\t\t<div class=\\\"mdl-card__supporting-text no-padding\\\">\";\n\t\t\t\t\tterms += response[i].description;\n\t\t\t\t\tterms += \"\t\t</div>\";\n\t\t\t\t\tterms += \"\t</div>\";\n\t\t\t\t\tterms += \"</section>\";\n\t\t\t\t}\n\t\t\t\t(app.containers.terms).querySelector('.page-content').innerHTML = terms;\n\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast('Can\\'t display Terms...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.getCompatibleDevices = function() {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\tvar url = `${app.baseUrl}/${app.api_version}/compatible-devices`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tvar compatibledevices = \"\";\n\t\t\t\tfor (var i = 0; i < (response).length; i++) {\n\t\t\t\t\tcompatibledevices += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tcompatibledevices += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tif (response[i].title) {\n\t\t\t\t\t\tcompatibledevices += \"\t<div class=\\\"mdl-card__title\\\">\";\n\t\t\t\t\t\tcompatibledevices += \"\t\t<i class=\\\"material-icons\\\">devices_other</i>\";\n\t\t\t\t\t\tcompatibledevices += \"\t\t<h3 class=\\\"mdl-card__title-text\\\">\" + response[i].title + \"</h3>\";\n\t\t\t\t\t\tcompatibledevices += \"\t</div>\";\n\t\t\t\t\t}\n\t\t\t\t\tcompatibledevices += \"\t\t<div class=\\\"mdl-card__supporting-text no-padding\\\">\";\n\t\t\t\t\tcompatibledevices += \"\t\t\t<img src=\\\"/img/m/placeholder.png\\\" class=\\\"lazyloading img-responsive\\\" data-src=\\\"\" + app.baseUrlCdn + response[i].image + \"\\\" align=\\\"left\\\" style=\\\"margin-right: 5px;\\\" width=\\\"100\\\" alt=\\\"\" + app.baseUrlCdn + response[i].title + \"\\\" />\"\n\t\t\t\t\tcompatibledevices += response[i].description;\n\t\t\t\t\tcompatibledevices += \"\t\t</div>\";\n\t\t\t\t\tcompatibledevices += \"\t</div>\";\n\t\t\t\t\tcompatibledevices += \"</section>\";\n\t\t\t\t}\n\t\t\t\t(app.containers.compatibleDevices).querySelector('.page-content').innerHTML = compatibledevices;\n\t\t\t\tapp.imageLazyLoading();\n\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast('Can\\'t display compatible devices...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.getOpenSourceLicenses = function() {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\tvar url = `${app.baseUrl}/${app.api_version}/open-source-licenses`;\n\n\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse) {\n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tvar openSourceLicenses = \"\";\n\t\t\t\tfor (var i = 0; i < (response).length; i++) {\n\t\t\t\t\topenSourceLicenses += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\topenSourceLicenses += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tif (response[i].title) {\n\t\t\t\t\t\topenSourceLicenses += \"\t<div class=\\\"mdl-card__title\\\">\";\n\t\t\t\t\t\topenSourceLicenses += \"\t\t<i class=\\\"material-icons\\\">book</i>\";\n\t\t\t\t\t\topenSourceLicenses += \"\t\t<h3 class=\\\"mdl-card__title-text\\\">\" + response[i].title + \"</h3>\";\n\t\t\t\t\t\topenSourceLicenses += \"\t\t<p>\" + response[i].license + \"</p>\";\n\t\t\t\t\t\topenSourceLicenses += \"\t</div>\";\n\t\t\t\t\t}\n\t\t\t\t\topenSourceLicenses += \"\t\t<div class=\\\"mdl-card__supporting-text no-padding\\\">\";\n\t\t\t\t\topenSourceLicenses += response[i].description;\n\t\t\t\t\topenSourceLicenses += \"\t\t</div>\";\n\t\t\t\t\tif (response[i].dependencies) {\n\t\t\t\t\t\topenSourceLicenses += \"\t\t<pre>\";\n\t\t\t\t\t\topenSourceLicenses += response[i].dependencies;\n\t\t\t\t\t\topenSourceLicenses += \"\t\t</pre>\";\n\t\t\t\t\t}\n\t\t\t\t\topenSourceLicenses += \"\t\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\t\t\t\topenSourceLicenses += \"\t\t\t<button class=\\\"mdl-button mdl-js-button mdl-js-ripple-effect\\\" onclick=\\\"document.location.href=\\'\" + response[i].linkFullReport + \"\\';\\\"> Get dependencies full report</button>\";\n\t\t\t\t\topenSourceLicenses += \"\t\t</div>\";\n\t\t\t\t\topenSourceLicenses += \"\t</div>\";\n\t\t\t\t\topenSourceLicenses += \"</section>\";\n\t\t\t\t}\n\t\t\t\t(app.containers.openSourceLicenses).querySelector('.page-content').innerHTML = openSourceLicenses;\n\t\t\t\tapp.imageLazyLoading();\n\t\t\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t\t\t\tapp.containers.spinner.classList.add('hidden');\n\t\t\t})\n\t\t\t.catch(function(error) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast('Can\\'t display Open-Source Licenses...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tapp.getExploration = function() {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tif (app.isLogged) {\n\t\t\tlet explorationNode = \"\";\n\t\t\texplorationNode += app.getSubtitle('Filters');\n\t\t\texplorationNode += \"<section class='mdl-grid mdl-cell--12-col'>\";\n\t\t\texplorationNode += \"\t<div class='mdl-cell--12-col mdl-card mdl-shadow--2dp'>\";\n\t\t\texplorationNode += \"\t\t<div>&nbsp;</div>\";\n\t\t\texplorationNode += app.getField(app.icons.date, \"From date\", moment().subtract(7, \"days\").format(\"YYYY-MM-DD HH:mm:ss\"), { type: \"text\", id: \"start\", pattern: app.patterns.date, isEdit: true });\n\t\t\texplorationNode += app.getField(app.icons.date, \"To date\", moment().format(\"YYYY-MM-DD HH:mm:ss\"), { type: \"text\", id: \"end\", pattern: app.patterns.date, isEdit: true });\n\t\t\texplorationNode += \"\t\t<div>&nbsp;</div>\";\n\t\t\tif (localStorage.getItem(\"flows\") != \"null\") {\n\t\t\t\tvar flows = JSON.parse(localStorage.getItem(\"flows\")).map(function(flow) {\n\t\t\t\t\treturn { value: flow.name, name: flow.id };\n\t\t\t\t});\n\t\t\t\texplorationNode += app.getField(app.icons.flows, \"Flows to explore\", \"\", { type: \"select\", id: \"flowsChipsSelect\", isEdit: true, options: flows });\n\t\t\t} else {\n\t\t\t\tapp.getFlows();\n\t\t\t\texplorationNode += app.getField(app.icons.flows, \"Flows to explore\", \"\", { type: \"select\", id: \"flowsChipsSelect\", isEdit: true, options: {} });\n\t\t\t}\n\t\t\texplorationNode += \"\t\t<div class='mdl-list__item--three-line small-padding  mdl-card--expand mdl-chips chips-initial input-field' id='flowsChips'>\";\n\t\t\texplorationNode += \"\t\t\t<span class='mdl-chips__arrow-down__container mdl-selectfield__arrow-down__container'><span class='mdl-chips__arrow-down'></span></span>\";\n\t\t\texplorationNode += \"\t\t</div>\";\n\t\t\texplorationNode += \"\t\t<div>&nbsp;</div>\";\n\t\t\texplorationNode += \"\t</div>\";\n\t\t\texplorationNode += \"</section>\";\t\t\t\n\t\t\t\n\t\t\texplorationNode += app.getSubtitle('Non graphical output');\n\t\t\texplorationNode += \"<section class='mdl-grid mdl-cell--12-col'>\";\n\t\t\texplorationNode += \"\t<div class='mdl-cell--12-col mdl-card mdl-shadow--2dp'>\";\n\t\t\texplorationNode += \"\t\t<div>&nbsp;</div>\";\n\t\t\texplorationNode += app.getField(\"local_play\", \"Summary Statistics\", true, { type: \"switch\", id: \"ExplorationSummary\", isEdit: true, options: {} });\n\t\t\texplorationNode += app.getField(\"first_page\", \"Head\", false, { type: \"switch\", id: \"ExplorationHead\", isEdit: true, options: {} });\n\t\t\texplorationNode += app.getField(\"last_page\", \"Tail\", false, { type: \"switch\", id: \"ExplorationTail\", isEdit: true, options: {} });\n\t\t\texplorationNode += app.getField(\"dehaze\", \"List Distinct Facts\", false, { type: \"switch\", id: \"ExplorationListFacts\", isEdit: \"disabled\", options: {} });\n\t\t\texplorationNode += app.getField(\"dehaze\", \"List Distinct Categories\", false, { type: \"switch\", id: \"ExplorationListCategories\", isEdit: \"disabled\", options: {} });\n\t\t\texplorationNode += \"\t</div>\";\n\t\t\texplorationNode += \"</section>\";\n\t\t\t\n\t\t\texplorationNode += app.getSubtitle('Graphical output');\n\t\t\texplorationNode += \"<section class='mdl-grid mdl-cell--12-col'>\";\n\t\t\texplorationNode += \"\t<div class='mdl-cell--12-col mdl-card mdl-shadow--2dp'>\";\n\t\t\texplorationNode += \"\t\t<div>&nbsp;</div>\";\n\t\t\texplorationNode += app.getField(\"bar_chart\", \"Frequency shape distribution\", false, { type: \"switch\", id: \"ExplorationFrequency\", isEdit: true, options: {} });\n\t\t\texplorationNode += app.getField(\"double_arrow\", \"Boxplot\", false, { type: \"switch\", id: \"ExplorationBoxplot\", isEdit: true, options: {} });\n\t\t\texplorationNode += app.getField(\"show_chart\", \"Plot Line\", false, { type: \"switch\", id: \"ExplorationLine\", isEdit: true, options: {} });\n\t\t\texplorationNode += app.getField(\"trending_up\", \"Loess\", false, { type: \"switch\", id: \"ExplorationLoess\", isEdit: true, options: {} });\n\t\t\texplorationNode += \"\t</div>\";\n\t\t\texplorationNode += \"</section>\";\n\t\t\t\n\t\t\texplorationNode += app.getSubtitle('TimeSeries decomposition');\n\t\t\texplorationNode += \"<section class='mdl-grid mdl-cell--12-col'>\";\n\t\t\texplorationNode += \"\t<div class='mdl-cell--12-col mdl-card mdl-shadow--2dp'>\";\n\t\t\texplorationNode += \"\t\t<div>&nbsp;</div>\";\n\t\t\texplorationNode += app.getField(\"trending_up\", \"Trend\", false, { type: \"switch\", id: \"ExplorationTrend\", isEdit: \"disabled\", options: {} });\n\t\t\texplorationNode += app.getField(\"timeline\", \"Seasonality\", false, { type: \"switch\", id: \"ExplorationSeasonality\", isEdit: \"disabled\", options: {} });\n\t\t\texplorationNode += app.getField(\"swap_calls\", \"Noise/Remainder\", false, { type: \"switch\", id: \"ExplorationRemainder\", isEdit: \"disabled\", options: {} });\n\t\t\texplorationNode += \"\t</div>\";\n\t\t\texplorationNode += \"</section>\";\n\n\t\t\t(app.containers.exploration).querySelector('.page-content').innerHTML = explorationNode;\n\t\t\tapp.showAddFAB(\"exploration\");\n\t\t\tcomponentHandler.upgradeDom();\n\t\t\tdocument.getElementById(\"flowsChipsSelect\").parentNode.querySelector(\"div.mdl-selectfield__list-option-box ul\").addEventListener(\"click\", function(evt) {\n\t\t\t\tvar id = evt.target.getAttribute(\"data-value\");\n\t\t\t\tvar name = evt.target.innerText;\n\t\t\t\tapp.removeChipFrom(\"flowsChips\");\n\t\t\t\tapp.addChipTo(\"flowsChips\", { name: name, id: id, type: \"flows\" });\n\t\t\t\tevt.preventDefault();\n\t\t\t}, false);\n\t\t}\n\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t};\n\t\n\tapp.getHistory = function() {\n\t\tapp.containers.spinner.removeAttribute('hidden');\n\t\tapp.containers.spinner.classList.remove('hidden');\n\t\tif (app.isLogged) {\n\t\t\tlet historyNode = \"\";\n\t\t\t(app.containers.history).querySelector('.page-content').innerHTML = historyNode; // reset\n\t\t\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem('bearer'));\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: 'GET', headers: myHeaders };\n\t\t\tvar url = `${app.baseUrl}/${app.api_version}/data/?limit=50`;\n\t\t\tfetch(url, myInit)\n\t\t\t\t.then(\n\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t})\n\t\t\t\t.then(function(response) {\n\t\t\t\t\tif (response.data) {\n\t\t\t\t\t\t(response.data).map(function(hist) {\n\t\t\t\t\t\t\tlet flow_id = ((hist.id).split(\"/\"))[0];\n\t\t\t\t\t\t\tlet flow;\n\t\t\t\t\t\t\tflow = JSON.parse(localStorage.getItem(\"flows\")).find(flow => flow.id === flow_id);\n\t\t\t\t\t\t\tflow = typeof flow!=\"undefined\"?flow:{};\n\t\t\t\t\t\t\tlet unit = typeof flow!==\"undefined\" ? JSON.parse(localStorage.getItem(\"units\")).find(u => flow.unit === u.name) : {format: \"%S\"};\n\t\t\t\t\t\t\tif ( typeof flow!==\"undefined\" && flow.unit && typeof unit!==\"undefined\" ) {\n\t\t\t\t\t\t\t\tunit.format = typeof unit.format!==\"undefined\"?unit.format:\"%s\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tunit = {format: \"%s\"}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thistoryNode += `<div class=\"mdl-grid mdl-cell mdl-cell--12-col\" data-action=\"view\" data-id=\"\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-card mdl-shadow--2dp\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"mdl-card__title\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"material-icons\">${app.icons.history}</i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>${(typeof flow!==\"undefined\" && flow.name)?flow.name:\"Undefined Flow\"}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"padding: 0 1em\">-</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"padding: 0 1em\">(ttl: ${typeof flow.ttl!=\"undefined\"?flow.ttl:\"?\"})</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style=\"padding: 0 1em\">-</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>${moment(hist.attributes.time).format(app.date_format)}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 class=\"mdl-card__title-text secondary-content\">${sprintf(unit.format, hist.attributes.value)}</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\n\t\t\t\t\t\t});\n\t\t\t\t\t\t(app.containers.history).querySelector('.page-content').innerHTML += historyNode;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcomponentHandler.upgradeDom();\n\t\t}\n\t\tapp.containers.spinner.setAttribute('hidden', true);\n\t};\n\n\tapp.toggleElement = function(id) {\n\t\tdocument.querySelector('#' + id).classList.toggle('hidden');\n\t};\n\n\tapp.setHiddenElement = function(id) {\n\t\tdocument.querySelector('#' + id).classList.add('hidden');\n\t};\n\n\tapp.setVisibleElement = function(id) {\n\t\tdocument.querySelector('#' + id).classList.remove('hidden');\n\t};\n\n\tapp.showNotification = function() {\n\t\ttoast('You are offline.', { timeout: app.toastDuration, type: \"warning\" });\n\t};\n\n\tapp.sessionExpired = function() {\n\t\tlocalStorage.setItem('bearer', null);\n\t\tlocalStorage.setItem('refresh_token', null);\n\t\tlocalStorage.setItem('refreshTokenExp', null);\n\t\tlocalStorage.setItem('flows', null);\n\t\tlocalStorage.setItem('snippets', null);\n\t\tlocalStorage.setItem('sources', null);\n\t\tlocalStorage.setItem('currentUserId', null);\n\t\tlocalStorage.setItem('currentUserName', null);\n\t\tlocalStorage.setItem('currentUserEmail', null);\n\t\tlocalStorage.setItem('currentUserHeader', null);\n\t\tlocalStorage.setItem('notifications.unsubscribed', null);\n\t\tlocalStorage.setItem('notifications.unsubscription_token', null);\n\t\tlocalStorage.setItem('notifications.email', null);\n\t\tlocalStorage.setItem('role', null);\n\n\t\tapp.auth = {};\n\t\tapp.RateLimit = { Limit: null, Remaining: null, Used: null };\n\t\tapp.itemsSize = { objects: 15, flows: 15, snippets: 15, dashboards: 15, mqtts: 15, rules: 15, sources: 15 };\n\t\tapp.itemsPage = { objects: 1, flows: 1, snippets: 1, dashboards: 1, mqtts: 1, rules: 1, sources: 1 };\n\t\tif (!app.isLogged) toast('Your session has expired. You must sign-in again.', { timeout: app.toastDuration, type: \"error\" });\n\t\tapp.isLogged = false;\n\t\tapp.resetDrawer();\n\n\t\tapp.setVisibleElement(\"signin_button\");\n\t\tapp.setHiddenElement(\"logout_button\");\n\t\tapp.setDrawer();\n\n\t\tapp.refreshButtonsSelectors();\n\t\tcomponentHandler.upgradeDom();\n\n\t\tif (app.containers.profile) {\n\t\t\t(app.containers.profile).querySelector('.page-content').innerHTML = \"\";\n\t\t}\n\t\tif (app.containers.objects) {\n\t\t\t(app.containers.objects).querySelector('.page-content').innerHTML = app.getCard({ title: 'Connected Objects', titlecolor: '#ffffff', description: 'Connecting anything physical or virtual to t6 Api without any hassle. Embedded, Automatization, Domotic, Sensors, any Objects or Devices can be connected and communicate to t6 via RESTful API. Unic and dedicated application to rules them all and designed to simplify your journey.' });\n\t\t\tapp.displayLoginForm((app.containers.objects).querySelector('.page-content'));\n\t\t}\n\t\tif (app.containers.flows) {\n\t\t\t(app.containers.flows).querySelector('.page-content').innerHTML = app.getCard({ title: 'Time-series Datapoints', titlecolor: '#ffffff', description: 'Communication becomes easy in the platform with Timestamped values. Flows allows to retrieve and classify data.', action: { id: 'login', label: 'Sign-In' }, secondaryaction: { id: 'signup', label: 'Create an account' } });\n\t\t\tapp.displayLoginForm((app.containers.flows).querySelector('.page-content'));\n\t\t}\n\t\tif (app.containers.dashboards) {\n\t\t\t(app.containers.dashboards).querySelector('.page-content').innerHTML = app.getCard({ title: 'Dashboards', titlecolor: '#ffffff', description: 't6 support multiple Snippets to create your own IoT Dashboards for data visualization. Snippets are ready to Use Html components integrated into the application. Dashboards allows to empower your data-management by Monitoring and Reporting activities.', action: { id: 'login', label: 'Sign-In' }, secondaryaction: { id: 'signup', label: 'Create an account' } });\n\t\t\tapp.displayLoginForm((app.containers.dashboards).querySelector('.page-content'));\n\t\t}\n\t\tif (app.containers.snippets) {\n\t\t\t(app.containers.snippets).querySelector('.page-content').innerHTML = app.getCard({ title: 'Snippets', titlecolor: '#ffffff', description: 'Snippets are components to embed into your dashboards and displays your data', action: { id: 'login', label: 'Sign-In' }, secondaryaction: { id: 'signup', label: 'Create an account' } });\n\t\t\tapp.displayLoginForm((app.containers.snippets).querySelector('.page-content'));\n\t\t}\n\t\tif (app.containers.rules) {\n\t\t\t(app.containers.rules).querySelector('.page-content').innerHTML = app.getCard({ title: 'Decision Rules to get smart', titlecolor: '#ffffff', description: 'Trigger action from Mqtt and decision-tree. Let\\'s your Objects talk to the platform as events.', action: { id: 'login', label: 'Sign-In' }, secondaryaction: { id: 'signup', label: 'Create an account' } });\n\t\t\tapp.displayLoginForm((app.containers.rules).querySelector('.page-content'));\n\t\t}\n\t\tif (app.containers.mqtts) {\n\t\t\t(app.containers.mqtts).querySelector('.page-content').innerHTML = app.getCard({ title: 'Sense events', titlecolor: '#ffffff', description: 'Whether it\\'s your own sensors or external Flows from Internet, sensors collect values and communicate them to t6.', action: { id: 'login', label: 'Sign-In' }, secondaryaction: { id: 'signup', label: 'Create an account' } });\n\t\t\tapp.displayLoginForm((app.containers.mqtts).querySelector('.page-content'));\n\t\t}\n\t\tif (app.containers.sources) {\n\t\t\t(app.containers.sources).querySelector('.page-content').innerHTML = app.getCard({ title: 'Code Source', titlecolor: '#ffffff', description: 'Deploy Arduino source Over The Air.', action: { id: 'login', label: 'Sign-In' }, secondaryaction: { id: 'signup', label: 'Create an account' } });\n\t\t\tapp.displayLoginForm((app.containers.sources).querySelector('.page-content'));\n\t\t}\n\t\tif (app.containers.stories) {\n\t\t\t(app.containers.stories).querySelector('.page-content').innerHTML = app.getCard({ title: 'Stories', titlecolor: '#ffffff', description: 'Discover your data through auto generated stories', action: { id: 'login', label: 'Sign-In' }, secondaryaction: { id: 'signup', label: 'Create an account' } });\n\t\t\tapp.displayLoginForm((app.containers.sources).querySelector('.page-content'));\n\t\t}\n\n\t\tvar updated = document.querySelectorAll('.page-content form div.mdl-js-textfield');\n\t\tfor (var i = 0; i < updated.length; i++) {\n\t\t\tupdated[i].classList.remove('is-upgraded');\n\t\t\tupdated[i].removeAttribute('data-upgraded');\n\t\t}\n\n\t\tcomponentHandler.upgradeDom();\n\t\tapp.refreshButtonsSelectors();\n\t\tapp.setLoginAction();\n\t\tapp.setSignupAction();\n\t};\n\n\tapp.resetSections = function() {\n\t\t/* reset views to default */\n\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") { console.log('DEBUG', 'resetSections()'); }\n\t\tif (app.containers.objects) { (app.containers.objects).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.object) { (app.containers.object).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.flows) { (app.containers.flows).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.flow) { (app.containers.flow).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.dashboards) { (app.containers.dashboards).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.dashboard) { (app.containers.dashboard).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.snippets) { (app.containers.snippets).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.snippet) { (app.containers.snippet).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.profile) { (app.containers.profile).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.rules) { (app.containers.rules).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.rule) { (app.containers.rule).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.mqtts) { (app.containers.mqtts).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.mqtt) { (app.containers.mqtt).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.sources) { (app.containers.sources).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.source) { (app.containers.source).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.stories) { (app.containers.stories).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.story) { (app.containers.story).querySelector('.page-content').innerHTML = ''; }\n\t\tif (app.containers.objectsMaps) { (app.containers.objectsMaps).querySelector('.page-content').innerHTML = ''; }\n\t};\n\n\tapp.showOrientation = function() {\n\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\ttoast(screen.orientation.type + \" - \" + screen.orientation.angle + \"°.\", { timeout: app.toastDuration, type: \"info\" });\n\t\t}\n\t};\n\n\tapp.setPosition = function(position) {\n\t\tapp.defaultResources.object.attributes.longitude = position.coords.longitude;\n\t\tapp.defaultResources.object.attributes.latitude = position.coords.latitude;\n\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\ttoast(\"Geolocation (Accuracy=\" + position.coords.accuracy + \") is set to: L\" + position.coords.longitude + \" - l\" + position.coords.latitude, { timeout: app.toastDuration, type: \"info\" });\n\t\t}\n\t};\n\n\tapp.setPositionError = function(error) {\n\t\tswitch (error.code) {\n\t\t\tcase error.TIMEOUT:\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast(\"Browser geolocation error !\\n\\nTimeout.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase error.POSITION_UNAVAILABLE:\n\t\t\t\t// dirty hack for safari\n\t\t\t\tif (error.message.indexOf(\"Origin does not have permission to use Geolocation service\") == 0) {\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast(\"Origin does not have permission to use Geolocation service - no fallback.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast(\"Browser geolocation error !\\n\\nPosition unavailable.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase error.PERMISSION_DENIED:\n\t\t\t\tif (error.message.indexOf(\"Only secure origins are allowed\") == 0) {\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\ttoast(\"Only secure origins are allowed - no fallback.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase error.UNKNOWN_ERROR:\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast(\"Can't find your position - no fallback.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tapp.getLocation = function() {\n\t\tif (navigator.geolocation) {\n\t\t\tvar options = { enableHighAccuracy: false, timeout: 200000, maximumAge: 500000 };\n\t\t\tnavigator.geolocation.getCurrentPosition(app.setPosition, app.setPositionError, options);\n\t\t} else {\n\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\ttoast(\"Geolocation is not supported by this browser.\", { timeout: app.toastDuration, type: \"warning\" });\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.getCookie = function(cname) {\n\t\tvar name = cname + \"=\";\n\t\tvar ca = document.cookie.split(';');\n\t\tfor (var i = 0; i < ca.length; i++) {\n\t\t\tvar c = ca[i];\n\t\t\twhile (c.charAt(0) == ' ') {\n\t\t\t\tc = c.substring(1);\n\t\t\t}\n\t\t\tif (c.indexOf(name) == 0) {\n\t\t\t\treturn c.substring(name.length, c.length);\n\t\t\t}\n\t\t}\n\t\treturn \"\";\n\t};\n\n\tapp.showMenu = function() {\n\t\tapp.containers.menuElement.style.transform = \"translateX(0) !important\";\n\t\tapp.containers.menuElement.classList.add('menu--show');\n\t\tapp.containers.menuOverlayElement.classList.add('menu__overlay--show');\n\t\tif (typeof app.containers.drawerObfuscatorElement !== \"undefined\") {\n\t\t\tapp.containers.drawerObfuscatorElement.remove();\n\t\t}\n\t};\n\n\tapp.hideMenu = function() {\n\t\tapp.containers.menuElement.style.transform = \"translateX(-120%) !important\";\n\t\tapp.containers.menuElement.classList.remove('menu--show');\n\t\tapp.containers.menuOverlayElement.classList.add('menu__overlay--hide');\n\t\tapp.containers.menuOverlayElement.classList.remove('menu__overlay--show');\n\t\tapp.containers.menuElement.addEventListener('transitionend', app.onTransitionEnd, false);\n\t\tapp.containers.menuElement.classList.remove('is-visible');\n\t};\n\n\tapp.onTransitionEnd = function() {\n\t\tif (touchStartPoint < 10) {\n\t\t\tapp.containers.menuElement.style.transform = \"translateX(0)\";\n\t\t\tapp.containers.menuOverlayElement.classList.add('menu__overlay--show');\n\t\t\tapp.containers.menuElement.removeEventListener('transitionend', app.onTransitionEnd, false);\n\t\t}\n\t};\n\n\tapp.updateNetworkStatus = function() {\n\t\tlet msg = \"\";\n\t\tlet type = \"\";\n\t\tif (navigator.onLine) {\n\t\t\tmsg = \"You are now online...\";\n\t\t\ttype = \"done\";\n\t\t\tapp.setHiddenElement(\"notification\");\n\t\t\tnavigator.serviceWorker.controller.postMessage(\"setOnline\");\n\t\t}\n\t\telse {\n\t\t\tmsg = \"You are now offline...\";\n\t\t\ttype = \"warning\";\n\t\t\tapp.setVisibleElement(\"notification\");\n\t\t\tnavigator.serviceWorker.controller.postMessage(\"setOffline\");\n\t\t}\n\t\ttoast(msg, { timeout: app.toastDuration, type: type });\n\t};\n\n\tapp.clearCache = function() {\n\t\ttoast(\"Please clear cache manually... :-)\", { timeout: app.toastDuration, type: \"warning\" });\n\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\tconsole.log(\"[clearCache]\", \"Please clear cache manually... :-)\");\n\t\t}\n\t};\n\n\tapp.imageLazyLoading = function() {\n\t\tif (!('IntersectionObserver' in window)) {\n\t\t\tvar LL = document.querySelectorAll('img.lazyloading');\n\t\t\tfor (var image in LL) {\n\t\t\t\tif ((LL[image]).childElementCount > -1) {\n\t\t\t\t\tapp.preloadImage(LL[image]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tvar io = new IntersectionObserver(\n\t\t\t\tentries => {\n\t\t\t\t\tentries.map(function(IOentry) {\n\t\t\t\t\t\tif (IOentry.intersectionRatio > 0 && navigator.onLine) {\n\t\t\t\t\t\t\tio.unobserve(IOentry.target);\n\t\t\t\t\t\t\tapp.preloadImage(IOentry.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, {}\n\t\t\t);\n\t\t\tvar LL = document.querySelectorAll('img.lazyloading');\n\t\t\tfor (var image in LL) {\n\t\t\t\tif ((LL[image]).childElementCount > -1) {\n\t\t\t\t\t(LL[image]).src = app.baseUrlCdn + '/img/m/placeholder.png';\n\t\t\t\t\tio.observe(LL[image]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.managePage = function() {\n\t\tvar currentPage = localStorage.getItem(\"currentPage\");\n\t\tif (window.location.hash) {\n\t\t\tcurrentPage = window.location.hash.substr(1);\n\t\t\tif (currentPage === 'compatible-devices') {\n\t\t\t\tapp.getCompatibleDevices();\n\t\t\t\tapp.setSection('compatible-devices');\n\t\t\t} else if (currentPage === 'openSourceLicenses') {\n\t\t\t\tapp.getOpenSourceLicenses();\n\t\t\t\tapp.setSection('openSourceLicenses');\n\t\t\t} else if (currentPage === 'objects-maps') {\n\t\t\t\t//app.getObjectsMaps();\n\t\t\t\tapp.setSection('objects-maps');\n\t\t\t} else if (currentPage === 'status') {\n\t\t\t\tapp.onStatusButtonClick();\n\t\t\t} else if (currentPage === 'settings') {\n\t\t\t\tapp.onSettingsButtonClick();\n\t\t\t} else if (currentPage === 'exploration') {\n\t\t\t\tapp.setSection('exploration');\n\t\t\t\tapp.getExploration();\n\t\t\t} else if (currentPage === 'login') {\n\t\t\t\tapp.isLogged = false;\n\t\t\t\tlocalStorage.setItem(\"bearer\", null);\n\t\t\t\tapp.setSection(currentPage);\n\t\t\t} else {\n\t\t\t\t//let section = currentPage.split(\"?\")[0];\n\t\t\t\tapp.setSection(currentPage);\n\t\t\t}\n\t\t} else if (currentPage) {\n\t\t\tif (currentPage === 'objects') {\n\t\t\t\tapp.setSection('objects');\n\t\t\t} else if (currentPage === 'flows') {\n\t\t\t\tapp.setSection('flows');\n\t\t\t} else if (currentPage === 'dashboards') {\n\t\t\t\tapp.setSection('dashboards');\n\t\t\t} else if (currentPage === 'snippets') {\n\t\t\t\tapp.setSection('snippets');\n\t\t\t} else if (currentPage === 'rules') {\n\t\t\t\tapp.setSection('rules');\n\t\t\t} else if (currentPage === 'mqtts') {\n\t\t\t\tapp.setSection('mqtts');\n\t\t\t} else if (currentPage === 'sources') {\n\t\t\t\tapp.setSection('sources');\n\t\t\t} else if (currentPage === 'stories') {\n\t\t\t\tapp.setSection('stories');\n\t\t\t} else {\n\t\t\t\tapp.setSection(currentPage);\n\t\t\t}\n\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\ttoast(\"Back to last page view if available in browser storage\", { timeout: app.toastDuration, type: \"info\" });\n\t\t\t}\n\t\t} else {\n\t\t\tapp.setSection('index');\n\t\t}\n\t};\n\n\tapp.setInteractiveLinks = function() {\n\t\tapp.refreshContainers();\n\t\tapp.refreshButtonsSelectors();\n\t\tapp.setLoginAction();\n\t\tapp.setSignupAction();\n\t\tapp.setForgotAction();\n\t\tapp.setPasswordResetAction();\n\t\tlogout_button.addEventListener('click', function(evt) {\n\t\t\tapp.auth = {};\n\t\t\tapp.resetDrawer();\n\t\t\tapp.sessionExpired();\n\t\t\ttoast('You have been disconnected :-(', { timeout: app.toastDuration, type: \"done\" });\n\t\t\tapp.setSection((evt.currentTarget.querySelector('a').getAttribute('hash') !== null ? evt.currentTarget.querySelector('a').getAttribute('hash') : evt.currentTarget.querySelector('a').getAttribute('href')).substr(1));\n\t\t}, false);\n\t\tsignin_button.addEventListener('click', function(evt) {\n\t\t\tapp.auth = {};\n\t\t\tapp.setSection('login');\n\t\t}, false);\n\t\tapp.buttons.notification.addEventListener('click', function(evt) {\n\t\t\tapp.showNotification();\n\t\t}, false);\n\t\tprofile_button.addEventListener('click', function(evt) {\n\t\t\tif (app.isLogged) {\n\t\t\t\tapp.setSection((evt.currentTarget.querySelector('a').getAttribute('hash') !== null ? evt.currentTarget.querySelector('a').getAttribute('hash') : evt.currentTarget.querySelector('a').getAttribute('href')).substr(1));\n\t\t\t} else {\n\t\t\t\tapp.setSection('login');\n\t\t\t}\n\t\t}, false);\n\t\tif (document.querySelector('.sticky')) {\n\t\t\tif (!window.getComputedStyle(document.querySelector('.sticky')).position.match('sticky')) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast(\"Your browser does not support 'position: sticky'!!.\", { timeout: app.toastDuration, type: \"info\" });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (app.containers.menuIconElement && app.containers.menuOverlayElement) {\n\t\t\tapp.containers.menuIconElement.addEventListener('click', app.showMenu, false);\n\t\t\tapp.containers.menuIconElement.querySelector('i.material-icons').setAttribute('id', 'imgIconMenu');\n\t\t\tapp.containers.menuOverlayElement.addEventListener('click', app.hideMenu, false);\n\t\t\tapp.containers.menuElement.addEventListener('transitionend', app.onTransitionEnd, false);\n\t\t\tfor (var item in app.containers.menuItems) {\n\t\t\t\tif (app.containers.menuItems[item].childElementCount > -1) {\n\t\t\t\t\t(app.containers.menuItems[item]).addEventListener('click', function(evt) {\n\t\t\t\t\t\tapp.setSection((evt.currentTarget.getAttribute('href')).substr(1));\n\t\t\t\t\t\tapp.hideMenu();\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tvar pMatches = document.querySelectorAll('.passmatch');\n\t\tfor (var p in pMatches) {\n\t\t\tif ((pMatches[p]).childElementCount > -1) {\n\t\t\t\t(pMatches[p]).addEventListener('input', function(event) {\n\t\t\t\t\tif (document.querySelector('#p2').value != '' && document.querySelector('#p1').value != document.querySelector('#p2').value) {\n\t\t\t\t\t\tdocument.querySelector('#p2').parentNode.classList.add('is-invalid');\n\t\t\t\t\t\tdocument.querySelector('#p2').parentNode.classList.add('is-dirty');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.querySelector('#p2').parentNode.classList.remove('is-invalid');\n\t\t\t\t\t\tdocument.querySelector('#p2').parentNode.classList.remove('is-dirty');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tfor (var item in app.containers.menuTabItems) {\n\t\t\tif (app.containers.menuTabItems[item].childElementCount > -1) {\n\t\t\t\tapp.initNewSection(app.containers.menuTabItems[item].getAttribute(\"for\"));\n\t\t\t\t//initNewSection\n\t\t\t\t(app.containers.menuTabItems[item]).addEventListener('click', function(evt) {\n\t\t\t\t\tapp.setSection((evt.target.parentNode.getAttribute('hash') !== null ? evt.target.parentNode.getAttribute('hash') : evt.target.parentNode.getAttribute('href')).substr(1));\n\t\t\t\t}, false);\n\t\t\t}\n\t\t};\n\t\tfor (var i in app.buttons.status) {\n\t\t\tif (app.buttons.status[i].childElementCount > -1) {\n\t\t\t\tapp.buttons.status[i].removeEventListener('click', app.onStatusButtonClick, false);\n\t\t\t\tapp.buttons.status[i].addEventListener('click', app.onStatusButtonClick, false);\n\t\t\t}\n\t\t};\n\t\tfor (var i in app.buttons.settings) {\n\t\t\tif (app.buttons.settings[i].childElementCount > -1) {\n\t\t\t\tapp.buttons.settings[i].removeEventListener('click', app.onSettingsButtonClick, false);\n\t\t\t\tapp.buttons.settings[i].addEventListener('click', app.onSettingsButtonClick, false);\n\t\t\t}\n\t\t};\n\t\t// Search\n\t\tif (document.getElementById('search-exp')) {\n\t\t\tdocument.getElementById('search-exp').addEventListener('keypress', function(e) {\n\t\t\t\tif (e.keyCode === 13) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar input = this.value;\n\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\talert(\"Searching for \" + input);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\t// Filter\n\t\tif (document.getElementById('filter-exp')) {\n\t\t\tdocument.getElementById('filter-exp').addEventListener('keypress', function(e) {\n\t\t\t\tif (e.keyCode === 13) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tvar input = this.value;\n\t\t\t\t\tvar type = 'objects';\n\t\t\t\t\tvar size;\n\t\t\t\t\tif (document.querySelector('section#objects').classList.contains('is-active')) {\n\t\t\t\t\t\ttype = 'objects';\n\t\t\t\t\t\tsize = app.itemsSize.objects;\n\t\t\t\t\t} else if (document.querySelector('section#flows').classList.contains('is-active')) {\n\t\t\t\t\t\ttype = 'flows';\n\t\t\t\t\t\tsize = app.itemsSize.flows;\n\t\t\t\t\t}\n\t\t\t\t\tapp.fetchItemsPaginated(type, this.value, 1, size);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\t// Lazy loading\n\t\tvar paginatedContainer = Array(Array(app.containers.objects, 'objects'), Array(app.containers.flows, 'flows'), Array(app.containers.snippets, 'snippets'), Array(app.containers.dashboards, 'dashboards'), Array(app.containers.mqtts, 'mqtts'), Array(app.containers.sources, 'sources'), Array(app.containers.rules, 'rules'));\n\t\tpaginatedContainer.map(function(c) {\n\t\t\tif (c[0]) {\n\t\t\t\tc[0].addEventListener('DOMMouseScroll', function(event) {\n\t\t\t\t\tvar height = (document.body.scrollHeight || window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n\t\t\t\t\tvar bottom = (document.querySelector('section#' + c[1])).getBoundingClientRect().bottom;\n\t\t\t\t\tif (bottom <= height && c[0].classList.contains('is-active')) {\n\t\t\t\t\t\t//console.log(\"Lazy loading -->\", c[0].offsetHeight, height, bottom);\n\t\t\t\t\t\t//console.log('Lazy loading page=', ++(app.itemsPage[c[1]]));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t// Cookie Consent\n\t\tvar d = new Date();\n\t\td.setTime(d.getTime() + (app.cookieconsent * 24 * 60 * 60 * 1000));\n\t\tif(document.getElementById('cookieconsent.agree')) {\n\t\t\tdocument.getElementById('cookieconsent.agree').addEventListener('click', function(evt) {\n\t\t\t\tdocument.getElementById('cookieconsent').remove();\n\t\t\t\tdocument.cookie = \"cookieconsent=true;expires=\" + d.toUTCString() + \";path=/\";\n\t\t\t\tdocument.cookie = \"cookieconsentNoGTM=false;expires=\" + d.toUTCString() + \";path=/\";\n\t\t\t\tevt.preventDefault();\n\t\t\t}, false);\n\t\t\tdocument.getElementById('cookieconsent.noGTM').addEventListener('click', function(evt) {\n\t\t\t\tdocument.getElementById('cookieconsent').remove();\n\t\t\t\tdocument.cookie = \"cookieconsent=true;expires=\" + d.toUTCString() + \";path=/\";\n\t\t\t\tdocument.cookie = \"cookieconsentNoGTM=true;expires=\" + d.toUTCString() + \";path=/\";\n\t\t\t\tif (typeof mixpanel !== \"undefined\") {\n\t\t\t\t\tmixpanel.opt_out_tracking();\n\t\t\t\t}\n\t\t\t\tevt.preventDefault();\n\t\t\t}, false);\n\t\t\tdocument.getElementById('cookieconsent.read').addEventListener('click', function(evt) {\n\t\t\t\tapp.getTerms();\n\t\t\t\tapp.setSection('terms');\n\t\t\t\tevt.preventDefault();\n\t\t\t}, false);\n\t\t\tif (app.getCookie('cookieconsent') !== \"true\") {\n\t\t\t\tdocument.getElementById('cookieconsent').classList.add('is-visible');\n\t\t\t\tdocument.getElementById('cookieconsent').classList.remove('hidden');\n\t\t\t} else {\n\t\t\t\tdocument.getElementById('cookieconsent').classList.add('hidden');\n\t\t\t\tdocument.getElementById('cookieconsent').classList.remove('is-visible');\n\t\t\t}\n\t\t}\n\t};\n\n\tapp.setServiceWorker = function() {\n\t\tif (!('serviceWorker' in navigator)) {\n\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\tconsole.log('[ServiceWorker]', 'Service Worker isn\\'t supported on this browser.');\n\t\t\t}\n\t\t\treturn;\n\t\t} else {\n\t\t\tif (!('PushManager' in window)) {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log(\"[pushSubscription]\", 'Push isn\\'t supported on this browser.');\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log(\"[pushSubscription]\", 'askPermission && subscribeUserToPush');\n\t\t\t\t}\n\t\t\t\tapp.askPermission();\n\t\t\t\tapp.subscribeUserToPush();\n\t\t\t}\n\t\t};\n\t};\n\n\t/*\n\t * *********************************** Run the App ***********************************\n\t */\n\tdocument.addEventListener(\"readystatechange\", event => {\n\t\tvar changedTime = new Date();\n\t\tif (event.target.readyState === \"loading\") {\n\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\tvar loadingTime = new Date();\n\t\t\t\tconsole.log(\"DEBUG\", \"loading time: \", loadingTime - startTime, \"ms\", \" (begin\", moment(loadingTime).format(\"hh:mm:ss,SSS\"), \"ms. lasted \", loadingTime - changedTime, \"ms)\");\n\t\t\t}\n\t\t} else if (event.target.readyState === \"interactive\") {\n\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\tvar interactiveTime = new Date();\n\t\t\t\tconsole.log(\"DEBUG\", \"interactive time: \", interactiveTime - startTime, \"ms\", \" (begin\",  moment(interactiveTime).format(\"hh:mm:ss,SSS\"), \"ms. lasted \", interactiveTime - changedTime, \"ms)\");\n\t\t\t}\n\t\t} else if (event.target.readyState === \"complete\") {\n\t\t\tif (localStorage.getItem('refresh_token') !== null && localStorage.getItem('refreshTokenExp') !== null && localStorage.getItem('refreshTokenExp') > moment().unix()) {\n\t\t\t\tapp.isLogged = true;\n\t\t\t}\n\t\t\tif (!app.isLogged || app.auth.username === undefined) {\n\t\t\t\tif (localStorage.getItem('refresh_token') !== null && localStorage.getItem('refreshTokenExp') !== null && localStorage.getItem('refreshTokenExp') > moment().unix()) {\n\t\t\t\t\tapp.refreshAuthenticate();\n\t\t\n\t\t\t\t\tapp.setHiddenElement(\"signin_button\");\n\t\t\t\t\tapp.setVisibleElement(\"logout_button\");\n\t\t\t\t\tapp.getUnits();\n\t\t\t\t\tapp.getDatatypes();\n\t\t\t\t\tapp.getSnippets();\n\t\t\t\t\tapp.getFlows();\n\t\t\t\t\tapp.getSources();\n\t\t\t\t\tsetInterval(app.refreshAuthenticate, app.refreshExpiresInSeconds);\n\t\t\t\t\tif (localStorage.getItem('role') == 'admin') {\n\t\t\t\t\t\tapp.addMenuItem('Users Accounts', 'supervisor_account', '#users-list', null);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tapp.sessionExpired();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tapp.refreshContainers();\n\t\t\tapp.managePage();\n\t\t\tapp.setInteractiveLinks();\n\t\t\tapp.refreshButtonsSelectors();\n\t\t\tapp.imageLazyLoading();\n\t\t\tapp.setDrawer();\n\t\t\tapp.setHiddenElement(\"notification\");\n\t\t\tapp.setServiceWorker();\n\n\t\t\tif (typeof screen.orientation !== \"undefined\") {\n\t\t\t\tscreen.orientation.addEventListener(\"change\", app.showOrientation);\n\t\t\t}\n\t\t\t\n\t\t\twindow.addEventListener(\"online\", app.updateNetworkStatus, false);\n\t\t\twindow.addEventListener(\"offline\", app.updateNetworkStatus, false);\n\t\t\twindow.addEventListener(\"clearCache\", app.clearCache, false);\n\t\t\twindow.addEventListener(\"hashchange\", function() {\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log(\"DEBUG\", \"hashchange\", window.location.hash);\n\t\t\t\t}\n\t\t\t\tif (window.history && window.history.pushState) {\n\t\t\t\t\tlocalStorage.setItem(\"currentPage\", window.location.hash.substr(1));\n\t\t\t\t\tvar id = getParameterByName('id', null);\n\t\t\t\t\tvar id2 = window.location.hash;\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\tlocalStorage.setItem(\"currentResourceId\", id);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlocalStorage.setItem(\"currentResourceId\", null);\n\t\t\t\t\t}\n\t\t\t\t\tapp.managePage();\n\t\t\t\t}\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log('[History]', 'hashchange');\n\t\t\t\t\tconsole.log('[History]', 'resource id', id2);\n\t\t\t\t}\n\t\t\t}, false);\n\t\t\tif (app.gtm !== \"\" && app.getCookie('cookieconsentNoGTM') !== \"true\") {\n\t\t\t\t(function(w, d, s, l, i) {\n\t\t\t\t\tw[l] = w[l] || []; w[l].push({\n\t\t\t\t\t\t'gtm.start':\n\t\t\t\t\t\t\tnew Date().getTime(), event: 'gtm.js'\n\t\t\t\t\t}); var f = d.getElementsByTagName(s)[0],\n\t\t\t\t\t\tj = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =\n\t\t\t\t\t\t\t'//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);\n\t\t\t\t})(window, document, 'script', 'dataLayer', app.gtm);\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\tconsole.log('[gtm]', 'gtm.start');\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Notifications\n\t\t\tfor (var i in app.buttons.notifications) {\n\t\t\t\tif (app.buttons.notifications[i].childElementCount > -1) {\n\t\t\t\t\tapp.buttons.notifications[i].addEventListener('click', function(e) {\n\t\t\t\t\t\tlet email, token;\n\t\t\t\t\t\tif (getParameterByName(\"email\", null)) {\n\t\t\t\t\t\t\temail = decodeURI(getParameterByName(\"email\", null));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\temail = app.getSetting(\"notifications.email\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (getParameterByName(\"token\", null)) {\n\t\t\t\t\t\t\ttoken = decodeURI(getParameterByName(\"token\", null));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttoken = app.getSetting(\"notifications.unsubscription_token\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (email !== null && token !== null) {\n\t\t\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \" + localStorage.getItem(\"bearer\"));\n\t\t\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\t\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\t\t\t\t\t\tvar type = e.target.parentNode.classList.contains(\"is-checked\") ? \"unsubscribe\" : \"subscribe\";\n\t\t\t\t\t\t\tvar url = `${app.baseUrl}/mail/${email}/${type}/${e.target.getAttribute(\"name\")}/${token}/`;\n\t\t\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t\t\t\t.then(\n\t\t\t\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t\t\t\t).then(function(fetchResponse) {\n\t\t\t\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t\t\t\tlet notifications = JSON.parse(localStorage.getItem(\"notifications.subscribed\"));\n\t\t\t\t\t\t\t\t\tswitch(response.list) {\n\t\t\t\t\t\t\t\t\t\tcase \"reminder\":\n\t\t\t\t\t\t\t\t\t\t\tnotifications.reminder = response.time;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase \"newsletter\": \n\t\t\t\t\t\t\t\t\t\t\tnotifications.newsletter = response.time;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase \"changePassword\": \n\t\t\t\t\t\t\t\t\t\t\tnotifications.changePassword = response.time;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase \"monthlyreport\": \n\t\t\t\t\t\t\t\t\t\t\tnotifications.monthlyreport = response.time;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tdefault: \n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"notifications.subscribed\", JSON.stringify(notifications));\n\t\t\t\t\t\t\t\t\ttoast('Settings updated.', { timeout: app.toastDuration, type: \"done\" });\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch(function(error) {\n\t\t\t\t\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\t\t\t\t\ttoast('Error occured on saving Notifications...' + error, { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\t\t\t\ttoast(\"Error occured on saving Notifications. Missing parameter.\", { timeout: app.toastDuration, type: \"error\" });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tvar ce = function(e, n) { var a = document.createEvent(\"CustomEvent\"); a.initCustomEvent(n, true, true, e.target); e.target.dispatchEvent(a); a = null; return false },\n\t\t\t\tnm = true, sp = { x: 0, y: 0 }, ep = { x: 0, y: 0 },\n\t\t\t\ttouch = {\n\t\t\t\t\ttouchstart: function(e) { sp = { x: e.touches[0].pageX, y: e.touches[0].pageY } },\n\t\t\t\t\ttouchmove: function(e) { nm = false; ep = { x: e.touches[0].pageX, y: e.touches[0].pageY } },\n\t\t\t\t\ttouchend: function(e){if(nm){ce(e,'fc')}else{var x=ep.x-sp.x,xr=Math.abs(x),y=ep.y-sp.y,yr=Math.abs(y);if(Math.max(xr,yr)>20){ce(e,(xr>yr?(x<0?'swl':'swr'):(y<0?'swu':'swd')))}};nm=true},\n\t\t\t\t\ttouchcancel: function(e) { nm = false }\n\t\t\t\t};\n\t\t\tfor (var a in touch) { document.addEventListener(a, touch[a], false); }\n\t\t\tdocument.body.addEventListener('touchstart', function(event) {\n\t\t\t\ttouchStartPoint = event.changedTouches[0].pageX;\n\t\t\t\ttouchMovePoint = touchStartPoint;\n\t\t\n\t\t\t\tvar fabs = document.querySelectorAll('section.is-active div.page-content.mdl-grid .mdl-button--fab, div.play-fab');\n\t\t\t\tfor (var f in fabs) {\n\t\t\t\t\tif (fabs[f].classList) {\n\t\t\t\t\t\tfabs[f].classList.remove('is-here');\n\t\t\t\t\t\tfabs[f].classList.add('is-not-here');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, false);\n\t\t\tdocument.body.addEventListener('touchmove', function(event) {\n\t\t\t\ttouchMovePoint = event.touches[0].pageX;\n\t\t\t\tif (touchStartPoint < 10 && touchMovePoint > 100) {\n\t\t\t\t\tapp.containers.menuElement.classList.add('is-visible');\n\t\t\t\t}\n\t\t\t}, false);\n\t\t\tdocument.body.addEventListener('touchend', function(event) {\n\t\t\t\tvar fabs = document.querySelectorAll('section.is-active div.page-content.mdl-grid .mdl-button--fab, div.play-fab');\n\t\t\t\tfor (var f in fabs) {\n\t\t\t\t\tif (fabs[f].classList) {\n\t\t\t\t\t\tfabs[f].classList.remove('is-not-here');\n\t\t\t\t\t\tfabs[f].classList.add('is-here');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, false);\n\t\t\t/*\n\t\t\tconsole.log(\"DEBUG\", \"devicelight event\");\n\t\t\tlet body = document.body;\n\t\t\tif (\"ondevicelight\" in window) {\n\t\t\t\twindow.addEventListener(\"devicelight\", function(event) {\n\t\t\t\t\tif (event.value < 50) {\n\t\t\t\t\t\tbody.classList.add(\"darklight\");\n\t\t\t\t\t\tbody.classList.remove(\"brightlight\");\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbody.classList.add(\"brightlight\");\n\t\t\t\t\t\tbody.classList.remove(\"darklight\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast(\"devicelight event is activated\", { timeout: app.toastDuration, type: \"info\" });\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.log(\"DEBUG\", \"devicelight event is not supported\");\n\t\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\t\ttoast(\"devicelight event is not supported\", { timeout: app.toastDuration, type: \"info\" });\n\t\t\t\t}\n\t\t\t\tbody.classList.add(\"brightlight\");\n\t\t\t\tbody.classList.remove(\"darklight\");\n\t\t\t}\n\t\t\t*/\n\n\t\t\tif (localStorage.getItem(\"settings.debug\") == \"true\") {\n\t\t\t\tvar completeTime = new Date();\n\t\t\t\tconsole.log(\"DEBUG\", \"complete time: \", completeTime - startTime, \"ms\", \" (begin\",  moment(completeTime).format(\"hh:mm:ss,SSS\"), \"ms. lasted \", completeTime - changedTime, \"ms)\");\n\t\t\t}\n\t\t}\n\t});\n})();","\"use strict\";\napp.resources.objects = {\n\tonEdit: function(evt) {\n\t\tvar object_id = evt.target.parentNode.getAttribute(\"data-id\")?evt.target.parentNode.getAttribute(\"data-id\"):evt.target.getAttribute(\"data-id\");\n\t\tif ( !object_id ) {\n\t\t\ttoast(\"No Object id found!\", {timeout:3000, type: \"error\"});\n\t\t} else {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tvar body = {\n\t\t\t\ttype: myForm.querySelector(\"select[name='Type']\").value,\n\t\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\t\tdescription: myForm.querySelector(\"textarea[name='Description']\").value,\n\t\t\t\tposition: myForm.querySelector(\"input[name='Position']\")!==null?myForm.querySelector(\"input[name='Position']\").value:\"\",\n\t\t\t\tlongitude: myForm.querySelector(\"input[name='Longitude']\")!==null?myForm.querySelector(\"input[name='Longitude']\").value:\"\",\n\t\t\t\tlatitude: myForm.querySelector(\"input[name='Latitude']\")!==null?myForm.querySelector(\"input[name='Latitude']\").value:\"\",\n\t\t\t\tipv4: myForm.querySelector(\"input[name='IPv4']\")!==null?myForm.querySelector(\"input[name='IPv4']\").value:\"\",\n\t\t\t\tipv6: myForm.querySelector(\"input[name='IPv6']\")!==null?myForm.querySelector(\"input[name='IPv6']\").value:\"\",\n\t\t\t\tsecret_key_crypt: myForm.querySelector(\"input[id='secret_key_crypt']\")!==null?myForm.querySelector(\"input[id='secret_key_crypt']\").value:\"\",\n\t\t\t\tsecret_key: myForm.querySelector(\"input[id='secret_key']\")!==null?myForm.querySelector(\"input[id='secret_key']\").value:\"\",\n\t\t\t\tisPublic: myForm.querySelector(\"label.mdl-switch\").classList.contains(\"is-checked\")===true?\"true\":\"false\",\n\t\t\t\tfqbn: myForm.querySelector(\"input[id='fqbn']\")!==null?myForm.querySelector(\"input[id='fqbn']\").value:\"\",\n\t\t\t\tsource_id: myForm.querySelector(\"select[id='source_id']\")!==null?myForm.querySelector(\"select[id='source_id']\").value:\"\",\n\t\t\t\tsource_version: myForm.querySelector(\"select[id='source_version']\")!==null?myForm.querySelector(\"select[id='source_version']\").value:\"\",\n\t\t\t\tcommunication: { \"allowed_commands\" : [], \"interface\" : myForm.querySelector(\"select[id='interface']\")!==null?myForm.querySelector(\"select[id='interface']\").value:\"\", },\n\t\t\t\tui_id: myForm.querySelector(\"input[id='ui_id']\")!==null?myForm.querySelector(\"input[id='ui_id']\").value:\"\",\n\t\t\t\tmeta: {revision: myForm.querySelector(\"input[name='meta.revision']\").value, },\n\t\t\t};\n\t\t\tif (myForm.querySelector(\"label.mdl-checkbox[data-id='checkbox-communication.command_onoff']\").classList.contains(\"is-checked\")===true) {\n\t\t\t\tbody.communication.allowed_commands.push(\"onoff\");\n\t\t\t}\n\t\t\tif (myForm.querySelector(\"label.mdl-checkbox[data-id='checkbox-communication.command_lowerupper']\").classList.contains(\"is-checked\")===true) {\n\t\t\t\tbody.communication.allowed_commands.push(\"lowerupper\");\n\t\t\t}\n\t\t\tif (myForm.querySelector(\"label.mdl-checkbox[data-id='checkbox-communication.command_openclose']\").classList.contains(\"is-checked\")===true) {\n\t\t\t\tbody.communication.allowed_commands.push(\"openclose\");\n\t\t\t}\n\t\t\tif (myForm.querySelector(\"label.mdl-checkbox[data-id='checkbox-communication.command_setvalgetval']\").classList.contains(\"is-checked\")===true) {\n\t\t\t\tbody.communication.allowed_commands.push(\"setvalgetval\");\n\t\t\t}\n\t\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: \"PUT\", headers: myHeaders, body: JSON.stringify(body) };\n\t\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/objects/\"+object_id;\n\t\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse){ \n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tapp.setSection(\"objects\");\n\t\t\t\ttoast(\"Object has been saved.\", {timeout:3000, type: \"done\"});\n\t\t\t\t//var objectContainer = document.querySelector(\"section#objects div[data-id='\"+object_id+\"']\");\n\t\t\t\t//objectContainer.querySelector(\"h2\").innerHTML = body.name;\n\t\t\t\t//objectContainer.querySelector(\"div.mdl-list__item--three-line.small-padding span.mdl-list__item-sub-title\").innerHTML = app.nl2br(body.description.substring(0, app.cardMaxChars));\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\ttoast(\"Object has not been saved.\", {timeout:3000, type: \"error\"});\n\t\t\t});\n\t\t\tevt.preventDefault();\n\t\t}\n\t},\n\tonAdd: function(evt) {\n\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\tvar body = {\n\t\t\ttype: myForm.querySelector(\"select[name='Type']\").value,\n\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\tdescription: myForm.querySelector(\"textarea[name='Description']\").value,\n\t\t\tposition: myForm.querySelector(\"input[name='Position']\")!==null?myForm.querySelector(\"input[name='Position']\").value:\"\",\n\t\t\tlongitude: myForm.querySelector(\"input[name='Longitude']\")!==null?myForm.querySelector(\"input[name='Longitude']\").value:\"\",\n\t\t\tlatitude: myForm.querySelector(\"input[name='Latitude']\")!==null?myForm.querySelector(\"input[name='Latitude']\").value:\"\",\n\t\t\tipv4: myForm.querySelector(\"input[name='IPv4']\")!==null?myForm.querySelector(\"input[name='IPv4']\").value:\"\",\n\t\t\tipv6: myForm.querySelector(\"input[name='IPv6']\")!==null?myForm.querySelector(\"input[name='IPv6']\").value:\"\",\n\t\t\tsecret_key: myForm.querySelector(\"input[id='secret_key']\")!==null?myForm.querySelector(\"input[id='secret_key']\").value:\"\",\n\t\t\tsecret_key_crypt: myForm.querySelector(\"input[id='secret_key_crypt']\")!==null?myForm.querySelector(\"input[id='secret_key_crypt']\").value:\"\",\n\t\t\tisPublic: myForm.querySelector(\"label.mdl-switch\").classList.contains(\"is-checked\")===true?\"true\":\"false\",\n\t\t\tfqbn: myForm.querySelector(\"input[id='fqbn']\")!==null?myForm.querySelector(\"input[id='fqbn']\").value:\"\",\n\t\t\tsource_id: myForm.querySelector(\"select[id='source_id']\")!==null?myForm.querySelector(\"select[id='source_id']\").value:\"\",\n\t\t\tsource_version: myForm.querySelector(\"select[id='source_version']\")!==null?myForm.querySelector(\"select[id='source_version']\").value:\"\",\n\t\t\tui_id: myForm.querySelector(\"input[id='ui_id']\")!==null?myForm.querySelector(\"input[id='ui_id']\").value:\"\",\n\t\t\tcommunication: { \"allowed_commands\" : [], \"interface\" : myForm.querySelector(\"select[id='interface']\")!==null?myForm.querySelector(\"select[id='interface']\").value:\"\", },\n\t\t};\n\t\tif (body.source_id === \"-\") { body.source_id = \"\"; }\n\t\tif (myForm.querySelector(\"label.mdl-checkbox[data-id='checkbox-communication.command_onoff']\").classList.contains(\"is-checked\")===true) {\n\t\t\tbody.communication.allowed_commands.push(\"onoff\");\n\t\t}\n\t\tif (myForm.querySelector(\"label.mdl-checkbox[data-id='checkbox-communication.command_lowerupper']\").classList.contains(\"is-checked\")===true) {\n\t\t\tbody.communication.allowed_commands.push(\"lowerupper\");\n\t\t}\n\t\tif (myForm.querySelector(\"label.mdl-checkbox[data-id='checkbox-communication.command_openclose']\").classList.contains(\"is-checked\")===true) {\n\t\t\tbody.communication.allowed_commands.push(\"openclose\");\n\t\t}\n\t\tif (myForm.querySelector(\"label.mdl-checkbox[data-id='checkbox-communication.command_setvalgetval']\").classList.contains(\"is-checked\")===true) {\n\t\t\tbody.communication.allowed_commands.push(\"setvalgetval\");\n\t\t}\n\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"POST\", headers: myHeaders, body: JSON.stringify(body) };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/objects/\";\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tapp.setSection(\"objects\");\n\t\t\ttoast(\"Object has been added.\", {timeout:3000, type: \"done\"});\n\t\t})\n\t\t.catch(function (error) {\n\t\t\ttoast(\"Object has not been added.\", {timeout:3000, type: \"error\"});\n\t\t});\n\t\tevt.preventDefault();\n\t},\n\tonDelete: function(id) {\n\t\t\n\t},\n\tonDeploy: function(source_id, object_id) {\n\t\t// Get all objects linked to the source\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"POST\", headers: myHeaders };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/ota/\"+source_id+\"/deploy/\"+object_id;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\ttoast(\"Source is deploying to 1 available Object. This can take several minutes.\", {timeout:10000, type: \"info\"});\n\t\t});\n\t\t\n\t},\n\tonBuild: function(id, object_id) {\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"POST\", headers: myHeaders };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/objects/\"+object_id+\"/build\";\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\ttoast(\"Source is building 1 Object. This can take several minutes.\", {timeout:10000, type: \"info\"});\n\t\t});\n\t\t\n\t},\n\tonViewUi: function(object_id) {\n\t\twindow.open(app.baseUrl+\"/\"+app.api_version+\"/objects/\"+object_id+\"/show/\");\n\t},\n\tdisplay: function(id, isAdd, isEdit, isPublic) {\n\t\twindow.scrollTo(0, 0);\n\t\tif (isPublic) {\n\t\t\tdisplayPublic(id, isAdd, isEdit, isPublic);\n\t\t}\n\t\tif (id instanceof Object && isAdd) {\n\t\t\tdisplayAdd(id, isAdd, isEdit, isPublic);\n\t\t} else {\n\t\t\t//if (history.state && history.state.section !== \"object\" && history.state.id !== id) {\n\t\t\t\thistory.pushState( {section: \"object\" }, window.location.hash.substr(1), \"#object?id=\"+id );\n\t\t\t//}\n\t\t}\n\t\tapp.initNewSection(\"object\");\n\t\tapp.containers.spinner.removeAttribute(\"hidden\");\n\t\tapp.containers.spinner.classList.remove(\"hidden\");\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/objects/\"+id;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tfor (var i=0; i < (response.data).length ; i++ ) {\n\t\t\t\tvar object = response.data[i];\n\t\t\t\tvar description = object.attributes.description!==undefined?object.attributes.description:\"\";\n\n\t\t\t\tdocument.title = (app.sectionsPageTitles[\"object\"]).replace(/%s/g, object.attributes.name);\n\t\t\t\tif ((app.containers.object)) {\n\t\t\t\t\t((app.containers.object).querySelector(\".page-content\")).innerHTML = \"\";\n\t\t\t\t}\n\t\t\t\tvar node = \"\";\n\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+object.id+\"\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\tnode += \"\t\t\t\t<i class=\\\"material-icons mdl-textfield__icon\\\">\"+app.icons.objects+\"</i>\";\n\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\"+object.attributes.name+\"</h2>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+object.id+\"'>\";\n\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t\t<div class='mdl-cell--12-col hidden' id='description-\"+object.id+\"'>\";\n\n\t\t\t\tnode += app.getField(app.icons.code, \"Id\", object.id, {type: \"text\", style:\"text-transform: none !important;\"});\n\t\t\t\tif ( object.attributes.description && isEdit!==true ) {\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Description\", description, {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tif ( object.attributes.meta.created ) {\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(object.attributes.meta.created).format(app.date_format), {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tif ( object.attributes.meta.updated ) {\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(object.attributes.meta.updated).format(app.date_format), {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tif ( object.attributes.meta.revision ) {\n\t\t\t\t\tnode += app.getField(app.icons.update, \"Revision\", object.attributes.meta.revision, {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\t\t\t\t\n\t\t\t\tnode += app.getSubtitle(\"Parameters\");\n\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tif ( isEdit===true ) {\n\t\t\t\t\tnode += app.getField(null, \"meta.revision\", object.attributes.meta.revision, {type: \"hidden\", id: \"meta.revision\", pattern: app.patterns.meta_revision});\n\t\t\t\t\tnode += app.getField(app.icons.name, \"Name\", object.attributes.name, {type: \"text\", id: \"Name\", isEdit: isEdit, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\t\t\t}\n\t\t\t\tif ( object.attributes.type ) {\n\t\t\t\t\tvar d = app.types.find( function(type) { return type.name == object.attributes.type; });\n\t\t\t\t\td = d!==undefined?d:\"\";\n\t\t\t\t\tif ( isEdit===true ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.type, \"Type\", d.name, {type: \"select\", id: \"Type\", isEdit: isEdit, options: app.types });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnode += app.getField(app.icons.type, \"Type\", d.value, {type: \"select\", id: \"Type\", isEdit: isEdit, options: app.types });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( isEdit===true ) {\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Description\", description, {type: \"textarea\", id: \"Description\", isEdit: isEdit});\n\t\t\t\t}\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\t\t\t\t\n\t\t\t\tnode += app.getSubtitle(\"Security\");\n\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tif ( object.attributes.secret_key || isEdit===true ) {\n\t\t\t\t\tnode += app.getField(\"verified_user\", \"Secret Key in symmetric signature\", object.attributes.secret_key!==undefined?object.attributes.secret_key:\"\", {type: \"text\", style:\"text-transform: none !important;\", id: \"secret_key\", isEdit: isEdit, pattern: app.patterns.secret_key, error:\"\"});\n\t\t\t\t\tnode += app.getField(\"\", \"\", \"When flow require signed payload, you should provide your secret to verify signature.\", {type: \"text\", isEdit: false});\n\t\t\t\t}\n\t\t\t\tif ( object.attributes.secret_key_crypt || isEdit===true ) {\n\t\t\t\t\tnode += app.getField(\"vpn_key\", \"Secret Key in symmetric cryptography\", object.attributes.secret_key_crypt!==undefined?object.attributes.secret_key_crypt:\"\", {type: \"text\", style:\"text-transform: none !important;\", id: \"secret_key_crypt\", isEdit: isEdit, pattern: app.patterns.secret_key_crypt, error:\"This must be a 64 hexadecimal chars length A-F & 0-9\"});\n\t\t\t\t}\n\t\t\t\tif ( object.attributes.is_public == \"true\" && isEdit===false ) {\n\t\t\t\t\tnode += app.getField(\"visibility\", object.attributes.is_public==\"true\"?\"Object is having a public url\":\"Object is private\", object.attributes.is_public, {type: \"switch\", id: \"Visibility\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getQrcodeImg(app.icons.date, \"\", object.id, {type: \"text\", isEdit: isEdit});\n\t\t\t\t\tapp.getQrcode(app.icons.date, \"\", object.id, {type: \"text\", isEdit: isEdit});\n\t\t\t\t} else {\n\t\t\t\t\tnode += app.getField(\"visibility\", object.attributes.is_public==\"true\"?\"Object is having a public url\":\"Object is private\", object.attributes.is_public, {type: \"switch\", id: \"Visibility\", isEdit: isEdit});\n\t\t\t\t}\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\n\t\t\t\tobject.attributes.communication = typeof object.attributes.communication!==\"undefined\"?object.attributes.communication:{};\n\t\t\t\tobject.attributes.communication.allowed_commands = typeof object.attributes.communication.allowed_commands!==\"undefined\"?object.attributes.communication.allowed_commands:new Array();\n\t\t\t\tobject.attributes.communication.allowed_commands.onoff = object.attributes.communication.allowed_commands.indexOf(\"onoff\")!=-1?\"true\":\"false\";\n\t\t\t\tobject.attributes.communication.allowed_commands.lowerupper = object.attributes.communication.allowed_commands.indexOf(\"lowerupper\")!=-1?\"true\":\"false\";\n\t\t\t\tobject.attributes.communication.allowed_commands.openclose = object.attributes.communication.allowed_commands.indexOf(\"openclose\")!=-1?\"true\":\"false\";\n\t\t\t\tobject.attributes.communication.allowed_commands.setvalgetval = object.attributes.communication.allowed_commands.indexOf(\"setvalgetval\")!=-1?\"true\":\"false\";\n\t\t\t\tobject.attributes.ui_id = typeof object.attributes.ui_id!==\"undefined\"?object.attributes.ui_id:\"\";\n\t\t\t\tnode += app.getSubtitle(\"Communication\");\n\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"card-header heading-left\\\">&nbsp;</div>\";\n\t\t\t\tnode += app.getField(\"add_to_home_screen\", \"Interface\", object.attributes.communication.interface, {type: \"select\", id: \"interface\", options: [{name: \"restAPI\", value:\"restAPI\"}, {name: \"messageQueue\", value:\"messageQueue\"}], isEdit: isEdit});\n\t\t\t\tnode += app.getField(\"developer_mode\", \"Allow command on/off\", object.attributes.communication.allowed_commands.onoff, {type: \"checkbox\", id: \"communication.command_onoff\", isEdit: isEdit});\n\t\t\t\tnode += app.getField(\"developer_mode\", \"Allow command lower/upper\", object.attributes.communication.allowed_commands.lowerupper, {type: \"checkbox\", id: \"communication.command_lowerupper\", isEdit: isEdit});\n\t\t\t\tnode += app.getField(\"developer_mode\", \"Allow command open/close\", object.attributes.communication.allowed_commands.openclose, {type: \"checkbox\", id: \"communication.command_openclose\", isEdit: isEdit});\n\t\t\t\tnode += app.getField(\"developer_mode\", \"Allow command setVal/getVal\", object.attributes.communication.allowed_commands.setvalgetval, {type: \"checkbox\", id: \"communication.command_setvalgetval\", isEdit: isEdit});\n\t\t\t\tnode += app.getField(\"web\", \"UI resource ID\", object.attributes.ui_id, {type: \"text\", id:\"ui_id\", isEdit: isEdit, pattern: app.patterns.uuidv4, error:\"Resource should be a valid uuid-v4\"});\n\t\t\t\tnode += \"\t<div class=\\\"card-header heading-left\\\">&nbsp;</div>\";\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\n\t\t\t\tif ( isEdit || (typeof object.attributes.fqbn !== \"undefined\" ) ) {\n\t\t\t\t\tnode += app.getSubtitle(\"Over The Air (OTA)\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(\"code\", \"Fqbn string\", object.attributes.fqbn!==undefined?object.attributes.fqbn:\"\", {type: \"text\", style:\"text-transform: none !important;\", id: \"fqbn\", isEdit: isEdit});\n\t\t\t\t\tlet source_versions = new Array();\n\t\t\t\t\tlet sources = new Array({value: \"-\", name: \"-\"});\n\t\t\t\t\tif ( localStorage.getItem(\"sources\") != \"null\" ) {\n\t\t\t\t\t\tJSON.parse(localStorage.getItem(\"sources\")).map(function(source) {\n\t\t\t\t\t\t\tif(source.id==object.attributes.source_id) {\n\t\t\t\t\t\t\t\tsource.subversions.map(function(sv) {\n\t\t\t\t\t\t\t\t\tsource_versions.push({value: `Version ${sv.version} - ${sv.name}`, name: sv.version});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn sources.push({value: source.name, name: source.id});\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tsource_versions.push({value: \"Version 0\", name: \"0\"});\n\t\t\t\t\tnode += app.getField(app.icons.sources, \"Arduino Source\", typeof object.attributes.source_id!==\"undefined\"?String(object.attributes.source_id):\"-\", {type: \"select\", id: \"source_id\", isEdit: isEdit, options: sources });\n\t\t\t\t\tnode += app.getField(app.icons.version, \"Source version\", typeof object.attributes.source_version!==\"undefined\"?String(object.attributes.source_version):\"0\", {type: \"select\", id: \"source_version\", isEdit: isEdit, options: source_versions });\n\t\t\t\t\tif ( object.attributes.ipv4 || isEdit===true ) {\n\t\t\t\t\t\tnode += app.getField(\"my_location\", \"IPv4\", object.attributes.ipv4, {type: \"text\", id: \"IPv4\", isEdit: isEdit, inputmode: \"numeric\", pattern: app.patterns.ipv4, error:\"IPv4 should be valid.\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( object.attributes.ipv6 || isEdit===true ) {\n\t\t\t\t\t\tnode += app.getField(\"my_location\", \"IPv6\", object.attributes.ipv6, {type: \"text\", id: \"IPv6\", isEdit: isEdit, inputmode: \"numeric\", pattern: app.patterns.ipv6, error:\"IPv6 should be valid.\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( object.attributes.otahist && !isEdit ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"OTA latest event\", `${object.attributes.otahist.event}: ${object.attributes.otahist.status} (${object.attributes.otahist.date})`, {type: \"text\", id: \"latest_event\", isEdit: false});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( !isEdit && (typeof object.attributes.fqbn !== \"undefined\" && object.attributes.ipv4 ) ) {\n\t\t\t\t\tnode += \"\t\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t\t<div class=\\\"mdl-list__item--three-line small-padding  mdl-card--expand pull-right\\\">\";\n\t\t\t\t\tnode += \"\t\t\t\t<button data-id=\\\"\"+object.id+\"\\\" class=\\\"object_build_btn mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\\\">\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class=\\\"arduino-icon build\\\"> </i>Build\";\n\t\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\t\tnode += \"\t\t\t\t<button data-id=\\\"\"+object.id+\"\\\" class=\\\"object_deploy_btn mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\\\">\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class=\\\"arduino-icon deploy\\\"> </i>Deploy\";\n\t\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\t\tnode += \"\t\t\t</div>\";\n\t\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\t}\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\n\t\t\t\tif ( isEdit || (typeof object.attributes.parameters!==\"undefined\" && object.attributes.parameters.length > -1 ) ) {\n\t\t\t\t\tnode += app.getSubtitle(\"Custom Parameters\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tfor ( var i in object.attributes.parameters ) {\n\t\t\t\t\t\tnode += app.getField(\"note\", object.attributes.parameters[i].name, object.attributes.parameters[i].value, {type: \"text\", id: object.attributes.parameters[i].name, isEdit: isEdit});\n\t\t\t\t\t}\n\t\t\t\t\tif ( isEdit ) {\n\t\t\t\t\t\tnode += app.getField(\"note\", [\"Name\", \"Value\"], [\"\", \"\"], {type: \"2inputs\", pattern: [app.patterns.customAttributeName, app.patterns.customAttributeValue], error: [\"Name should not contains any space nor special char.\", \"Value is free.\"], id: [\"Name[]\", \"Value[]\"], isEdit: true});\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t}\n\n\t\t\t\tif ( isEdit || (object.attributes.longitude || object.attributes.latitude || object.attributes.position) ) {\n\t\t\t\t\tnode += app.getSubtitle(\"Localization\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" style=\\\"padding-bottom: 50px !important;\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(\"place\", \"Longitude\", object.attributes.longitude, {type: \"text\", id: \"Longitude\", isEdit: isEdit, inputmode: \"numeric\", pattern: app.patterns.longitude, error:\"Longitude should be valid.\"});\n\t\t\t\t\tnode += app.getField(\"place\", \"Latitude\", object.attributes.latitude, {type: \"text\", id: \"Latitude\", isEdit: isEdit, inputmode: \"numeric\", pattern: app.patterns.latitude, error:\"Latitude should be valid.\"});\n\t\t\t\t\tnode += app.getField(\"pin_drop\", \"Position\", object.attributes.position, {type: \"text\", id: \"Position\", isEdit: isEdit, pattern: app.patterns.position, error:\"Should not be longer than 255 chars.\"});\n\t\t\t\t\tnode += app.getMap(\"my_location\", \"osm\", object.attributes.longitude, object.attributes.latitude, false, false, false);\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t}\n\n\t\t\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\t\t\tif ( isEdit ) {\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+object.id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) { node += \"\t<div class='mdl-layout-spacer'></div>\"; }\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+object.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>View</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>View Object</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif (object.attributes.ui_id!==\"\" && object.attributes.ui_id!==\"undefined\") {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='viewui-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+object.id+\"'>\";\n\t\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>web</i>\";\n\t\t\t\t\t\tnode += \"\t\t\t<label>View UI</label>\";\n\t\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>View Object UI</label>\";\n\t\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[2]+\"' class='save-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+object.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>save</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[2]+\"'>Save changes to Object</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) { node += \"\t<div class='mdl-layout-spacer'></div>\"; }\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t} else {\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+object.id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='list-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+object.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>List</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Objects</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif (object.attributes.ui_id!==\"\" && object.attributes.ui_id!==\"undefined\") {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='viewui-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+object.id+\"'>\";\n\t\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>web</i>\";\n\t\t\t\t\t\tnode += \"\t\t\t<label>View UI</label>\";\n\t\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>View Object UI</label>\";\n\t\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone delete-button'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[2]+\"' class='delete-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+object.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>delete</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Delete</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[2]+\"'>Delete Object...</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[3]+\"' class='edit-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+object.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Edit</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[3]+\"'>Edit Object</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t}\n\n\t\t\t\t(app.containers.object).querySelector(\".page-content\").innerHTML = node;\n\t\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\tvar source_id_selector = document.getElementById(\"source_id\");\n\t\t\t\tif ( source_id_selector ) {\n\t\t\t\t\tsource_id_selector.addEventListener(\"change\", function(e) {\n\t\t\t\t\t\tif (e.srcElement.value!==\"-\") {\n\t\t\t\t\t\t\tlet subsource = JSON.parse(localStorage.getItem(\"sources\")).find((subsource) => { subsource.id === e.srcElement.value; });\n\t\t\t\t\t\t\tlet sel = document.getElementById(\"source_version\");\n\t\t\t\t\t\t\tfor (let i = sel.options.length-1; i >= 0; i--) { sel.options[i] = null;}\n\t\t\t\t\t\t\tif ((subsource.subversions).length <= 0) {\n\t\t\t\t\t\t\t\tlet opt = document.createElement(\"option\");\n\t\t\t\t\t\t\t\topt.appendChild( document.createTextNode(\"Version 0\") );\n\t\t\t\t\t\t\t\topt.value = 0;\n\t\t\t\t\t\t\t\tsel.appendChild(opt);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t(subsource.subversions).map(function(ss) {\n\t\t\t\t\t\t\t\t\tlet opt = document.createElement(\"option\");\n\t\t\t\t\t\t\t\t\topt.appendChild( document.createTextNode(`Version ${ss.version} - ${ss.name}`) );\n\t\t\t\t\t\t\t\t\topt.value = ss.version;\n\t\t\t\t\t\t\t\t\tsel.appendChild(opt);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet sel = document.getElementById(\"source_version\");\n\t\t\t\t\t\t\tfor (let i = sel.options.length-1; i >= 0; i--) { sel.options[i] = null;}\n\t\t\t\t\t\t\tlet opt = document.createElement(\"option\");\n\t\t\t\t\t\t\topt.appendChild( document.createTextNode(\"Version 0\") );\n\t\t\t\t\t\t\topt.value = 0;\n\t\t\t\t\t\t\tsel.appendChild(opt);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (typeof object.attributes.ui_id!==\"undefined\" && app.buttons.viewuiObject) {\n\t\t\t\t\tapp.buttons.viewuiObject.addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\tapp.resources.objects.onViewUi(evt.target.parentNode.getAttribute(\"data-id\"));\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t}, false);\n\t\t\t\t}\n\t\t\t\tif ( isEdit ) {\n\t\t\t\t\tapp.buttons.backObject.addEventListener(\"click\", function(evt) { app.resources.objects.display(object.id, false, false, false); }, false);\n\t\t\t\t\tapp.buttons.saveObject.addEventListener(\"click\", function(evt) { app.resources.objects.onEdit(evt); }, false);\n\t\t\t\t\t\n\t\t\t\t\tvar element = document.getElementById(\"switch-Visibility\").parentNode;\n\t\t\t\t\tif ( element ) {\n\t\t\t\t\t\telement.addEventListener(\"change\", function(e) {\n\t\t\t\t\t\t\tvar label = e.target.parentElement.querySelector(\"div.mdl-switch__label\");\n\t\t\t\t\t\t\tlabel.innerText = element.classList.contains(\"is-checked\")!==false?\"Object is having a public url\":\"Object is private\";\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (var i in app.buttons.deploySourceObject) {\n\t\t\t\t\t\tif ( app.buttons.deploySourceObject[i].childElementCount > -1 ) {\n\t\t\t\t\t\t\tapp.buttons.deploySourceObject[i].addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\t\t\tapp.resources.objects.onDeploy(object.attributes.source_id, evt.target.parentNode.getAttribute(\"data-id\"));\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i in app.buttons.buildSourceObject) {\n\t\t\t\t\t\tif ( app.buttons.buildSourceObject[i].childElementCount > -1 ) {\n\t\t\t\t\t\t\tapp.buttons.buildSourceObject[i].addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\t\t\tapp.resources.objects.onBuild(object.attributes.source_id, evt.target.parentNode.getAttribute(\"data-id\"));\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tapp.buttons.listObject.addEventListener(\"click\", function(evt) { app.setSection(\"objects\"); evt.preventDefault(); }, false);\n\t\t\t\t\t// buttons.deleteObject2.addEventListener(\"click\",\n\t\t\t\t\t// function(evt) { console.log('SHOW MODAL AND CONFIRM!');\n\t\t\t\t\t// }, false);\n\t\t\t\t\tapp.buttons.editObject2.addEventListener(\"click\", function(evt) { app.resources.objects.display(object.id, false, true, false); evt.preventDefault(); }, false);\n\t\t\t\t}\n\n\t\t\t\tif ( object.attributes.longitude && object.attributes.latitude ) {\n\t\t\t\t\t/* Localization Map */\n\t\t\t\t\tvar map = L.map(\"osm\").setView([parseFloat(object.attributes.latitude), parseFloat(object.attributes.longitude)], 13);\n\t\t\t\t\tL.tileLayer(\"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png\", {\n\t\t\t\t\t\t\"attribution\": \"© <a href=\\\"/osm.org/copyright\\\">OpenStreetMap</a>\",\n\t\t\t\t\t\t\"minZoom\": 1,\n\t\t\t\t\t\t\"maxZoom\": 20,\n\t\t\t\t\t\t\"trackResize\": true,\n\t\t\t\t\t\t\"dragging\": isEdit\n\t\t\t\t\t}).addTo(map);\n\t\t\t\t\tvar popup = L.popup();\n\t\t\t\t\tvar CustomIcon = L.Icon.extend({\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\"shadowUrl\":\t\t\"/img/m/marker-shadow.png\",\n\t\t\t\t\t\t\t\"iconSize\":\t\t[25, 41],\n\t\t\t\t\t\t\t\"shadowSize\":\t\t[41, 41],\n\t\t\t\t\t\t\t\"iconAnchor\":\t\t[20, 20],\n\t\t\t\t\t\t\t\"shadowAnchor\":\t[20, 20],\n\t\t\t\t\t\t\t\"popupAnchor\":\t[-3, -76]\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tvar mIcon = new CustomIcon({iconUrl: \"/img/m/marker-icon.png\"});\n\t\t\t\t\tvar marker = L.marker([parseFloat(object.attributes.latitude), parseFloat(object.attributes.longitude)], {icon: mIcon, draggable: isEdit}).addTo(map);\n\t\t\t\t\tif (isEdit !== true) {\n\t\t\t\t\t\tmap.dragging.disable();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmarker.on(\"dragend\", function(event) {\n\t\t\t\t\t\t\tvar position = marker.getLatLng();\n\t\t\t\t\t\t\tmarker.setLatLng(position, {\n\t\t\t\t\t\t\t\tdraggable: true\n\t\t\t\t\t\t\t}).bindPopup(position).update();\n\t\t\t\t\t\t\tdocument.getElementById(\"Latitude\").value = parseFloat(position.lat, 10).toFixed(6);\n\t\t\t\t\t\t\tdocument.getElementById(\"Longitude\").value = parseFloat(position.lng, 10).toFixed(6);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t//map.on(\"click\", onMapClick);\n\t\t\t\t\tsetTimeout(function() {map.invalidateSize(true);}, 1000);\n\t\t\t\t\t/* End Localization Map */\n\t\t\t\t}\n\n\t\t\t\tapp.setExpandAction();\n\t\t\t\tapp.setSection(\"object\");\n\t\t\t}\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\ttoast(\"displayObject error occured...\" + error, {timeout:3000, type: \"error\"});\n\t\t\t}\n\t\t});\n\t\tapp.containers.spinner.setAttribute(\"hidden\", true);\n\t},\n\tdisplayPublic: function(id, isAdd, isEdit, isPublic) {\n\t\twindow.scrollTo(0, 0);\n\t\thistory.pushState( {section: \"object\" }, window.location.hash.substr(1), \"#object?id=\"+id );\n\t\tapp.initNewSection(\"object\");\n\t\t\n\t\tapp.containers.spinner.removeAttribute(\"hidden\");\n\t\tapp.containers.spinner.classList.remove(\"hidden\");\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/objects/\"+id+\"/public\";\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tfetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tfor (var i=0; i < (response.data).length ; i++ ) {\n\t\t\t\tvar object = response.data[i];\n\n\t\t\t\tdocument.title = (app.sectionsPageTitles[\"object\"]).replace(/%s/g, object.attributes.name);\n\t\t\t\tif ((app.containers.object)) {\n\t\t\t\t\t((app.containers.object).querySelector(\".page-content\")).innerHTML = \"\";\n\t\t\t\t}\n\t\t\t\tvar node = \"\";\n\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+object.id+\"\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\tnode += \"\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.objects+\"</i>\";\n\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\"+object.attributes.name+\"</h2>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+object.id+\"'>\";\n\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t\t<div class='mdl-cell--12-col hidden' id='description-\"+object.id+\"'>\";\n\n\t\t\t\tnode += app.getField(app.icons.code, \"Id\", object.id, {type: \"input\"});\n\t\t\t\tif ( object.attributes.description || isEdit!==true ) {\n\t\t\t\t\tvar description = object.attributes.description!==undefined?object.attributes.description:\"\";\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Description\", description, {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tif ( object.attributes.meta.created ) {\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(object.attributes.meta.created).format(app.date_format), {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tif ( object.attributes.meta.updated ) {\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(object.attributes.meta.updated).format(app.date_format), {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\t\t\t\t\n\t\t\t\tnode += app.getSubtitle(\"Parameters\");\n\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tif ( object.attributes.ipv4 || isEdit===true ) {\n\t\t\t\t\tnode += app.getField(\"my_location\", \"IPv4\", object.attributes.ipv4, {type: \"text\", isEdit: isEdit, inputmode: \"numeric\", pattern: app.patterns.ipv4, error:\"IPv4 should be valid.\"});\n\n\t\t\t\t}\n\t\t\t\tif ( object.attributes.ipv6 || isEdit===true ) {\n\t\t\t\t\tnode += app.getField(\"my_location\", \"IPv6\", object.attributes.ipv6, {type: \"text\", isEdit: isEdit, inputmode: \"numeric\", pattern: app.patterns.ipv6, error:\"IPv6 should be valid.\"});\n\t\t\t\t}\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\n\t\t\t\tif ( object.attributes.parameters && object.attributes.parameters.length > -1 ) { \n\t\t\t\t\tnode += app.getSubtitle(\"Custom Parameters\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tfor ( var j in object.attributes.parameters ) {\n\t\t\t\t\t\tnode += app.getField(\"note\", object.attributes.parameters[j].name, object.attributes.parameters[j].value, {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t}\n\n\t\t\t\tif ( object.attributes.longitude || object.attributes.latitude || object.attributes.position ) {\n\t\t\t\t\tnode += app.getSubtitle(\"Localization\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" style=\\\"padding-bottom: 50px !important;\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tif ( object.attributes.longitude ) {\n\t\t\t\t\t\tnode += app.getField(\"place\", \"Longitude\", object.attributes.longitude, {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( object.attributes.latitude ) {\n\t\t\t\t\t\tnode += app.getField(\"place\", \"Latitude\", object.attributes.latitude, {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( object.attributes.position ) {\n\t\t\t\t\t\tnode += app.getField(\"pin_drop\", \"Position/Localization (should be descriptive)\", object.attributes.position, {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( object.attributes.longitude && object.attributes.latitude ) {\n\t\t\t\t\t\tnode += app.getMap(\"my_location\", \"osm\", object.attributes.longitude, object.attributes.latitude, false, false, false);\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t}\n\n\t\t\t\t(app.containers.object).querySelector(\".page-content\").innerHTML = node;\n\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\t\n\t\t\t\tif ( object.attributes.longitude && object.attributes.latitude ) {\n\t\t\t\t\t/* Localization Map */\n\t\t\t\t\tvar map = L.map(\"osm\").setView([parseFloat(object.attributes.latitude), parseFloat(object.attributes.longitude)], 13);\n\t\t\t\t\tL.tileLayer(\"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png\", {\n\t\t\t\t\t\tattribution: \"© <a href=\\\"//osm.org/copyright\\\">OpenStreetMap</a>\",\n\t\t\t\t\t\tminZoom: 1,\n\t\t\t\t\t\tmaxZoom: 20,\n\t\t\t\t\t\ttrackResize: true,\n\t\t\t\t\t\tdragging: false\n\t\t\t\t\t}).addTo(map);\n\t\t\t\t\tvar popup = L.popup();\n\t\t\t\t\tvar marker = L.marker([parseFloat(object.attributes.latitude), parseFloat(object.attributes.longitude)], {draggable: false}).addTo(map);\n\t\t\t\t\tsetTimeout(function() {map.invalidateSize(true);}, 1000);\n\t\t\t\t\t/* End Localization Map */\n\t\t\t\t}\n\n\t\t\t\tapp.setExpandAction();\n\t\t\t\t// app.setSection(\"object\");\n\t\t\t}\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\ttoast(\"displayObject error occured...\" + error, {timeout:3000, type: \"error\"});\n\t\t\t}\n\t\t});\n\t\tapp.containers.spinner.setAttribute(\"hidden\", true);\n\t},\n\tdisplayAdd: function(object, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"object_add\" }, window.location.hash.substr(1), \"#object_add\" );\n\t\tapp.initNewSection(\"object_add\");\n\t\tvar node = \"\";\n\t\tobject.id = object.id!==\"\"?object.id:app.getUniqueId();\n\t\tobject.attributes.longitude = parseFloat(object.attributes.longitude!==\"\"?object.attributes.longitude:0).toFixed(6);\n\t\tobject.attributes.latitude = parseFloat(object.attributes.latitude!==\"\"?object.attributes.latitude:0).toFixed(6);\n\t\tvar description = object.attributes.description!==undefined?object.attributes.description:\"\";\n\t\t\n\t\tnode += app.getSubtitle(\"Description\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+object.id+\"\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(app.icons.name, \"Name\", object.attributes.name, {type: \"text\", id: \"Name\", isEdit: true, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\tnode += app.getField(app.icons.description, \"Description\", description, {type: \"textarea\", id: \"Description\", isEdit: true});\n\t\tnode += app.getField(app.icons.type, \"Type\", object.attributes.type, {type: \"select\", id: \"Type\", options: app.types, isEdit: true });\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tnode += app.getSubtitle(\"Security\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+object.id+\"\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(\"verified_user\", \"Secret Key in symmetric signature\", object.attributes.secret_key!==undefined?object.attributes.secret_key:\"\", {type: \"text\", id: \"secret_key\", style:\"text-transform: none !important;\", isEdit: true, pattern: app.patterns.secret_key, error:\"\"});\n\t\tnode += app.getField(\"\", \"\", \"When flow require signed payload, you should provide your secret to verify signature.\", {type: \"text\", isEdit: false});\n\t\tnode += app.getField(\"vpn_key\", \"Secret Key in symmetric cryptography\", object.attributes.secret_key_crypt!==undefined?object.attributes.secret_key_crypt:\"\", {type: \"text\", id: \"secret_key_crypt\", style:\"text-transform: none !important;\", isEdit: true, pattern: app.patterns.secret_key_crypt, error:\"\"});\n\t\tnode += app.getField(\"visibility\", \"Object is private\", object.attributes.is_public!==undefined?object.attributes.is_public:false, {type: \"switch\", id: \"Visibility\", isEdit: true});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\n\t\tnode += app.getSubtitle(\"Communication\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += \"\t\t<div class=\\\"card-header heading-left\\\">&nbsp;</div>\";\n\t\tnode += app.getField(\"add_to_home_screen\", \"Interface\", \"\", {type: \"select\", id: \"interface\", options: [{name: \"restAPI\", value:\"restAPI\"}, {name: \"messageQueue\", value:\"messageQueue\"}], isEdit: true});\n\t\tnode += app.getField(\"developer_mode\", \"Allow command on/off\", \"\", {type: \"checkbox\", id: \"communication.command_onoff\", isEdit: true});\n\t\tnode += app.getField(\"developer_mode\", \"Allow command lower/upper\", \"\", {type: \"checkbox\", id: \"communication.command_lowerupper\", isEdit: true});\n\t\tnode += app.getField(\"developer_mode\", \"Allow command open/close\", \"\", {type: \"checkbox\", id: \"communication.command_openclose\", isEdit: true});\n\t\tnode += app.getField(\"developer_mode\", \"Allow command setVal/getVal\", \"\", {type: \"checkbox\", id: \"communication.command_setvalgetval\", isEdit: true});\n\t\tnode += \"<div class=\\\"card-header heading-left\\\">&nbsp;</div>\";\n\t\tnode += app.getField(\"web\", \"UI resource ID\", object.attributes.ui_id, {type: \"text\", id:\"ui_id\", isEdit: true, pattern: app.patterns.uuidv4, error:\"Resource should be a valid uuid-v4\"});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tnode += app.getSubtitle(\"Over The Air (OTA)\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(app.icons.code, \"Fqbn string\", object.attributes.fqbn!==undefined?object.attributes.fqbn:\"\", {type: \"text\", style:\"text-transform: none !important;\", id: \"fqbn\", isEdit: true});\n\t\tlet source_versions = new Array();\n\t\tlet sources = new Array();\n\t\tif ( localStorage.getItem(\"sources\") != \"null\" ) {\n\t\t\tJSON.parse(localStorage.getItem(\"sources\")).map(function(source) {\n\t\t\t\tif(source.id==object.attributes.source_id) {\n\t\t\t\t\tsource.subversions.map(function(sv) {\n\t\t\t\t\t\tsource_versions.push({value: `Version ${sv.version} - ${sv.name}`, name: sv.id});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn sources.push({value: source.name, name: source.id});\n\t\t\t});\n\t\t\tsources.push({value: \"-\", name: \"-\"});\n\t\t}\n\t\tsource_versions.push({value: \"Version 0\", name: \"0\"});\n\t\tnode += app.getField(app.icons.sources, \"Arduino Source\", object.attributes.source_id, {type: \"select\", id: \"source_id\", isEdit: true, options: sources });\n\t\tnode += app.getField(app.icons.version, \"Source version\", object.attributes.source_version, {type: \"select\", id: \"source_version\", isEdit: true, options: source_versions });\n\t\tnode += app.getField(\"my_location\", \"IPv4\", object.attributes.ipv4, {type: \"text\", id: \"IPv4\", isEdit: true, inputmode: \"numeric\", pattern: app.patterns.ipv4, error:\"IPv4 should be valid.\"});\n\t\tnode += app.getField(\"my_location\", \"IPv6\", object.attributes.ipv6, {type: \"text\", id: \"IPv6\", isEdit: true, inputmode: \"numeric\", pattern: app.patterns.ipv6, error:\"IPv6 should be valid.\"});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tnode += app.getSubtitle(\"Custom Parameters\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(\"note\", [\"Name\", \"Value\"], [\"\", \"\"], {type: \"2inputs\", pattern: [app.patterns.customAttributeName, app.patterns.customAttributeValue], error: [\"Name should not contains any space nor special char.\", \"Value is free.\"], id: [\"Name[]\", \"Value[]\"], isEdit: true});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\n\t\tnode += app.getSubtitle(\"Localization\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" style=\\\"padding-bottom: 50px !important;\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(\"place\", \"Longitude\", object.attributes.longitude, {type: \"text\", id: \"Longitude\", isEdit: true, inputmode: \"numeric\", pattern: app.patterns.longitude, error:\"Longitude should be valid.\"});\n\t\tnode += app.getField(\"place\", \"Latitude\", object.attributes.latitude, {type: \"text\", id: \"Latitude\", isEdit: true, inputmode: \"numeric\", pattern: app.patterns.latitude, error:\"Latitude should be valid.\"});\n\t\tnode += app.getField(\"pin_drop\", \"Position/Localization (should be descriptive)\", object.attributes.position, {type: \"text\", id: \"Position\", isEdit: true, pattern: app.patterns.position, error:\"Should not be longer than 255 chars.\"});\n\t\tnode += app.getMap(\"my_location\", \"osmAdd\", object.attributes.longitude, object.attributes.latitude, false, false, false);\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+object.id+\"'>\";\n\t\tif( app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+object.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\tnode += \"\t\t\t<label>List</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Objects</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='add-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+object.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save new Object</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tif( !app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"</section>\";\n\n\t\t(app.containers.object_add).querySelector(\".page-content\").innerHTML = node;\n\t\tcomponentHandler.upgradeDom();\n\t\tvar source_id_selector = document.getElementById(\"source_id\");\n\t\tif ( source_id_selector ) {\n\t\t\tsource_id_selector.addEventListener(\"change\", function(e) {\n\t\t\t\tif (e.srcElement.value!==\"-\") {\n\t\t\t\t\tlet subsource = JSON.parse(localStorage.getItem(\"sources\")).find((subsource) => subsource.id == e.srcElement.value);\n\t\t\t\t\tlet sel = document.getElementById(\"source_version\");\n\t\t\t\t\tfor (let i = sel.options.length-1; i >= 0; i--) { sel.options[i] = null;}\n\t\t\t\t\tif ((subsource.subversions).length <= 0) {\n\t\t\t\t\t\tlet opt = document.createElement(\"option\");\n\t\t\t\t\t\topt.appendChild( document.createTextNode(\"Version 0\") );\n\t\t\t\t\t\topt.value = 0;\n\t\t\t\t\t\tsel.appendChild(opt);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t(subsource.subversions).map(function(ss) {\n\t\t\t\t\t\t\tlet opt = document.createElement(\"option\");\n\t\t\t\t\t\t\topt.appendChild( document.createTextNode(`Version ${ss.version} - ${ss.name}`) );\n\t\t\t\t\t\t\topt.value = ss.version;\n\t\t\t\t\t\t\tsel.appendChild(opt);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet sel = document.getElementById(\"source_version\");\n\t\t\t\t\tfor (let i = sel.options.length-1; i >= 0; i--) { sel.options[i] = null;}\n\t\t\t\t\tlet opt = document.createElement(\"option\");\n\t\t\t\t\topt.appendChild( document.createTextNode(\"Version 0\") );\n\t\t\t\t\topt.value = 0;\n\t\t\t\t\tsel.appendChild(opt);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tapp.getLocation();\n\t\t/* Localization Map */\n\t\tvar map = L.map(\"osmAdd\").setView([parseFloat(object.attributes.latitude), parseFloat(object.attributes.longitude)], 13);\n\t\tL.tileLayer(\"https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png\", {\n\t\t\tattribution: \"© <a href='//osm.org/copyright'>OpenStreetMap</a>\",\n\t\t\tminZoom: 1,\n\t\t\tmaxZoom: 20,\n\t\t\ttrackResize: true,\n\t\t\tdragging: true\n\t\t}).addTo(map);\n\t\tvar popup = L.popup();\n\t\tvar CustomIcon = L.Icon.extend({\n\t\t\toptions: {\n\t\t\t\tshadowUrl:\t\t\"/img/m/marker-shadow.png\",\n\t\t\t\ticonSize:\t\t[25, 41],\n\t\t\t\tshadowSize:\t\t[41, 41],\n\t\t\t\ticonAnchor:\t\t[20, 20],\n\t\t\t\tshadowAnchor:\t[20, 20],\n\t\t\t\tpopupAnchor:\t[-3, -76]\n\t\t\t}\n\t\t});\n\t\tvar mIcon = new CustomIcon({iconUrl: \"/img/m/marker-icon.png\"});\n\t\tvar marker = L.marker([parseFloat(object.attributes.latitude), parseFloat(object.attributes.longitude)], {icon: mIcon, draggable: true}).addTo(map);\n\t\tmarker.on(\"dragend\", function(event) {\n\t\t\tvar position = marker.getLatLng();\n\t\t\tmarker.setLatLng(position, {\n\t\t\t\tdraggable: true\n\t\t\t}).bindPopup(position).update();\n\t\t\tdocument.getElementById(\"Latitude\").value = parseFloat(position.lat, 10).toFixed(6);\n\t\t\tdocument.getElementById(\"Longitude\").value = parseFloat(position.lng, 10).toFixed(6);\n\t\t});\n\t\tsetTimeout(function() {map.invalidateSize(true);}, 1000);\n\t\t/* End Localization Map */\n\t\t\n\t\tapp.refreshButtonsSelectors();\n\t\tapp.buttons.addObjectBack.addEventListener(\"click\", function(evt) { app.setSection(\"objects\"); evt.preventDefault(); }, false);\n\t\tapp.buttons.addObject.addEventListener(\"click\", function(evt) { app.resources.objects.onAdd(evt); }, false);\n\n\t\tvar element = document.getElementById(\"switch-Visibility\").parentNode;\n\t\tif ( element ) {\n\t\t\telement.addEventListener(\"change\", function(e) {\n\t\t\t\tvar label = e.target.parentElement.querySelector(\"div.mdl-switch__label\");\n\t\t\t\tlabel.innerText = element.classList.contains(\"is-checked\")!==false?\"Object is having a public url\":\"Object is private\";\n\t\t\t});\n\t\t}\n\t\tapp.setExpandAction();\n\t},\n\tdisplayItem: function(object) {\n\t\tvar type = \"objects\";\n\t\tvar name = object.attributes.name!==undefined?object.attributes.name:\"\";\n\t\tvar description = object.attributes.description!==undefined?object.attributes.description.substring(0, app.cardMaxChars):\"\";\n\n\t\tvar element = \"\";\n\t\telement += \"<div class=\\\"mdl-grid mdl-cell\\\" data-action=\\\"view\\\" data-type=\\\"\"+type+\"\\\" data-id=\\\"\"+object.id+\"\\\">\";\n\t\telement += \"\t<div class=\\\"mdl-card mdl-shadow--2dp\\\">\";\n\t\telement += \"\t\t<div class=\\\"mdl-card__title\\\">\";\n\t\telement += \"\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.objects+\"</i>\";\n\t\telement += \"\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\"+name+\"</h3>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += app.getField(null, null, description, {type: \"textarea\", isEdit: false});\n\t\telement += \"<div class='mdl-list__item--three-line small-padding'>\";\n\t\telement += \"\t\t<span class='type' id='\"+object.id+\"-connected'><i class='material-icons md-32'>\"+(object.attributes.is_connected===true?\"flash_on\":\"flash_off\")+\"</i></span>\";\n\t\telement += \"\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+object.id+\"-connected'>\"+(object.attributes.is_connected===true?\"Connected\":\"Disconnected\")+\"</div>\";\n\t\tif ( object.attributes.type ) {\n\t\t\tvar d = app.types.find( function(type) { return type.name == object.attributes.type; });\n\t\t\td = d!==undefined?d:\"\";\n\t\t\telement += \"\t<span class='type' id='\"+object.id+\"-type'><i class='material-icons md-32'>\"+d.name+\"</i></span>\";\n\t\t\telement += \"\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+object.id+\"-type'>\"+d.value+\"</div>\";\n\t\t}\n\t\tif ( object.attributes.is_public == \"true\" ) {\n\t\t\telement += \"\t<span class='isPublic' id='\"+object.id+\"-isPublic'><i class='material-icons md-32'>visibility</i></span>\";\n\t\t\telement += \"\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+object.id+\"-isPublic'>Public</div>\";\n\t\t}\n\t\tif ( (object.attributes.longitude && object.attributes.latitude) || object.attributes.position ) {\n\t\t\telement += \"\t<span class='isLocalized' id='\"+object.id+\"-isLocalized'><i class='material-icons md-32'>location_on</i></span>\";\n\t\t\telement += \"\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+object.id+\"-isLocalized'>Localized</div>\";\t\n\t\t}\n\t\tif ( object.attributes.secret_key != \"\" ) {\n\t\t\telement += \"\t<span class='Signature' id='\"+object.id+\"-Signature'><i class='material-icons md-32'>verified_user</i></span>\";\n\t\t\telement += \"\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+object.id+\"-Signature'>Signature Secret Key</div>\";\n\t\t}\n\t\tif ( object.attributes.secret_key_crypt != \"\" ) {\n\t\t\telement += \"\t<span class='Crypt' id='\"+object.id+\"-Crypt'><i class='material-icons md-32'>vpn_key</i></span>\";\n\t\t\telement += \"\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+object.id+\"-Crypt'>Encryption Secret Key</div>\";\n\t\t}\n\t\tif ( object.attributes.ui_id!==\"\" && typeof object.attributes.ui_id!==\"undefined\" ) {\n\t\t\telement += \"\t<span class='Crypt' id='\"+object.id+\"-UI'><i class='material-icons md-32'>web</i></span>\";\n\t\t\telement += \"\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+object.id+\"-UI'>User Interface</div>\";\n\t\t}\n\t\telement += `\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mdl-card__actions mdl-card--border\">\n\t\t\t\t\t<span class=\"pull-left mdl-card__date\">\n\t\t\t\t\t\t<button data-id=\"\"+object.id+\"\" class=\"swapDate mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\">\n\t\t\t\t\t\t\t<i class=\"material-icons\">update</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<span data-date=\"created\" class=\"visible\">Created on ${moment(object.attributes.meta.created).format(app.date_format)}</span>`;\n\t\tif ( object.attributes.meta.updated ) {\n\t\t\telement += `<span data-date=\"updated\" class=\"hidden\">Updated on ${moment(object.attributes.meta.updated).format(app.date_format)}</span>`;\n\t\t} else {\n\t\t\telement += \"<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Never been updated yet.</span>\";\n\t\t}\n\t\telement += `\n\t\t\t\t\t</span>\n\t\t\t\t\t<span class=\"pull-right mdl-card__menuaction\">\n\t\t\t\t\t\t<button id=\"menu_${object.id}\" class=\"mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\">\n\t\t\t\t\t\t\t<i class=\"material-icons\">${app.icons.menu}</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<ul class=\"mdl-menu mdl-menu--top-right mdl-js-menu mdl-js-ripple-effect\" for=\"menu_${object.id}\">\n\t\t\t\t\t\t<li class=\"mdl-menu__item delete-button\">\n\t\t\t\t\t\t\t<a class='mdl-navigation__link'><i class=\"material-icons delete-button mdl-js-button mdl-js-ripple-effect\" data-id=\"${object.id}\" data-name=\"${name}\">${app.icons.delete}</i>Delete</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"mdl-menu__item\">\n\t\t\t\t\t\t\t<a class='mdl-navigation__link'><i class=\"material-icons edit-button mdl-js-button mdl-js-ripple-effect\" data-id=\"${object.id}\" data-name=\"${name}\">${app.icons.edit}</i>Edit</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class=\"mdl-menu__item\">\n\t\t\t\t\t\t\t<a class='mdl-navigation__link'><i class=\"material-icons copy-button mdl-js-button mdl-js-ripple-effect\" data-id=\"${object.id}\">${app.icons.copy}</i><textarea class=\"copytextarea\">${object.id}</textarea>Copy ID to clipboard</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`;\n\t\treturn element;\n\t}\n};","\"use strict\";\napp.resources.flows = {\n\tonEdit: function(evt) {\n\t\tvar flow_id = evt.target.parentNode.getAttribute(\"data-id\")?evt.target.parentNode.getAttribute(\"data-id\"):evt.target.getAttribute(\"data-id\");\n\t\tif ( !flow_id ) {\n\t\t\ttoast(\"No Flow id found!\", {timeout:3000, type: \"error\"});\n\t\t} else {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tvar body = {\n\t\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\t\tmqtt_topic: myForm.querySelector(\"input[name='MQTT Topic']\").value,\n\t\t\t\tdata_type: myForm.querySelector(\"select[name='DataType']\").value,\n\t\t\t\tretention: myForm.querySelector(\"select[name='Retention']\").value,\n\t\t\t\tunit: myForm.querySelector(\"select[name='Unit']\").value,\n\t\t\t\ttrack_id: myForm.querySelector(\"input[name='Track']\").value,\n\t\t\t\tfusion_algorithm: myForm.querySelector(\"input[id='fusion_algorithm']\").value,\n\t\t\t\tttl: myForm.querySelector(\"input[name='TTL']\").value,\n\t\t\t\trequire_signed: myForm.querySelector(\"label.mdl-switch[data-id='switch-edit_require_signed']\").classList.contains(\"is-checked\")===true?\"true\":\"false\",\n\t\t\t\trequire_encrypted: myForm.querySelector(\"label.mdl-switch[data-id='switch-edit_require_encrypted']\").classList.contains(\"is-checked\")===true?\"true\":\"false\",\n\t\t\t\tinflux_db_cloud: {\n\t\t\t\t\t\"token\": myForm.querySelector(\"input[name='Token']\").value,\n\t\t\t\t\t\"org\": myForm.querySelector(\"input[name='Org']\").value,\n\t\t\t\t\t\"url\": myForm.querySelector(\"input[name='Url']\").value,\n\t\t\t\t\t\"bucket\": myForm.querySelector(\"input[name='Bucket']\").value\n\t\t\t\t},\n\t\t\t\tpreprocessor: myForm.querySelector(\"textarea[id='preprocessor']\").value&&JSON.parse(myForm.querySelector(\"textarea[id='preprocessor']\").value)!==\"undefined\"?JSON.parse(myForm.querySelector(\"textarea[id='preprocessor']\").value):undefined,\n\t\t\t\tmeta: {revision: myForm.querySelector(\"input[name='meta.revision']\").value, },\n\t\t\t};\n\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: \"PUT\", headers: myHeaders, body: JSON.stringify(body) };\n\t\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/flows/\"+flow_id;\n\t\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse){ \n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tapp.setSection(\"flows\");\n\t\t\t\tvar flowsList = JSON.parse(localStorage.getItem(\"flows\"));\n\t\t\t\tapp.flows = [];\n\t\t\t\tflowsList.map(function(fl) {\n\t\t\t\t\tif( fl.id == flow_id ) {\n\t\t\t\t\t\tapp.flows.push( {id: fl.id, name:response.flow.data.attributes.name, type: response.flow.data.type} );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.flows.push( {id: fl.id, name:fl.name, type: fl.type} );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlocalStorage.setItem(\"flows\", JSON.stringify(app.flows));\n\t\t\t\ttoast(\"Flow has been saved.\", {timeout:3000, type: \"done\"});\n\t\t\t\t//var flowContainer = document.querySelector(\"section#flows div[data-id=\"\"+flow_id+\"\"]\");\n\t\t\t\t//flowContainer.querySelector(\"h2\").innerHTML = body.name;\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\ttoast(\"Flow has not been saved.\"+error, {timeout:3000, type: \"error\"});\n\t\t\t});\n\t\t\tevt.preventDefault();\n\t\t}\n\t},\n\tonAdd: function(evt) {\n\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\tvar body = {\n\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\tmqtt_topic: myForm.querySelector(\"input[name='MQTT Topic']\").value,\n\t\t\tdata_type: myForm.querySelector(\"select[name='DataType']\").value,\n\t\t\tretention: myForm.querySelector(\"select[name='Retention']\").value,\n\t\t\tunit: myForm.querySelector(\"select[name='Unit']\").value,\n\t\t\ttrack_id: myForm.querySelector(\"input[name='Track']\").value,\n\t\t\tfusion_algorithm: myForm.querySelector(\"input[id='fusion_algorithm']\").value,\n\t\t\tttl: myForm.querySelector(\"input[name='TTL']\").value,\n\t\t\trequire_signed: myForm.querySelector(\"label.mdl-switch[data-id='switch-add_require_signed']\").classList.contains(\"is-checked\")===true?\"true\":\"false\",\n\t\t\trequire_encrypted: myForm.querySelector(\"label.mdl-switch[data-id='switch-add_require_encrypted']\").classList.contains(\"is-checked\")===true?\"true\":\"false\",\n\t\t\tinflux_db_cloud: {\n\t\t\t\t\"token\": myForm.querySelector(\"input[name='Token']\").value,\n\t\t\t\t\"org\": myForm.querySelector(\"input[name='Org']\").value,\n\t\t\t\t\"url\": myForm.querySelector(\"input[name='Url']\").value,\n\t\t\t\t\"bucket\": myForm.querySelector(\"input[name='Bucket']\").value\n\t\t\t},\n\t\t\tpreprocessor: myForm.querySelector(\"textarea[id='preprocessor']\").value&&JSON.parse(myForm.querySelector(\"textarea[id='preprocessor']\").value)!==\"undefined\"?JSON.parse(myForm.querySelector(\"textarea[id='preprocessor']\").value):undefined,\n\t\t};\n\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\tconsole.log(\"DEBUG onAddFlow\", JSON.stringify(body));\n\t\t}\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"POST\", headers: myHeaders, body: JSON.stringify(body) };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/flows/\";\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tapp.setSection(\"flows\");\n\t\t\tvar flowsList = new Array();\n\t\t\tif ( JSON.parse(localStorage.getItem(\"flows\")) !== \"null\" && JSON.parse(localStorage.getItem(\"flows\")).length > -1 ) {\n\t\t\t\tflowsList = JSON.parse(localStorage.getItem(\"flows\"));\n\t\t\t}\n\t\t\tflowsList.push({id: response.flow.data.id, name:response.flow.data.attributes.name, ttl:response.flow.data.attributes.ttl, unit:response.flow.data.attributes.unit, type: response.flow.data.type});\n\t\t\tlocalStorage.setItem(\"flows\", JSON.stringify(flowsList));\n\t\t\ttoast(\"Flow has been added.\", {timeout:3000, type: \"done\"});\n\t\t})\n\t\t.catch(function (error) {\n\t\t\ttoast(\"Flow has not been added.\", {timeout:3000, type: \"error\"});\n\t\t});\n\t\tevt.preventDefault();\n\t},\n\tonDelete: function(flow_id) {\n\t\tvar flowsList = JSON.parse(localStorage.getItem(\"flows\"));\n\t\tapp.flows = [];\n\t\tflowsList.filter(function(fl) {\n\t\t\tif( fl.id != flow_id ) {\n\t\t\t\tapp.flows.push( {id: fl.id, name:fl.name,  ttl:fl.ttl,  unit:fl.unit, type: fl.type} );\n\t\t\t}\n\t\t});\n\t\tlocalStorage.setItem(\"flows\", JSON.stringify(app.flows));\n\t},\n\tdisplay: function(id, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"flow\" }, window.location.hash.substr(1), \"#flow?id=\"+id );\n\t\tapp.initNewSection(\"flow\");\n\t\t\n\t\twindow.scrollTo(0, 0);\n\t\tapp.containers.spinner.removeAttribute(\"hidden\");\n\t\tapp.containers.spinner.classList.remove(\"hidden\");\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/flows/\"+id;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tfor (var i=0; i < (response.data).length ; i++ ) {\n\t\t\t\tvar flow = response.data[i];\n\t\t\t\tdocument.title = (app.sectionsPageTitles[\"flow\"]).replace(/%s/g, flow.attributes.name);\n\t\t\t\tif ((app.containers.flow)) {\n\t\t\t\t\t((app.containers.flow).querySelector(\".page-content\")).innerHTML = \"\";\n\t\t\t\t}\n\t\t\t\tvar datapoints = \"\";\n\t\t\t\tvar node = \"\";\n\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+flow.id+\"\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\tnode += \"\t\t\t\t<i class=\\\"material-icons mdl-textfield__icon\\\">\"+app.icons.flows+\"</i>\";\n\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\"+flow.attributes.name+\"</h2>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+flow.id+\"'>\";\n\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t\t<div class='mdl-cell--12-col hidden' id='description-\"+flow.id+\"'>\";\n\n\t\t\t\tnode += app.getField(app.icons.code, \"Id\", flow.id, {type: \"text\", style:\"text-transform: none !important;\"});\n\t\t\t\tif ( flow.attributes.description && isEdit!==true ) {\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Description\", app.nl2br(flow.attributes.description), {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tif ( flow.attributes.meta.created ) {\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(flow.attributes.meta.created).format(app.date_format), {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tif ( flow.attributes.meta.updated ) {\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(flow.attributes.meta.updated).format(app.date_format), {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tif ( flow.attributes.meta.revision ) {\n\t\t\t\t\tnode += app.getField(app.icons.update, \"Revision\", flow.attributes.meta.revision, {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\t\t\t\t\n\t\t\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\t\t\tif ( isEdit ) {\n\t\t\t\t\tif ( !localStorage.getItem(\"units\") ) {\n\t\t\t\t\t\tunit=\"\";\n\t\t\t\t\t\tapp.getUnits();\n\t\t\t\t\t}\n\t\t\t\t\tvar allUnits = JSON.parse(localStorage.getItem(\"units\"));\n\n\t\t\t\t\tif ( !localStorage.getItem(\"datatypes\") ) {\n\t\t\t\t\t\tapp.getDatatypes();\n\t\t\t\t\t}\n\t\t\t\t\tvar allDatatypes = JSON.parse(localStorage.getItem(\"datatypes\"));\n\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(null, \"meta.revision\", flow.attributes.meta.revision, {type: \"hidden\", id: \"meta.revision\", pattern: app.patterns.meta_revision});\n\t\t\t\t\tnode += app.getField(app.icons.name, \"Name\", flow.attributes.name!==undefined?flow.attributes.name:\"\", {type: \"text\", id: \"Name\", isEdit: isEdit});\n\t\t\t\t\t//var description = flow.attributes.description!==undefined?app.nl2br(flow.attributes.description):\"\";\n\t\t\t\t\t//node += app.getField(app.icons.description, \"Description\", description, {type: \"text\", id: \"Description\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(app.icons.mqtts, \"MQTT Topic\", flow.attributes.mqtt_topic!==undefined?flow.attributes.mqtt_topic:\"\", {type: \"text\", style:\"text-transform: none !important;\", id: \"MQTTTopic\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(app.icons.units, \"Unit\", flow.attributes.unit!==\"\"?flow.attributes.unit:undefined, {type: \"select\", id: \"Unit\", isEdit: isEdit, options: allUnits });\n\t\t\t\t\tnode += app.getField(app.icons.datatypes, \"DataType\", flow.attributes.data_type, {type: \"select\", id: \"DataTypeName\", isEdit: isEdit, options: allDatatypes });\n\t\t\t\t\tnode += app.getField(app.icons.datatypes, \"Type\", app.findDataType(flow.attributes.data_type).type, {type: \"text\", id: \"DataTypeType\", isEdit: false, options: allDatatypes });\n\t\t\t\t\tnode += app.getField(app.icons.datatypes, \"Classification\", app.findDataType(flow.attributes.data_type).classification, {type: \"text\", id: \"DataTypeClassification\", isEdit: false, options: allDatatypes });\n\t\t\t\t\tnode += app.getField(app.icons.retention, \"Retention\", flow.attributes.retention!==undefined?flow.attributes.retention:\"Default\", {type: \"select\", id: \"Retention\", isEdit: isEdit, options: app.allRetentions });\n\t\t\t\t\tnode += app.getField(\"verified_user\", flow.attributes.require_signed!==false?\"Require signed payload from Object\":\"Does not require signed payload from Object\", flow.attributes.require_signed, {type: \"switch\", id: \"edit_require_signed\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(\"vpn_key\", flow.attributes.require_encrypted!==false?\"Require encrypted payload from Object\":\"Does not require encrypted payload from Object\", flow.attributes.require_encrypted, {type: \"switch\", id: \"edit_require_encrypted\", isEdit: isEdit});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += app.getSubtitle(\"Save datapoints to influxDb Cloud\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(app.icons.token, \"Token\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.token, {type: \"text\", id: \"Token\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(app.icons.org, \"Org\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.org, {type: \"text\", id: \"Org\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(app.icons.url, \"Url\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.url, {type: \"text\", id: \"Url\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(app.icons.bucket, \"Bucket\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.bucket, {type: \"text\", id: \"Bucket\", isEdit: isEdit});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += app.getSubtitle(\"Sensor Data Fusion\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(app.icons.track, \"Track\", flow.attributes.track_id===null?\"\":flow.attributes.track_id, {type: \"text\", id: \"Track_id\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(app.icons.preprocessor, \"Preprocessor\", flow.attributes.preprocessor!==undefined?JSON.stringify(flow.attributes.preprocessor):\"\", {type: \"textarea\", id: \"preprocessor\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(app.icons.algorithm, \"Fusion Algorithm\", typeof flow.attributes.fusion_algorithm===\"undefined\"?flow.attributes.fusion_algorithm:\"\", {type: \"text\", id: \"fusion_algorithm\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(app.icons.ttl, \"TTL\", flow.attributes.ttl!==null?flow.attributes.ttl:\"\", {type: \"text\", id: \"Ttl\", isEdit: isEdit, pattern: app.patterns.ttl, error: \"Must be an Integer.\"});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) { node += \"\t<div class='mdl-layout-spacer'></div>\"; }\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>View</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>View Flow</div>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='save-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>save</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save Flow</div>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) { node += \"\t<div class='mdl-layout-spacer'></div>\"; }\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tif ( flow.attributes.type ) {\n\t\t\t\t\t\tnode += app.getField(\"extension\", \"Type\", flow.attributes.type, {type: \"text\", id: \"Type\", isEdit: isEdit});\n\t\t\t\t\t}\n\t\t\t\t\tif ( flow.attributes.mqtt_topic ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.mqtts, \"MQTT Topic\", flow.attributes.mqtt_topic, {type: \"text\", style:\"text-transform: none !important;\", id: \"MQTTTopic\", isEdit: isEdit});\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( flow.attributes.unit!=\"\" && typeof flow.attributes.unit!==\"undefined\" && localStorage.getItem(\"units\") !== \"null\" && JSON.parse(localStorage.getItem(\"units\")) ) {\n\t\t\t\t\t\tvar unit = JSON.parse(localStorage.getItem(\"units\")).find( function(u) { return u.name == flow.attributes.unit; });\n\t\t\t\t\t\tnode += app.getField(app.icons.units, \"Unit\", unit.value, {type: \"select\", id: \"Unit\", isEdit: isEdit, options: app.units });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tunit=\"\";\n\t\t\t\t\t\tapp.getUnits();\n\t\t\t\t\t}\n\t\t\t\t\tif ( flow.attributes.data_type ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.datatypes, \"DataType\", app.findDataType(flow.attributes.data_type).value, {type: \"select\", id: \"DataTypeName\", isEdit: isEdit, options: app.datatypes });\n\t\t\t\t\t\tnode += app.getField(app.icons.datatypes, \"Type\", app.findDataType(flow.attributes.data_type).type, {type: \"text\", id: \"DataTypeType\", isEdit: false, options: allDatatypes });\n\t\t\t\t\t\tnode += app.getField(app.icons.datatypes, \"Classification\", app.findDataType(flow.attributes.data_type).classification, {type: \"text\", id: \"DataTypeClassification\", isEdit: false, options: allDatatypes });\n\t\t\t\t\t}\n\t\t\t\t\tnode += app.getField(app.icons.retention, \"Retention\", flow.attributes.retention!==undefined?flow.attributes.retention:\"\", {type: \"select\", id: \"Retention\", isEdit: isEdit, options: app.allRetentions });\n\t\t\t\t\tnode += app.getField(\"verified_user\", flow.attributes.require_signed!==false?\"Require signed payload from Object\":\"Does not require signed payload from Object\", flow.attributes.require_signed, {type: \"switch\", id: \"show_require_signed\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(\"vpn_key\", flow.attributes.require_encrypted!==false?\"Require encrypted payload from Object\":\"Does not require encrypted payload from Object\", flow.attributes.require_encrypted, {type: \"switch\", id: \"show_require_encrypted\", isEdit: isEdit});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tif ( flow.attributes.influx_db_cloud ) {\n\t\t\t\t\t\tnode += app.getSubtitle(\"Save datapoints to influxDb Cloud\");\n\t\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\t\tnode += app.getField(app.icons.token, \"Token\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.token, {type: \"text\", id: \"Token\", isEdit: isEdit});\n\t\t\t\t\t\tnode += app.getField(app.icons.org, \"Org\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.org, {type: \"text\", id: \"Org\", isEdit: isEdit});\n\t\t\t\t\t\tnode += app.getField(app.icons.url, \"Url\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.url, {type: \"text\", id: \"Url\", isEdit: isEdit});\n\t\t\t\t\t\tnode += app.getField(app.icons.bucket, \"Bucket\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.bucket, {type: \"text\", id: \"Bucket\", isEdit: isEdit});\n\t\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( flow.attributes.track_id || flow.attributes.preprocessor ) {\n\t\t\t\t\t\tnode += app.getSubtitle(\"Sensor Data Fusion\");\n\t\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\t\tnode += app.getField(app.icons.track, \"Track\", flow.attributes.track_id!==undefined?flow.attributes.track_id:\"\", {type: \"text\", id: \"Track_id\", isEdit: isEdit});\n\t\t\t\t\t\tnode += app.getField(app.icons.preprocessor, \"Preprocessor\", flow.attributes.preprocessor!==undefined?JSON.stringify(flow.attributes.preprocessor):\"\", {type: \"textarea\", id: \"preprocessor\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(app.icons.algorithm, \"Fusion Algorithm\", typeof flow.attributes.fusion_algorithm===\"undefined\"?flow.attributes.fusion_algorithm:\"\", {type: \"text\", id: \"fusion_algorithm\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(app.icons.ttl, \"TTL\", flow.attributes.ttl!==null?flow.attributes.ttl:\"\", {type: \"text\", id: \"Ttl\", isEdit: isEdit, pattern: app.patterns.ttl, error: \"Must be an Integer.\"});\n\t\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tnode += app.getSubtitle(\"Data preview\");\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col' id='\"+flow.id+\"'>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--12-col mdl-card mdl-shadow--2dp'>\";\n\t\t\t\t\tnode += \"\t\t<span class='mdl-list__item mdl-list__item--two-line'>\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\t\tnode +=\t\"\t\t\t\t<span>\"+flow.attributes.name+\" (\"+unit.value+\"/\"+app.findDataType(flow.attributes.data_type)+\")</span>\";\n\t\t\t\t\tnode +=\t\"\t\t\t\t<span class='mdl-list__item-sub-title' id='flow-graph-time-\"+flow.id+\"'></span>\";\n\t\t\t\t\tnode +=\t\"\t\t\t</span>\";\n\t\t\t\t\tnode +=\t\"\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t<span class='mdl-list__item' id='flow-graph-\"+flow.id+\"' style='width:100%; height:280px;'>\";\n\t\t\t\t\tnode += \"\t\t</span>\";\n\t\t\t\t\tnode +=\t\"\t</div>\";\n\t\t\t\t\tnode +=\t\"</section>\";\n\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+flow.id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='list-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+flow.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>List</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Flows</div>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone delete-button'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='delete-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+flow.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>delete</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Delete</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Delete Flow...</div>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[2]+\"' class='edit-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+flow.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Edit</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[2]+\"'>Edit Flow</div>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar c = document.createElement(\"div\");\n\t\t\t\tc.className = \"page-content mdl-grid mdl-grid--no-spacing\";\n\t\t\t\tc.dataset.flow_id = flow.id;\n\t\t\t\tc.innerHTML = node;\n\t\t\t\t(app.containers.flow).querySelector(\".page-content\").remove();\n\t\t\t\t(app.containers.flow).appendChild(c);\n\n\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\tif ( isEdit ) {\n\t\t\t\t\tapp.buttons.backFlow.addEventListener(\"click\", function(evt) { app.resources.flows.display(flow.id, false, false, false); }, false);\n\t\t\t\t\tapp.buttons.saveFlow.addEventListener(\"click\", function(evt) { app.resources.flows.onEdit(evt); }, false);\n\n\t\t\t\t\tvar element1 = document.getElementById(\"switch-edit_require_signed\").parentNode;\n\t\t\t\t\tif ( element1 ) {\n\t\t\t\t\t\telement1.addEventListener(\"change\", function(e) {\n\t\t\t\t\t\t\tvar label = e.target.parentElement.querySelector(\"div.mdl-switch__label\");\n\t\t\t\t\t\t\tlabel.innerText = element1.classList.contains(\"is-checked\")!==false?\"Require signed payload from Object\":\"Does not require signed payload from Object\";\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tvar element2 = document.getElementById(\"switch-edit_require_encrypted\").parentNode;\n\t\t\t\t\tif ( element2 ) {\n\t\t\t\t\t\telement2.addEventListener(\"change\", function(e) {\n\t\t\t\t\t\t\tvar label = e.target.parentElement.querySelector(\"div.mdl-switch__label\");\n\t\t\t\t\t\t\tlabel.innerText = element2.classList.contains(\"is-checked\")!==false?\"Require encrypted payload from Object\":\"Does not require encrypted payload from Object\";\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tapp.buttons.listFlow.addEventListener(\"click\", function(evt) { app.setSection(\"flows\"); evt.preventDefault(); }, false);\n\t\t\t\t\t// buttons.deleteFlow2.addEventListener(\"click\",\n\t\t\t\t\t// function(evt) { console.log(\"SHOW MODAL AND CONFIRM!\");\n\t\t\t\t\t// }, false);\n\t\t\t\t\tapp.buttons.editFlow2.addEventListener(\"click\", function(evt) { app.resources.flows.display(flow.id, false, true, false); }, false);\n\t\t\t\t}\n\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\tapp.setExpandAction();\n\t\t\t\tapp.setSection(\"flow\");\n\t\t\t\t\n\t\t\t\tif ( !isEdit ) {\n\t\t\t\t\tlet width = document.getElementById(\"flow-graph-\"+flow.id)!==null?document.getElementById(\"flow-graph-\"+flow.id).offsetWidth:100;\n\t\t\t\t\tlet height = 250;\n\t\t\t\t\tlet svgUrl = `${app.baseUrl}/${app.api_version}/exploration/line?flow_id=${flow.id}&select=mean&group=30d&dateFormat=MMM&start=${moment().format(\"YYYY\")}-02-01 00:00:00&limit=1000&sort=asc&page=0&graphType=bar&width=${width}&height=${height}&xAxis=Months&yAxis=MEAN value (${unit})`;\n\t\n\t\t\t\t\tfetch(svgUrl, myInit)\n\t\t\t\t\t.then(\n\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t)\n\t\t\t\t\t.then((response) => response.text())\n\t\t\t\t\t.then((svg) => document.getElementById(\"flow-graph-\"+flow.id).insertAdjacentHTML(\"afterbegin\", svg));\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\ttoast(\"displayFlow error occured...\" + error, {timeout:3000, type: \"error\"});\n\t\t\t}\n\t\t});\n\t\tapp.containers.spinner.setAttribute(\"hidden\", true);\n\t},\n\tdisplayPublic: function(id, isAdd, isEdit, isPublic) {\n\t},\n\tdisplayAdd: function(flow, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"flow_add\" }, window.location.hash.substr(1), \"#flow_add\" );\n\t\tapp.initNewSection(\"flow_add\");\n\t\tif ( !localStorage.getItem(\"units\") ) {\n\t\t\tapp.getUnits();\n\t\t}\n\t\tvar allUnits = JSON.parse(localStorage.getItem(\"units\"));\n\n\t\tif ( !localStorage.getItem(\"datatypes\") ) {\n\t\t\tapp.getDatatypes();\n\t\t}\n\t\tvar allDatatypes = JSON.parse(localStorage.getItem(\"datatypes\"));\n\t\t\n\t\tvar node = \"\";\n\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+flow.id+\"\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(app.icons.flows, \"Name\", flow.attributes.name, {type: \"text\", id: \"Name\", isEdit: true, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\tnode += app.getField(app.icons.mqtts, \"MQTT Topic\", flow.attributes.mqtt_topic, {type: \"text\", id: \"MQTTTopic\", isEdit: true});\n\t\tnode += app.getField(app.icons.units, \"Unit\", flow.attributes.unit, {type: \"select\", id: \"Unit\", isEdit: true, options: allUnits });\n\t\tnode += app.getField(app.icons.datatypes, \"DataType\", flow.attributes.datatype, {type: \"select\", id: \"DataType\", isEdit: true, options: allDatatypes });\n\t\tnode += app.getField(app.icons.retention, \"Retention\", flow.attributes.retention!==undefined?flow.attributes.retention:\"\", {type: \"select\", id: \"Retention\", isEdit: true, options: app.allRetentions });\n\t\tnode += app.getField(\"verified_user\", flow.attributes.require_signed!==false?\"Does not require signed payload from Object\":\"Does not require signed payload from Object\", flow.attributes.require_signed, {type: \"switch\", id: \"add_require_signed\", isEdit: true});\n\t\tnode += app.getField(\"vpn_key\", flow.attributes.require_encrypted!==false?\"Does not require encrypted payload from Object\":\"Does not require encrypted payload from Object\", flow.attributes.require_encrypted, {type: \"switch\", id: \"add_require_encrypted\", isEdit: true});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+flow.id+\"'>\";\n\t\tif( app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+flow.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\tnode += \"\t\t\t<label>List</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Flows</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='add-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+flow.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save new Flow</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tif( !app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\tnode += app.getSubtitle(\"Save datapoints to influxDb Cloud\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(app.icons.token, \"Token\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.token, {type: \"text\", id: \"Token\", isEdit: true});\n\t\tnode += app.getField(app.icons.org, \"Org\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.org, {type: \"text\", id: \"Org\", isEdit: true});\n\t\tnode += app.getField(app.icons.url, \"Url\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.url, {type: \"text\", id: \"Url\", isEdit: true});\n\t\tnode += app.getField(app.icons.bucket, \"Bucket\", flow.attributes.influx_db_cloud===undefined?\"\":flow.attributes.influx_db_cloud.bucket, {type: \"text\", id: \"Bucket\", isEdit: true});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\tnode += app.getSubtitle(\"Sensor Data Fusion\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(app.icons.track, \"Track\", flow.attributes.track_id===undefined?\"\":flow.attributes.track_id, {type: \"text\", id: \"Track_id\", isEdit: true});\n\t\tnode += app.getField(app.icons.preprocessor, \"Preprocessor\", flow.attributes.preprocessor===undefined?\"\":JSON.stringify(flow.attributes.preprocessor), {type: \"textarea\", id: \"preprocessor\", isEdit: true});\n\t\t\t\t\tnode += app.getField(app.icons.algorithm, \"Fusion Algorithm\", typeof flow.attributes.fusion_algorithm===\"undefined\"?flow.attributes.fusion_algorithm:\"\", {type: \"text\", id: \"fusion_algorithm\", isEdit: true});\n\t\tnode += app.getField(app.icons.ttl, \"TTL\", flow.attributes.ttl===null?\"\":flow.attributes.ttl, {type: \"text\", id: \"Ttl\", isEdit: true, pattern: app.patterns.ttl, error: \"Must be an Integer.\"});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\n\t\t(app.containers.flow_add).querySelector(\".page-content\").innerHTML = node;\n\t\tcomponentHandler.upgradeDom();\n\t\t\n\t\tapp.refreshButtonsSelectors();\n\t\tapp.buttons.addFlowBack.addEventListener(\"click\", function(evt) { app.setSection(\"flows\"); evt.preventDefault(); }, false);\n\t\tapp.buttons.addFlow.addEventListener(\"click\", function(evt) { app.resources.flows.onAdd(evt); }, false);\n\n\t\tvar element1 = document.getElementById(\"switch-add_require_signed\").parentNode;\n\t\tif ( element1 ) {\n\t\t\telement1.addEventListener(\"change\", function(e) {\n\t\t\t\tvar label = e.target.parentElement.querySelector(\"div.mdl-switch__label\");\n\t\t\t\tlabel.innerText = element1.classList.contains(\"is-checked\")!==false?\"Require signed payload from Object\":\"Does not require signed payload from Object\";\n\t\t\t});\n\t\t}\n\t\tvar element2 = document.getElementById(\"switch-add_require_encrypted\").parentNode;\n\t\tif ( element2 ) {\n\t\t\telement2.addEventListener(\"change\", function(e) {\n\t\t\t\tvar label = e.target.parentElement.querySelector(\"div.mdl-switch__label\");\n\t\t\t\tlabel.innerText = element2.classList.contains(\"is-checked\")!==false?\"Require encrypted payload from Object\":\"Does not require encrypted payload from Object\";\n\t\t\t});\n\t\t}\n\t\tapp.setExpandAction();\n\t},\n\tdisplayItem: function(flow) {\n\t\tvar type = \"flows\";\n\t\tvar name = flow.attributes.name!==undefined?flow.attributes.name:\"\";\n\t\tvar description = flow.attributes.description!==undefined?flow.attributes.description.substring(0, app.cardMaxChars):\"\";\n\t\tvar attributeType = flow.attributes.type!==undefined?flow.attributes.type:\"\";\n\t\t\n\t\tvar element = \"\";\n\t\telement += \"<div class=\\\"mdl-grid mdl-cell\\\" data-action=\\\"view\\\" data-type=\\\"\"+type+\"\\\" data-id=\\\"\"+flow.id+\"\\\">\";\n\t\telement += \"\t<div class=\\\"mdl-card mdl-shadow--2dp\\\">\";\n\t\telement += \"\t\t<div class=\\\"mdl-card__title\\\">\";\n\t\telement += \"\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.flows+\"</i>\";\n\t\telement += \"\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\"+name+\"</h3>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += \"<div class='mdl-list__item--three-line small-padding'>\";\n\t\tif ( flow.attributes.unit ) {\n\t\t\telement += \"\t<div class='mdl-list__item-sub-title'>\";\n\t\t\tif ( localStorage.getItem(\"units\") !== \"null\" && JSON.parse(localStorage.getItem(\"units\")) ) {\n\t\t\t\telement += \"\t\t<i class='material-icons md-28'>\"+app.icons.units+\"</i>\"+JSON.parse(localStorage.getItem(\"units\")).find( function(u) { return u.name == flow.attributes.unit; }).value;\n\t\t\t} else {\n\t\t\t\telement += \"\t\t<i class='material-icons md-28'>\"+app.icons.units+\"</i> ?\";\n\t\t\t}\n\t\t\telement += \"\t</div>\";\n\t\t}\n\t\tif ( flow.attributes.data_type ) {\n\t\t\telement += \"\t<div class='mdl-list__item-sub-title'>\";\n\t\t\telement += `\t\t<i class='material-icons md-28'>${app.icons.datatypes}</i>${app.findDataType(flow.attributes.data_type).value} (${app.findDataType(flow.attributes.data_type).type}, ${app.findDataType(flow.attributes.data_type).classification})`;\n\t\t\telement += \"\t</div>\";\n\t\t}\n\t\tif ( flow.attributes.require_signed === true ) {\n\t\t\telement += \"\t<div class='mdl-list__item-sub-title'>\";\n\t\t\telement += \"\t\t<i class='material-icons md-28'>verified_user</i> Require signed payload from Object\";\n\t\t\telement += \"\t</div>\";\n\t\t}\n\t\tif ( flow.attributes.require_encrypted === true ) {\n\t\t\telement += \"\t<div class='mdl-list__item-sub-title'>\";\n\t\t\telement += \"\t\t<i class='material-icons md-28'>vpn_key</i> Require encrypted payload from Object\";\n\t\t\telement += \"\t</div>\";\n\t\t}\n\t\telement += \"</div>\";\n\t\telement += \"\t\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\telement += \"\t\t\t<span class=\\\"pull-left mdl-card__date\\\">\";\n\t\telement += \"\t\t\t\t<button data-id=\\\"\"+flow.id+\"\\\" class=\\\"swapDate mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">update</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t\t<span data-date=\\\"created\\\" class=\\\"visible\\\">Created on \"+moment(flow.attributes.meta.created).format(app.date_format) + \"</span>\";\n\t\tif ( flow.attributes.meta.updated ) {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Updated on \"+moment(flow.attributes.meta.updated).format(app.date_format) + \"</span>\";\n\t\t} else {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Never been updated yet.</span>\";\n\t\t}\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<span class=\\\"pull-right mdl-card__menuaction\\\">\";\n\t\telement += \"\t\t\t\t<button id=\\\"menu_\"+flow.id+\"\\\" class=\\\"mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.menu+\"</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<ul class=\\\"mdl-menu mdl-menu--top-right mdl-js-menu mdl-js-ripple-effect\\\" for=\\\"menu_\"+flow.id+\"\\\">\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item delete-button\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons delete-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+flow.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.delete+\"</i>Delete</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons edit-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+flow.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.edit+\"</i>Edit</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons copy-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+flow.id+\"\\\">\"+app.icons.copy+\"</i><textarea class=\\\"copytextarea\\\">\"+flow.id+\"</textarea>Copy ID to clipboard</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t</ul>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += \"\t</div>\";\n\t\telement += \"</div>\";\n\n\t\treturn element;\n\t}\n};","\"use strict\";\napp.resources.snippets = {\n\tonEdit: function(evt) {\n\t\tvar snippet_id = evt.target.parentNode.getAttribute(\"data-id\")?evt.target.parentNode.getAttribute(\"data-id\"):evt.target.getAttribute(\"data-id\");\n\t\tif ( !snippet_id ) {\n\t\t\ttoast(\"No Snippet id found!\", {timeout:3000, type: \"error\"});\n\t\t} else {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tvar body = {\n\t\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\t\ttype: myForm.querySelector(\"select[name='Type']\").value,\n\t\t\t\ticon: myForm.querySelector(\"select[name='Icon']\").value,\n\t\t\t\tcolor: myForm.querySelector(\"input[name='Color']\").value,\n\t\t\t\tflows: Array.prototype.map.call(myForm.querySelectorAll(\".mdl-chips .mdl-chip\"), function(flow) { return ((JSON.parse(localStorage.getItem(\"flows\")))[flow.getAttribute(\"data-id\")]).id; }),\n\t\t\t\toptions: myForm.querySelector(\"textarea[name='Graph Options']\").value&&JSON.parse(myForm.querySelector(\"textarea[name='Graph Options']\").value)!==\"undefined\"?JSON.parse(myForm.querySelector(\"textarea[name='Graph Options']\").value):undefined,\n\t\t\t\tmeta: {revision: myForm.querySelector(\"input[name='meta.revision']\").value, },\n\t\t\t};\n\t\t\tbody.options.width = typeof body.options.width!==\"undefined\"?body.options.width:{\"value\": \"12\"};\n\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: \"PUT\", headers: myHeaders, body: JSON.stringify(body) };\n\t\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/snippets/\"+snippet_id;\n\t\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse){ \n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tapp.setSection(\"snippets\");\n\t\t\t\tvar snippetsList = JSON.parse(localStorage.getItem(\"snippets\"));\n\t\t\t\tapp.snippets = [];\n\t\t\t\tsnippetsList.map(function(sn) {\n\t\t\t\t\tif( sn.id == snippet_id ) {\n\t\t\t\t\t\tapp.snippets.push( {id: sn.id, name:response.snippet.data.attributes.name, type: response.snippet.data.type, sType: response.snippet.data.attributes.type});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.snippets.push( {id: sn.id, name:sn.name, type: sn.type} );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlocalStorage.setItem(\"snippets\", JSON.stringify(app.snippets));\n\t\t\t\ttoast(\"Snippet has been saved.\", {timeout:3000, type: \"done\"});\n\t\t\t\t//var snippetContainer = document.querySelector(\"section#snippets div[data-id=\"\"+snippet_id+\"\"]\");\n\t\t\t\t//snippetContainer.querySelector(\"h2\").innerHTML = body.name;\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\ttoast(\"Snippet has not been saved.\", {timeout:3000, type: \"error\"});\n\t\t\t});\n\t\t\tevt.preventDefault();\n\t\t}\n\t},\n\tonAdd: function(evt) {\n\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\tvar body = {\n\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\ttype: myForm.querySelector(\"select[name='Type']\").value,\n\t\t\ticon: myForm.querySelector(\"select[name='Icon']\").value,\n\t\t\tcolor: myForm.querySelector(\"input[name='Color']\").value,\n\t\t\toptions: myForm.querySelector(\"textarea[name='Graph Options']\").value&&JSON.parse(myForm.querySelector(\"textarea[name='Graph Options']\").value)!==\"undefined\"?JSON.parse(myForm.querySelector(\"textarea[name='Graph Options']\").value):undefined,\n\t\t\tflows: Array.prototype.map.call(myForm.querySelectorAll(\".mdl-chips .mdl-chip\"), function(flow) { return ((JSON.parse(localStorage.getItem(\"flows\")))[flow.getAttribute(\"data-id\")]).id; }),\n\t\t};\n\t\tbody.options.width = typeof body.options.width!==\"undefined\"?body.options.width:{\"value\": \"12\"};\n\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\tconsole.log(\"DEBUG onAddSnippet\", JSON.stringify(body));\n\t\t}\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"POST\", headers: myHeaders, body: JSON.stringify(body) };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/snippets/\";\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tapp.setSection(\"snippets\");\n\t\t\tvar snippetsList = new Array();\n\t\t\tif ( JSON.parse(localStorage.getItem(\"snippets\")) != \"null\" && JSON.parse(localStorage.getItem(\"snippets\")).length > -1 ) {\n\t\t\t\tsnippetsList = JSON.parse(localStorage.getItem(\"snippets\"));\n\t\t\t}\n\t\t\tsnippetsList.push( {id: response.snippet.data.id, name:response.snippet.data.attributes.name, type: response.snippet.data.type, sType: response.snippet.data.attributes.type});\n\t\t\tlocalStorage.setItem(\"snippets\", JSON.stringify(snippetsList));\n\t\t\ttoast(\"Snippet has been added.\", {timeout:3000, type: \"done\"});\n\t\t})\n\t\t.catch(function (error) {\n\t\t\ttoast(\"Snippet has not been added.\", {timeout:3000, type: \"error\"});\n\t\t});\n\t\tevt.preventDefault();\n\t},\n\tonDelete: function(snippet_id) {\n\t\tvar snippetsList = JSON.parse(localStorage.getItem(\"snippets\"));\n\t\tapp.snippets = [];\n\t\tsnippetsList.filter(function(sn) {\n\t\t\tif( sn.id != snippet_id ) {\n\t\t\t\tapp.snippets.push( {id: sn.id, name:sn.name, type: sn.type} );\n\t\t\t}\n\t\t});\n\t\tlocalStorage.setItem(\"snippets\", JSON.stringify(app.snippets));\n\t},\n\tdisplay: function(id, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"snippet\" }, window.location.hash.substr(1), \"#snippet?id=\"+id );\n\t\tapp.initNewSection(\"snippet\");\n\n\t\twindow.scrollTo(0, 0);\n\t\tapp.containers.spinner.removeAttribute(\"hidden\");\n\t\tapp.containers.spinner.classList.remove(\"hidden\");\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/snippets/\"+id;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tfor (var i=0; i < (response.data).length ; i++ ) {\n\t\t\t\tvar snippet = response.data[i];\n\t\t\t\tdocument.title = (app.sectionsPageTitles[\"snippet\"]).replace(/%s/g, snippet.attributes.name);\n\t\t\t\tvar node;\n\t\t\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\t\t\tsnippet.attributes.options = typeof snippet.attributes.options!==\"undefined\"?snippet.attributes.options:{};\n\t\t\t\tsnippet.attributes.options.width = typeof snippet.attributes.options.width!==\"undefined\"?snippet.attributes.options.width:{\"value\": \"12\"};\n\t\t\t\tif ( isEdit ) {\n\n\t\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+snippet.id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<i class=\\\"material-icons mdl-textfield__icon\\\">\"+app.icons.snippets+\"</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\"+snippet.attributes.name+\"</h2>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+snippet.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\t\tnode += \"\t\t<div class='mdl-cell--12-col hidden' id='description-\"+snippet.id+\"'>\";\n\n\t\t\t\t\tnode += app.getField(app.icons.code, \"Id\", snippet.id, {type: \"text\", style:\"text-transform: none !important;\"});\n\t\t\t\t\tif ( snippet.attributes.meta.created ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(snippet.attributes.meta.created).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( snippet.attributes.meta.updated ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(snippet.attributes.meta.updated).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( snippet.attributes.meta.revision ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.update, \"Revision\", snippet.attributes.meta.revision, {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(null, \"meta.revision\", snippet.attributes.meta.revision, {type: \"hidden\", id: \"meta.revision\", pattern: app.patterns.meta_revision});\n\t\t\t\t\tnode += app.getField(app.icons.name, \"Name\", snippet.attributes.name, {type: \"text\", id: \"Name\", isEdit: isEdit, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\t\t\t\tnode += app.getField(app.icons.icon, \"Icon\", snippet.attributes.icon, {type: \"select\", id: \"Icon\", isEdit: isEdit, options: app.types });\n\t\t\t\t\tnode += app.getField(app.icons.color, \"Color\", snippet.attributes.color, {type: \"text\", style:\"text-transform: none !important;\", id: \"Color\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(\"add_circle_outline\", \"Type\", snippet.attributes.type, {type: \"select\", id: \"Type\", options: app.snippetTypes, isEdit: isEdit });\n\t\t\t\t\tif ( localStorage.getItem(\"flows\") !== \"null\" ) {\n\t\t\t\t\t\tvar flows = JSON.parse(localStorage.getItem(\"flows\")).map(function(flow) {\n\t\t\t\t\t\t\treturn {value: flow.name, name: flow.id};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnode += app.getField(app.icons.flows, \"Flows to add\", \"\", {type: \"select\", id: \"flowsChipsSelect\", isEdit: true, options: flows });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.getFlows();\n\t\t\t\t\t\tnode += app.getField(app.icons.flows, \"Flows to add (you should add some flows first)\", \"\", {type: \"select\", id: \"flowsChipsSelect\", isEdit: true, options: {} });\n\t\t\t\t\t}\n\t\t\t\t\tnode += app.getField(null, \"Sample\", null, {type: \"container\", id: \"TypeSample\", options: {}, isEdit: false });\n\t\t\t\t\tnode += \"\t\t<div class='mdl-list__item--three-line small-padding  mdl-card--expand mdl-chips chips-initial input-field' id='flowsChips'>\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-chips__arrow-down__container mdl-selectfield__arrow-down__container'><span class='mdl-chips__arrow-down'></span></span>\";\n\t\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\t\tnode += \"\t</div>\"; // mdl-shadow--2dp\n\t\t\t\t\t\n\t\t\t\t\tnode +=\t\"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += app.getSubtitle(\"Graph Options\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+snippet.id+\"_parameters\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Graph Options\", typeof snippet.attributes.options!==\"undefined\"?JSON.stringify(snippet.attributes.options):\"\", {type: \"textarea\", id: \"Graph_Options\", isEdit: true});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>View</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>View Snippet</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='save-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>save</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save changes to Snippet</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\t(app.containers.snippet).querySelector(\".page-content\").innerHTML = node;\n\t\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\t\tapp.setExpandAction();\n\t\t\t\t\t\n\t\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\t\tapp.buttons.backSnippet.addEventListener(\"click\", function(evt) { app.resources.snippets.display(snippet.id, false, false, false); }, false);\n\t\t\t\t\tapp.buttons.saveSnippet.addEventListener(\"click\", function(evt) { app.resources.snippets.onEdit(evt); }, false);\n\n\t\t\t\t\tdocument.getElementById(\"flowsChipsSelect\").parentNode.querySelector(\"div.mdl-selectfield__list-option-box ul\").addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\tvar id = evt.target.getAttribute(\"data-value\");\n\t\t\t\t\t\tvar name = evt.target.innerText;\n\t\t\t\t\t\tapp.addChipTo(\"flowsChips\", {name: name, id: id, type: \"flows\"});\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t}, false);\n\n\t\t\t\t\tdocument.getElementById(\"Type\").parentNode.querySelector(\"div.mdl-selectfield__list-option-box ul\").addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\tvar index = evt.target.getAttribute(\"data-value\");\n\t\t\t\t\t\tvar value = evt.target.innerText;\n\t\t\t\t\t\tvar s = app.snippetTypes.find(function(sn) {\n\t\t\t\t\t\t\treturn (sn.value).toLowerCase()===value.toLowerCase();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t(app.containers.snippet).querySelector(\"#TypeSample\").innerHTML = s.getHtml({id: snippet.id, icon: snippet.attributes.icon, name: snippet.attributes.name, color: snippet.attributes.color});\n\t\t\t\t\t\ts.activateOnce(snippet);\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t}, false);\n\t\t\t\t\tif( snippet.attributes.type ) {\n\t\t\t\t\t\tvar s = app.snippetTypes.find(function(sn) {\n\t\t\t\t\t\t\treturn (sn.name).toLowerCase()===(snippet.attributes.type).toLowerCase();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t(app.containers.snippet).querySelector(\"#TypeSample\").innerHTML = s.getHtml({id: snippet.id, icon: snippet.attributes.icon, name: snippet.attributes.name, color: snippet.attributes.color});\n\t\t\t\t\t\ts.activateOnce(snippet);\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( snippet.attributes.flows && snippet.attributes.flows.length > -1 && localStorage.getItem(\"flows\") !== \"null\" ) {\n\t\t\t\t\t\tsnippet.attributes.flows.map(function(s) {\n\t\t\t\t\t\t\t//Flows list, we put the index not the flow_id into the selector:\n\t\t\t\t\t\t\tvar n=0;\n\t\t\t\t\t\t\tvar theFlow = (JSON.parse(localStorage.getItem(\"flows\"))).find(function(storedF) { storedF.index = n++; return storedF.id == s; });\n\t\t\t\t\t\t\tif (theFlow) {\n\t\t\t\t\t\t\t\tapp.addChipTo(\"flowsChips\", {name: theFlow.name, id: theFlow.index, type: \"flows\"});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.snippets+\"</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t\t\"+snippet.attributes.name+\"</h2>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\t\tnode += \"\t\t<div class='mdl-cell mdl-cell--12-col hidden' id='description-\"+id+\"'>\";\n\n\t\t\t\t\tnode += app.getField(app.icons.code, \"Id\", snippet.id, {type: \"text\", style:\"text-transform: none !important;\"});\n\t\t\t\t\tif ( snippet.attributes.meta.created ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(snippet.attributes.meta.created).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( snippet.attributes.meta.updated ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(snippet.attributes.meta.updated).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( snippet.attributes.meta.revision ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.update, \"Revision\", snippet.attributes.meta.revision, {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tnode += app.getField(app.icons.icon, \"Icon\", snippet.attributes.icon, {type: \"select\", id: \"Icon\", isEdit: isEdit, options: app.types });\n\t\t\t\t\tnode += app.getField(app.icons.color, \"Color\", snippet.attributes.color, {type: \"text\", style:\"text-transform: none !important;\", id: \"Color\", isEdit: isEdit});\n\t\t\t\t\tnode += app.getField(\"add_circle_outline\", \"Type\", snippet.attributes.type, {type: \"select\", id: \"Type\", options: app.snippetTypes, isEdit: isEdit });\n\t\t\t\t\tnode += app.getField(app.icons.flows, \"Linked Flows #\", snippet.attributes.flows.length, {type: \"text\"});\n\t\t\t\t\tnode += \"\t</div>\"; // mdl-shadow--2dp\n\t\t\t\t\tnode +=\t\"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+snippet.id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='list-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+snippet.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>List</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Snippets</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone delete-button'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='delete-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+snippet.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>delete</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Delete</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Delete Snippet</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[2]+\"' class='edit-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+snippet.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Edit</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[2]+\"'>Edit Snippet</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\t//Snippet preview\n\t\t\t\t\tapp.getSnippet(app.icons.snippets, snippet.id, (app.containers.snippet).querySelector(\".page-content\"));\n\n\t\t\t\t\t(app.containers.snippet).querySelector(\".page-content\").innerHTML = node;\n\t\t\t\t\tcomponentHandler.upgradeDom();\n\n\t\t\t\t\tvar s = app.snippetTypes.find(function(sn) {\n\t\t\t\t\t\treturn (sn.name).toLowerCase()===(snippet.attributes.type).toLowerCase();\n\t\t\t\t\t});\n\t\t\t\t\tlet setOpt = typeof snippet.attributes.options!==\"undefined\"?s.setOptions(snippet.attributes.options):null;\n\t\t\t\t\t\n\t\t\t\t\tapp.setExpandAction();\n\t\t\t\t\t\n\t\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\t\tapp.buttons.listSnippet.addEventListener(\"click\", function(evt) { app.setSection(\"snippets\"); evt.preventDefault(); }, false);\n\t\t\t\t\t// buttons.deleteSnippet2.addEventListener(\"click\",\n\t\t\t\t\t// function(evt) { console.log(\"SHOW MODAL AND CONFIRM!\");\n\t\t\t\t\t// }, false);\n\t\t\t\t\tapp.buttons.editSnippet2.addEventListener(\"click\", function(evt) { app.resources.snippets.display(snippet.id, false, true, false); evt.preventDefault(); }, false);\n\t\t\t\t}\n\t\t\t\tapp.setSection(\"snippet\");\n\t\t\t}\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\ttoast(\"displaySnippet error occured...\" + error, {timeout:3000, type: \"error\"});\n\t\t\t}\n\t\t});\n\t\tapp.containers.spinner.setAttribute(\"hidden\", true);\n\t},\n\tdisplayPublic: function(id, isAdd, isEdit, isPublic) {\n\t},\n\tdisplayAdd: function(snippet, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"snippet_add\" }, window.location.hash.substr(1), \"#snippet_add\" );\n\t\tapp.initNewSection(\"snippet_add\");\n\t\tvar node = \"\";\n\t\tnode = \"<section class='mdl-grid mdl-cell--12-col' data-id='\"+snippet.id+\"'>\";\n\t\tnode += \"\t<div class='mdl-cell--12-col mdl-card mdl-shadow--2dp'>\";\n\t\tnode += app.getField(app.icons.name, \"Name\", snippet.attributes.name, {type: \"text\", id: \"Name\", isEdit: true, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\tnode += app.getField(app.icons.icon, \"Icon\", snippet.attributes.icon, {type: \"select\", id: \"Icon\", isEdit: true, options: app.types });\n\t\tnode += app.getField(app.icons.color, \"Color\", snippet.attributes.color, {type: \"text\", id: \"Color\", isEdit: true});\n\t\tnode += app.getField(\"add_circle_outline\", \"Type\", snippet.attributes.type, {type: \"select\", id: \"Type\", options: app.snippetTypes, isEdit: true });\n\t\tnode += app.getField(null, \"Sample\", null, {type: \"container\", id: \"TypeSample\", options: {}, isEdit: false });\n\n\t\tif ( localStorage.getItem(\"flows\") != \"null\" ) {\n\t\t\tvar flows = JSON.parse(localStorage.getItem(\"flows\")).map(function(flow) {\n\t\t\t\treturn {value: flow.name, name: flow.id};\n\t\t\t});\n\t\t\tnode += app.getField(app.icons.flows, \"Flows to add\", \"\", {type: \"select\", id: \"flowsChipsSelect\", isEdit: true, options: flows });\n\t\t} else {\n\t\t\tapp.getFlows();\n\t\t\tnode += app.getField(app.icons.flows, \"Flows to add (you should add flow first)\", \"\", {type: \"select\", id: \"flowsChipsSelect\", isEdit: true, options: {} });\n\t\t}\n\t\tnode += \"\t\t<div class='mdl-list__item--three-line small-padding  mdl-card--expand mdl-chips chips-initial input-field' id='flowsChips'>\";\n\t\tnode += \"\t\t\t<span class='mdl-chips__arrow-down__container mdl-selectfield__arrow-down__container'><span class='mdl-chips__arrow-down'></span></span>\";\n\t\tnode += \"\t\t</div>\";\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tnode += app.getSubtitle(\"Graph Options\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+snippet.id+\"_parameters\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(app.icons.description, \"Graph Options\", typeof snippet.attributes.options!==\"undefined\"?JSON.stringify(snippet.attributes.options):\"\", {type: \"textarea\", id: \"Graph_Options\", isEdit: true});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+snippet.id+\"'>\";\n\t\tif( app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+snippet.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\tnode += \"\t\t\t<label>List</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Snippets</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='add-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+snippet.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save new Snippet</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tif( !app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"</section>\";\n\n\t\t(app.containers.snippet_add).querySelector(\".page-content\").innerHTML = node;\n\t\tcomponentHandler.upgradeDom();\n\t\tdocument.getElementById(\"flowsChipsSelect\").parentNode.querySelector(\"div.mdl-selectfield__list-option-box ul\").addEventListener(\"click\", function(evt) {\n\t\t\tvar id = evt.target.getAttribute(\"data-value\");\n\t\t\tvar name = evt.target.innerText;\n\t\t\tapp.addChipTo(\"flowsChips\", {name: name, id: id, type: \"flows\"});\n\t\t\tevt.preventDefault();\n\t\t}, false);\n\t\tdocument.getElementById(\"Type\").parentNode.querySelector(\"div.mdl-selectfield__list-option-box ul\").addEventListener(\"click\", function(evt) {\n\t\t\tvar index = evt.target.getAttribute(\"data-value\");\n\t\t\tvar value = evt.target.innerText;\n\t\t\tvar s = app.snippetTypes.find(function(sn) {\n\t\t\t\treturn sn.value===value;\n\t\t\t});\n\t\t\t(app.containers.snippet_add).querySelector(\"#TypeSample\").innerHTML = s.getHtml({id: snippet.id, icon: snippet.icon, name: snippet.name, color: snippet.color});\n\t\t\ts.activateOnce(snippet);\n\t\t\tevt.preventDefault();\n\t\t}, false);\n\t\t\n\t\tapp.refreshButtonsSelectors();\n\t\tapp.buttons.addSnippetBack.addEventListener(\"click\", function(evt) { app.setSection(\"snippets\"); evt.preventDefault(); }, false);\n\t\tapp.buttons.addSnippet.addEventListener(\"click\", function(evt) { app.resources.snippets.onAdd(evt); }, false);\n\n\t\tapp.setExpandAction();\n\t},\n\tdisplayItem: function(snippet) {\n\t\tvar type = \"snippets\";\n\t\tvar name = snippet.attributes.name!==undefined?snippet.attributes.name:\"\";\n\t\tvar description = snippet.attributes.description!==undefined?snippet.attributes.description.substring(0, app.cardMaxChars):\"\";\n\t\tvar attributeType = snippet.attributes.type!==undefined?snippet.attributes.type:\"\";\n\t\t\n\t\tvar element = \"\";\n\t\telement += \"<div class=\\\"mdl-grid mdl-cell\\\" data-action=\\\"view\\\" data-type=\\\"\"+type+\"\\\" data-id=\\\"\"+snippet.id+\"\\\">\";\n\t\telement += \"\t<div class=\\\"mdl-card mdl-shadow--2dp\\\">\";\n\t\telement += \"\t\t<div class=\\\"mdl-card__title\\\">\";\n\t\telement += \"\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.objects+\"</i>\";\n\t\telement += \"\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\"+name+\"</h3>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += \"<div class='mdl-list__item--three-line small-padding'>\";\n\t\tif ( snippet.attributes.type ) {\n\t\t\telement += \"\t<div class='mdl-list__item-sub-title'>\";\n\t\t\tvar s = app.snippetTypes.find(function(sn) {\n\t\t\t\treturn (sn.name).toLowerCase()===(snippet.attributes.type).toLowerCase();\n\t\t\t});\n\t\t\tif ( !s ) {\n\t\t\t\tconsole.log(\"DEBUG\", \"type not found !!!\", (snippet.attributes.type).toLowerCase());\n\t\t\t}\n\t\t\telement += \"\t\t<i class='material-icons md-28'>add_circle_outline</i>\"+app.snippetTypes.find( function(s) { return (s.name).toLowerCase() == (snippet.attributes.type).toLowerCase(); }).value;\n\t\t\telement += \"\t</div>\";\n\t\t}\n\t\tif ( snippet.attributes.color ) {\n\t\t\telement += \"\t<div class='mdl-list__item-sub-title'>\";\n\t\t\telement += \"\t\t<i class='material-icons md-28'>format_color_fill</i><span style='text-transform:uppercase; color:\"+snippet.attributes.color+\"'>\"+snippet.attributes.color+\"</span>\";\n\t\t\telement += \"\t</div>\";\n\t\t}\n\t\telement += \"\t<span class='mdl-list__item-sub-title'>\";\n\t\telement += \"\t\t<i class='material-icons md-28'>\"+snippet.attributes.icon+\"</i>\"+app.types.find( function(t) { return t.name == snippet.attributes.icon; }).value;\n\t\telement += \"\t</span>\";\n\t\telement += \"</div>\";\n\t\telement += \"\t\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\telement += \"\t\t\t<span class=\\\"pull-left mdl-card__date\\\">\";\n\t\telement += \"\t\t\t\t<button data-id=\\\"\"+snippet.id+\"\\\" class=\\\"swapDate mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">update</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t\t<span data-date=\\\"created\\\" class=\\\"visible\\\">Created on \"+moment(snippet.attributes.meta.created).format(app.date_format) + \"</span>\";\n\t\tif ( snippet.attributes.meta.updated ) {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Updated on \"+moment(snippet.attributes.meta.updated).format(app.date_format) + \"</span>\";\n\t\t} else {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Never been updated yet.</span>\";\n\t\t}\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<span class=\\\"pull-right mdl-card__menuaction\\\">\";\n\t\telement += \"\t\t\t\t<button id=\\\"menu_\"+snippet.id+\"\\\" class=\\\"mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.menu+\"</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<ul class=\\\"mdl-menu mdl-menu--top-right mdl-js-menu mdl-js-ripple-effect\\\" for=\\\"menu_\"+snippet.id+\"\\\">\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item delete-button\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons delete-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+snippet.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.delete+\"</i>Delete</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons edit-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+snippet.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.edit+\"</i>Edit</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons copy-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+snippet.id+\"\\\">\"+app.icons.copy+\"</i><textarea class=\\\"copytextarea\\\">\"+snippet.id+\"</textarea>Copy ID to clipboard</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t</ul>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += \"\t</div>\";\n\t\telement += \"</div>\";\n\n\t\treturn element;\n\t}\n};","\"use strict\";\napp.resources.dashboards = {\n\tonEdit: function(evt) {\n\t\tvar dashboard_id = evt.target.parentNode.getAttribute(\"data-id\")?evt.target.parentNode.getAttribute(\"data-id\"):evt.target.getAttribute(\"data-id\");\n\t\tif ( !dashboard_id ) {\n\t\t\ttoast(\"No Dashboard id found!\", {timeout:3000, type: \"error\"});\n\t\t} else {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tvar body = {\n\t\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\t\tdescription: myForm.querySelector(\"textarea[name='Description']\").value,\n\t\t\t\tsnippets: Array.prototype.map.call(myForm.querySelectorAll(\".mdl-chips .mdl-chip\"), function(snippet) { return ((JSON.parse(localStorage.getItem(\"snippets\")))[snippet.getAttribute(\"data-id\")]).id; }),\n\t\t\t\tmeta: {revision: myForm.querySelector(\"input[name='meta.revision']\").value, },\n\t\t\t};\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\tconsole.log(\"DEBUG onEditDashboard\", JSON.stringify(body));\n\t\t\t}\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: \"PUT\", headers: myHeaders, body: JSON.stringify(body) };\n\t\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/dashboards/\"+dashboard_id;\n\t\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse){ \n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tapp.setSection(\"dashboards\");\n\t\t\t\ttoast(\"Dashboard has been saved.\", {timeout:3000, type: \"done\"});\n\t\t\t\t//var dashboardContainer = document.querySelector(\"section#dashboards div[data-id=\"\"+dashboard_id+\"\"]\");\n\t\t\t\t//dashboardContainer.querySelector(\"h2\").innerHTML = body.name;\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\ttoast(\"Dashboard has not been saved.\", {timeout:3000, type: \"error\"});\n\t\t\t});\n\t\t\tevt.preventDefault();\n\t\t}\n\t},\n\tonAdd: function(evt) {\n\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\tvar body = {\n\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\tdescription: myForm.querySelector(\"textarea[name='Description']\").value,\n\t\t\tsnippets: Array.prototype.map.call(myForm.querySelectorAll(\".mdl-chips .mdl-chip\"), function(snippet) { return ((JSON.parse(localStorage.getItem(\"snippets\")))[snippet.getAttribute(\"data-id\")]).id; }),\n\t\t};\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"POST\", headers: myHeaders, body: JSON.stringify(body) };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/dashboards/\";\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tapp.setSection(\"dashboards\");\n\t\t\ttoast(\"Dashboard has been added.\", {timeout:3000, type: \"done\"});\n\t\t})\n\t\t.catch(function(error) {\n\t\t\ttoast(\"Dashboard has not been added.\", {timeout:3000, type: \"error\"});\n\t\t});\n\t\tevt.preventDefault();\n\t},\n\tonDelete: function(id) {\n\t},\n\tdisplay: function(id, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"dashboard\" }, window.location.hash.substr(1), \"#dashboard?id=\"+id );\n\t\tapp.initNewSection(\"dashboard\");\n\t\t\n\t\twindow.scrollTo(0, 0);\n\t\tapp.containers.spinner.removeAttribute(\"hidden\");\n\t\tapp.containers.spinner.classList.remove(\"hidden\");\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/dashboards/\"+id;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tfor (var i=0; i < (response.data).length ; i++ ) {\n\t\t\t\tvar dashboard = response.data[i];\n\t\t\t\tdocument.title = (app.sectionsPageTitles[\"dashboard\"]).replace(/%s/g, dashboard.attributes.name);\n\n\t\t\t\tvar node;\n\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+id+\"\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\tnode += \"\t\t\t\t<i class=\\\"material-icons mdl-textfield__icon\\\">\"+app.icons.dashboards+\"</i>\";\n\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\"+dashboard.attributes.name+\"</h2>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+id+\"'>\";\n\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t\t<div class='mdl-cell mdl-cell--12-col hidden' id='description-\"+id+\"'>\";\n\n\t\t\t\tnode += app.getField(app.icons.code, \"Id\", dashboard.id, {type: \"text\", style:\"text-transform: none !important;\"});\n\t\t\t\tif ( dashboard.attributes.description ) {\n\t\t\t\t\tvar description = app.nl2br(dashboard.attributes.description);\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Description\", description, {type: \"text\", isEdit: false});\n\t\t\t\t}\n\t\t\t\tif ( dashboard.attributes.meta.created ) {\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(dashboard.attributes.meta.created).format(app.date_format), {type: \"text\", isEdit: false});\n\t\t\t\t}\n\t\t\t\tif ( dashboard.attributes.meta.updated ) {\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(dashboard.attributes.meta.updated).format(app.date_format), {type: \"text\", isEdit: false});\n\t\t\t\t}\n\t\t\t\tif ( dashboard.attributes.meta.revision ) {\n\t\t\t\t\tnode += app.getField(app.icons.update, \"Revision\", dashboard.attributes.meta.revision, {type: \"text\", isEdit: false});\n\t\t\t\t}\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\n\t\t\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\t\t\tif ( isEdit ) {\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(null, \"meta.revision\", dashboard.attributes.meta.revision, {type: \"hidden\", id: \"meta.revision\", pattern: app.patterns.meta_revision});\n\t\t\t\t\tnode += app.getField(app.icons.name, \"Name\", dashboard.attributes.name, {type: \"text\", id: \"Name\", isEdit: isEdit, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Description\", app.nl2br(dashboard.attributes.description), {type: \"textarea\", id: \"Description\", isEdit: isEdit});\n\n\t\t\t\t\tif ( localStorage.getItem(\"snippets\") != \"null\" ) {\n\t\t\t\t\t\tvar snippets = JSON.parse(localStorage.getItem(\"snippets\")).map(function(snippet) {\n\t\t\t\t\t\t\treturn {value: snippet.name, name: snippet.id, sType: snippet.sType};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnode += app.getField(app.icons.snippets, \"Snippets to add\", \"\", {type: \"select\", id: \"snippetsChipsSelect\", isEdit: true, options: snippets });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.getSnippets();\n\t\t\t\t\t\tnode += app.getField(app.icons.snippets, \"Snippets to add (you should add some snippets first)\", \"\", {type: \"select\", id: \"snippetsChipsSelect\", isEdit: true, options: {} });\n\t\t\t\t\t}\n\n\t\t\t\t\tnode += \"\t\t<div class='mdl-list__item--three-line small-padding  mdl-card--expand mdl-chips chips-initial input-field' id='snippetsChips'>\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-chips__arrow-down__container mdl-selectfield__arrow-down__container'><span class='mdl-chips__arrow-down'></span></span>\";\n\t\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>View</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>View Dashboard</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='save-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>save</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save changes to Dashboard</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t} else {\n\t\t\t\t\t/* View mode */\n\t\t\t\t\tfor ( var j=0; j < dashboard.attributes.snippets.length; j++ ) {\n\t\t\t\t\t\tapp.getSnippet(app.icons.snippets, dashboard.attributes.snippets[j], (app.containers.dashboard).querySelector(\".page-content\"));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t(app.containers.dashboard).querySelector(\".page-content\").innerHTML = node;\n\t\t\t\tapp.setExpandAction();\n\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\tif ( isEdit ) {\n\t\t\t\t\tapp.buttons.backDashboard.addEventListener(\"click\", function(evt) { app.resources.dashboards.display(dashboard.id, false, false, false); }, false);\n\t\t\t\t\tapp.buttons.saveDashboard.addEventListener(\"click\", function(evt) { app.resources.dashboards.onEdit(evt); }, false);\n\n\t\t\t\t\tdocument.getElementById(\"snippetsChipsSelect\").parentNode.querySelector(\"div.mdl-selectfield__list-option-box ul\").addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\tvar id = evt.target.getAttribute(\"data-value\");\n\t\t\t\t\t\tvar n=0;\n\t\t\t\t\t\tif ( localStorage.getItem(\"snippets\") != \"null\" ) {\n\t\t\t\t\t\t\tvar s = JSON.parse(localStorage.getItem(\"snippets\")).find(function(snippet) {\n\t\t\t\t\t\t\t\tif ( n == id ) {\n\t\t\t\t\t\t\t\t\treturn snippet;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tn++;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar sType = s.sType;\n\t\t\t\t\t\tvar name = evt.target.innerText; // == s.name\n\t\t\t\t\t\tapp.addChipSnippetTo(\"snippetsChips\", {name: s.name, id: id, sType: s.sType, type: \"snippets\"});\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t}, false);\n\n\t\t\t\t\tif ( dashboard.attributes.snippets && dashboard.attributes.snippets.length > -1 ) {\n\t\t\t\t\t\tdashboard.attributes.snippets.map(function(s) {\n\t\t\t\t\t\t\t//Snippet list, we put the index not the snippet_id into the selector:\n\t\t\t\t\t\t\tvar n=0;\n\t\t\t\t\t\t\tif ( localStorage.getItem(\"snippets\") != \"null\" ) {\n\t\t\t\t\t\t\t\tvar theSnippet = (JSON.parse(localStorage.getItem(\"snippets\"))).find(function(storedS) { storedS.index = n++; return storedS.id == s; });\n\t\t\t\t\t\t\t\tif ( theSnippet ) {\n\t\t\t\t\t\t\t\t\tapp.addChipSnippetTo(\"snippetsChips\", {name: theSnippet.name, id: theSnippet.index, sType: theSnippet.sType, type: \"snippets\"});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\tapp.setExpandAction();\n\n\t\t\t\tvar sn = document.querySelectorAll(\"#snippetsChips .mdl-chip\");\n\t\t\t\t[].forEach.call(sn, app.addDnDHandlers);\n\t\t\t\tapp.setSection(\"dashboard\");\n\t\t\t}\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\ttoast(\"displayDashboard error occured...\" + error, {timeout:3000, type: \"error\"});\n\t\t\t}\n\t\t});\n\t\tapp.containers.spinner.setAttribute(\"hidden\", true);\n\t},\n\tdisplayPublic: function(id, isAdd, isEdit, isPublic) {\n\t},\n\tdisplayAdd: function(dashboard, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"dashboard_add\" }, window.location.hash.substr(1), \"#dashboard_add\" );\n\t\tapp.initNewSection(\"dashboard_add\");\n\t\tvar node = \"\";\n\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+dashboard.id+\"\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(app.icons.name, \"Name\", dashboard.attributes.name, {type: \"text\", id: \"Name\", isEdit: true, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\tnode += app.getField(app.icons.description, \"Description\", app.nl2br(dashboard.attributes.description), {type: \"textarea\", id: \"Description\", isEdit: true});\n\n\t\tvar snippets;\n\t\tif ( localStorage.getItem(\"snippets\") != \"null\" ) {\n\t\t\tsnippets = JSON.parse(localStorage.getItem(\"snippets\")).map(function(snippet) {\n\t\t\t\treturn {value: snippet.name, name: snippet.id, sType: snippet.sType};\n\t\t\t});\n\t\t} else {\n\t\t\tapp.getSnippets();\n\t\t\ttoast(\"You should add a Snippet first, it seems you don\\\" have any yet.\", {timeout:3000, type: \"warning\"});\n\t\t\tsnippets = [{value: \"undefined\", name: \"undefined\", sType: \"undefined\"}];\n\t\t}\n\t\tnode += app.getField(app.icons.snippets, \"Snippets to add\", \"\", {type: \"select\", id: \"snippetsChipsSelect\", isEdit: true, options: snippets });\n\t\t\n\t\tnode += \"\t\t<div class='mdl-list__item--three-line small-padding  mdl-card--expand mdl-chips chips-initial input-field' id='snippetsChips'>\";\n\t\tnode += \"\t\t\t<span class='mdl-chips__arrow-down__container mdl-selectfield__arrow-down__container'><span class='mdl-chips__arrow-down'></span></span>\";\n\t\tnode += \"\t\t</div>\";\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+dashboard.id+\"'>\";\n\t\tif( app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+dashboard.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\tnode += \"\t\t\t<label>List</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Dashboards</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='add-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+dashboard.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save new Dashboard</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tif( !app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"</section>\";\n\n\t\t(app.containers.dashboard_add).querySelector(\".page-content\").innerHTML = node;\n\t\tcomponentHandler.upgradeDom();\n\t\tdocument.getElementById(\"snippetsChipsSelect\").parentNode.querySelector(\"div.mdl-selectfield__list-option-box ul\").addEventListener(\"click\", function(evt) {\n\t\t\tvar id = evt.target.getAttribute(\"data-value\");\n\t\t\tvar n=0;\n\t\t\tvar s = JSON.parse(localStorage.getItem(\"snippets\")).find(function(snippet) {\n\t\t\t\tif ( n == id ) {\n\t\t\t\t\treturn snippet;\n\t\t\t\t} else {\n\t\t\t\t\tn++;\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar sType = s.sType;\n\t\t\tvar name = evt.target.innerText;\n\t\t\tapp.addChipSnippetTo(\"snippetsChips\", {name: name, id: id, sType: sType, type: \"snippets\"});\n\t\t\tevt.preventDefault();\n\t\t}, false);\n\t\t\n\t\tapp.refreshButtonsSelectors();\n\t\tapp.buttons.addDashboardBack.addEventListener(\"click\", function(evt) { app.setSection(\"dashboards\"); evt.preventDefault(); }, false);\n\t\tapp.buttons.addDashboard.addEventListener(\"click\", function(evt) { app.resources.dashboards.onAdd(evt); }, false);\n\n\t\tapp.setExpandAction();\n\t},\n\tdisplayItem: function(dashboard) {\n\t\tvar type = \"dashboards\";\n\t\tvar name = dashboard.attributes.name!==undefined?dashboard.attributes.name:\"\";\n\t\tvar description = dashboard.attributes.description!==undefined?dashboard.attributes.description.substring(0, app.cardMaxChars):\"\";\n\n\t\tvar element = \"\";\n\t\telement += \"<div class=\\\"mdl-grid mdl-cell\\\" data-action=\\\"view\\\" data-type=\\\"\"+type+\"\\\" data-id=\\\"\"+dashboard.id+\"\\\">\";\n\t\telement += \"\t<div class=\\\"mdl-card mdl-shadow--2dp\\\">\";\n\t\telement += \"\t\t<div class=\\\"mdl-card__title\\\">\";\n\t\telement += \"\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.objects+\"</i>\";\n\t\telement += \"\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\"+name+\"</h3>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += app.getField(null, null, description, {type: \"textarea\", isEdit: false});\n\t\telement += \"\t\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\telement += \"\t\t\t<span class=\\\"pull-left mdl-card__date\\\">\";\n\t\telement += \"\t\t\t\t<button data-id=\\\"\"+dashboard.id+\"\\\" class=\\\"swapDate mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">update</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t\t<span data-date=\\\"created\\\" class=\\\"visible\\\">Created on \"+moment(dashboard.attributes.meta.created).format(app.date_format) + \"</span>\";\n\t\tif ( dashboard.attributes.meta.updated ) {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Updated on \"+moment(dashboard.attributes.meta.updated).format(app.date_format) + \"</span>\";\n\t\t} else {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Never been updated yet.</span>\";\n\t\t}\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<span class=\\\"pull-right mdl-card__menuaction\\\">\";\n\t\telement += \"\t\t\t\t<button id=\\\"menu_\"+dashboard.id+\"\\\" class=\\\"mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.menu+\"</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<ul class=\\\"mdl-menu mdl-menu--top-right mdl-js-menu mdl-js-ripple-effect\\\" for=\\\"menu_\"+dashboard.id+\"\\\">\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item delete-button\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons delete-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+dashboard.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.delete+\"</i>Delete</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons edit-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+dashboard.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.edit+\"</i>Edit</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons copy-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+dashboard.id+\"\\\">\"+app.icons.copy+\"</i><textarea class=\\\"copytextarea\\\">\"+dashboard.id+\"</textarea>Copy ID to clipboard</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t</ul>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += \"\t</div>\";\n\t\telement += \"</div>\";\n\n\t\treturn element;\n\t}\n};","\"use strict\";\napp.resources.rules = {\n\tonEdit: function(evt) {\n\t\tvar rule_id = evt.target.parentNode.getAttribute(\"data-id\")?evt.target.parentNode.getAttribute(\"data-id\"):evt.target.getAttribute(\"data-id\");\n\t\tif ( !rule_id ) {\n\t\t\ttoast(\"No Rule id found!\", {timeout:3000, type: \"error\"});\n\t\t} else {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tvar body = {\n\t\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\t\tactive: !myForm.querySelector(\"input[id='switch-active']\").parentNode.classList.contains(\"is-checked\")?false:true,\n\t\t\t\trule: {\n\t\t\t\t\tpriority: myForm.querySelector(\"input[name='Priority']\").value,\n\t\t\t\t\tconditions: JSON.parse(myForm.querySelector(\"textarea[name='Event Conditions']\").value),\n\t\t\t\t\tevent: {\n\t\t\t\t\t\ttype: myForm.querySelector(\"select[name='Event Type']\").value,\n\t\t\t\t\t\tparams: JSON.parse(myForm.querySelector(\"textarea[name='Event Parameters']\").value),\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmeta: {revision: myForm.querySelector(\"input[name='meta.revision']\").value, },\n\t\t\t};\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\tconsole.log(\"DEBUG onEditRule\", JSON.stringify(body));\n\t\t\t}\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: \"PUT\", headers: myHeaders, body: JSON.stringify(body) };\n\t\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/rules/\"+rule_id;\n\t\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse){ \n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tapp.setSection(\"rules\");\n\t\t\t\ttoast(\"Rule has been edited.\", {timeout:3000, type: \"done\"});\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\ttoast(\"Rule has not been edited.\", {timeout:3000, type: \"error\"});\n\t\t\t});\n\t\t\tevt.preventDefault();\n\t\t}\n\t},\n\tonAdd: function(evt) {\n\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\tvar body = {\n\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\tactive: !myForm.querySelector(\"input[id='switch-active']\").parentNode.classList.contains(\"is-checked\")?false:true,\n\t\t\trule: {\n\t\t\t\tpriority: myForm.querySelector(\"input[name='Priority']\").value,\n\t\t\t\tconditions: JSON.parse(myForm.querySelector(\"textarea[name='Event Conditions']\").value),\n\t\t\t\tevent: {\n\t\t\t\t\ttype: myForm.querySelector(\"select[name='Event Type']\").value,\n\t\t\t\t\tparams: JSON.parse(myForm.querySelector(\"textarea[name='Event Parameters']\").value),\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\tconsole.log(\"DEBUG onAddRule\", JSON.stringify(body));\n\t\t}\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"POST\", headers: myHeaders, body: JSON.stringify(body) };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/rules/\";\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tapp.setSection(\"rules\");\n\t\t\ttoast(\"Rule has been added.\", {timeout:3000, type: \"done\"});\n\t\t})\n\t\t.catch(function (error) {\n\t\t\ttoast(\"Rule has not been added.\", {timeout:3000, type: \"error\"});\n\t\t});\n\t\tevt.preventDefault();\n\t},\n\tonDelete: function(id) {\n\t},\n\tdisplay: function(id, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"rule\" }, window.location.hash.substr(1), \"#rule?id=\"+id );\n\t\tapp.initNewSection(\"rule\");\n\t\t\n\t\twindow.scrollTo(0, 0);\n\t\tapp.containers.spinner.removeAttribute(\"hidden\");\n\t\tapp.containers.spinner.classList.remove(\"hidden\");\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/rules/\"+id;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tfor (var i=0; i < (response.data).length ; i++ ) {\n\t\t\t\tvar rule = response.data[i];\n\t\t\t\tdocument.title = (app.sectionsPageTitles[\"rule\"]).replace(/%s/g, rule.attributes.name);\n\t\t\t\tvar node;\n\t\t\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\t\t\t\n\t\t\t\tif ( isEdit ) {\n\t\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+rule.id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<i class=\\\"material-icons mdl-textfield__icon\\\">\"+app.icons.rules+\"</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\"+rule.attributes.name+\"</h2>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t\t<s&pan class='mdl-list__item-secondary-action'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+rule.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\t\tnode += \"\t\t<div class='mdl-cell--12-col hidden' id='description-\"+rule.id+\"'>\";\n\n\t\t\t\t\tnode += app.getField(app.icons.code, \"Id\", rule.id, {type: \"text\", style:\"text-transform: none !important;\"});\n\t\t\t\t\tif ( rule.attributes.meta.created ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(rule.attributes.meta.created).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( rule.attributes.meta.updated ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(rule.attributes.meta.updated).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( rule.attributes.meta.revision ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.update, \"Revision\", rule.attributes.meta.revision, {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+rule.id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(null, \"meta.revision\", rule.attributes.meta.revision, {type: \"hidden\", id: \"meta.revision\", pattern: app.patterns.meta_revision});\n\t\t\t\t\tnode += app.getField(app.icons.name, \"Name\", rule.attributes.name, {type: \"text\", id: \"Name\", isEdit: isEdit, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\t\t\t\tnode += app.getField(\"add_circle_outline\", \"Event Type\", rule.attributes.rule.event.type, {type: \"select\", id: \"EventType\", options: app.EventTypes, isEdit: isEdit });\n\t\t\t\t\tnode += app.getField(\"swap_vert\", \"Priority\", rule.attributes.rule.priority, {type: \"text\", id: \"Priority\", isEdit: isEdit, pattern: app.patterns.integerNotNegative, error:\"Should be a positive integer.\"});\n\t\t\t\t\tnode += app.getField(\"traffic\", rule.attributes.active!==false?\"Rule is active\":\"Rule is disabled\", rule.attributes.active!==false?true:false, {type: \"switch\", id:\"active\", isEdit: isEdit});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\tnode += app.getSubtitle(\"Event Conditions\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+rule.id+\"_parameters\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Event Conditions\", JSON.stringify(rule.attributes.rule.conditions), {type: \"textarea\", id: \"EventConditions\", isEdit: true});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += app.getSubtitle(\"Event Parameters\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+rule.id+\"_parameters\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\t//node += app.getField(\"note\", [\"Name\", \"Value\"], [\"\", \"\"], {type: \"2inputs\", pattern: [app.patterns.customAttributeName, app.patterns.customAttributeValue], error: [\"Name should not contains any space nor special char.\", \"Value is free.\"], id: [\"Name[]\", \"Value[]\"], isEdit: true});\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Event Parameters\", JSON.stringify(rule.attributes.rule.event.params), {type: \"textarea\", id: \"EventParams\", isEdit: true});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) { node += \"\t<div class='mdl-layout-spacer'></div>\"; }\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>View</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>View Rule</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='save-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>save</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save changes to Rule</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) { node += \"\t<div class='mdl-layout-spacer'></div>\"; }\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\t(app.containers.rule).querySelector(\".page-content\").innerHTML = node;\n\t\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\t\tapp.setExpandAction();\n\t\t\t\t\t\n\t\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\t\tif ( document.getElementById(\"switch-active\") ) {\n\t\t\t\t\t\tdocument.getElementById(\"switch-active\").addEventListener(\"change\", function(e) {\n\t\t\t\t\t\t\tvar label = e.target.parentElement.querySelector(\"div.mdl-switch__label\");\n\t\t\t\t\t\t\tif ( document.getElementById(\"switch-active\").checked === true ) {\n\t\t\t\t\t\t\t\tlabel.innerText = \"Rule is active\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlabel.innerText = \"Rule is disabled\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tapp.buttons.backRule.addEventListener(\"click\", function(evt) { app.resources.rules.display(rule.id, false, false, false); }, false);\n\t\t\t\t\tapp.buttons.saveRule.addEventListener(\"click\", function(evt) { app.resources.rules.onEdit(evt); }, false);\n\t\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.rules+\"</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t\t\"+rule.attributes.name+\"</h2>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\t\tnode += \"\t\t<div class='mdl-cell mdl-cell--12-col hidden' id='description-\"+id+\"'>\";\n\t\t\t\t\tnode += app.getField(app.icons.rules, \"Id\", rule.id, {type: \"text\"});\n\t\t\t\t\tif ( rule.attributes.meta.created ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(rule.attributes.meta.created).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( rule.attributes.meta.updated ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(rule.attributes.meta.updated).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( rule.attributes.meta.revision ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.update, \"Revision\", rule.attributes.meta.revision, {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t</div>\"; // mdl-shadow--2dp\n\t\t\t\t\tnode +=\t\"</section>\";\n\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+rule.id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(\"add_circle_outline\", \"Event Type\", rule.attributes.rule.event.type, {type: \"select\", id: \"EventType\", options: app.EventTypes, isEdit: isEdit });\n\t\t\t\t\tnode += app.getField(\"swap_vert\", \"Priority\", rule.attributes.rule.priority, {type: \"text\", id: \"Priority\", isEdit: isEdit, pattern: app.patterns.integerNotNegative, error:\"Should be a positive integer.\"});\n\t\t\t\t\tnode += app.getField(\"traffic\", rule.attributes.active!==false?\"Rule is active\":\"Rule is disabled\", \"\", {type: \"switch\", id:\"active\", isEdit: isEdit});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\tnode += app.getSubtitle(\"Event Conditions\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+rule.id+\"_parameters\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t<pre>\";\n\t\t\t\t\tnode += \"\t\t\t<code class='nostyle'>\";\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Event Conditions\", app.nl2br(JSON.stringify(rule.attributes.rule.conditions, null, \"\\t\")), {type: \"textarea\", id: \"EventConditions\", isEdit: isEdit});\n\t\t\t\t\tnode += \"\t\t\t</code>\";\n\t\t\t\t\tnode += \"\t\t</pre>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += app.getSubtitle(\"Event Parameters\");\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+rule.id+\"_parameters\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t<pre>\";\n\t\t\t\t\tnode += \"\t\t\t<code class='nostyle'>\";\n\t\t\t\t\tnode += app.getField(app.icons.description, \"Event Parameters\", app.nl2br(JSON.stringify(rule.attributes.rule.event.params, null, \"\\t\")), {type: \"textarea\", id: \"EventParams\", isEdit: isEdit});\n\t\t\t\t\tnode += \"\t\t\t</code>\";\n\t\t\t\t\tnode += \"\t\t</pre>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+rule.id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='list-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+rule.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>List</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Rules</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone delete-button'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='delete-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+rule.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>delete</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Delete</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Delete Rule</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[2]+\"' class='edit-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+rule.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Edit</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[2]+\"'>Edit Rule</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\t(app.containers.rule).querySelector(\".page-content\").innerHTML = node;\n\t\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\t\tapp.setExpandAction();\n\t\t\t\t\t\n\t\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\t\tapp.buttons.listRule.addEventListener(\"click\", function(evt) { app.setSection(\"rules\"); evt.preventDefault(); }, false);\n\t\t\t\t\t// buttons.deleteRule2.addEventListener(\"click\",\n\t\t\t\t\t// function(evt) { console.log(\"SHOW MODAL AND CONFIRM!\");\n\t\t\t\t\t// }, false);\n\t\t\t\t\tapp.buttons.editRule2.addEventListener(\"click\", function(evt) { app.resources.rules.display(rule.id, false, true, false); evt.preventDefault(); }, false);\n\t\t\t\t}\n\t\t\t\tapp.setSection(\"rule\");\n\t\t\t}\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\ttoast(\"displayRule error occured...\" + error, {timeout:3000, type: \"error\"});\n\t\t\t}\n\t\t});\n\t\tapp.containers.spinner.setAttribute(\"hidden\", true);\n\t},\n\tdisplayPublic: function(id, isAdd, isEdit, isPublic) {\n\t},\n\tdisplayAdd: function(rule, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"rule_add\" }, window.location.hash.substr(1), \"#rule_add\" );\n\t\tapp.initNewSection(\"rule_add\");\n\t\tvar node = \"\";\n\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+rule.id+\"\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(app.icons.name, \"Name\", rule.attributes.name, {type: \"text\", id: \"Name\", isEdit: true, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\tnode += app.getField(\"add_circle_outline\", \"Event Type\", rule.attributes.event.type, {type: \"select\", id: \"EventType\", options: app.EventTypes, isEdit: true });\n\t\tnode += app.getField(\"swap_vert\", \"Priority\", rule.attributes.priority, {type: \"text\", id: \"Priority\", isEdit: true, pattern: app.patterns.integerNotNegative, error:\"Should be a positive integer.\"});\n\t\tnode += app.getField(\"traffic\", rule.attributes.active!=\"false\"?\"Rule is active\":\"Rule is disabled\", rule.attributes.active!==undefined?rule.attributes.active:true, {type: \"switch\", id:\"active\", isEdit: true});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\n\t\tnode += app.getSubtitle(\"Event Conditions\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+rule.id+\"_parameters\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(app.icons.description, \"Event Conditions\", app.nl2br(rule.attributes.event.conditions), {type: \"textarea\", id: \"EventConditions\", isEdit: true});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tnode += app.getSubtitle(\"Event Parameters\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+rule.id+\"_parameters\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(\"note\", [\"Name\", \"Value\"], [\"\", \"\"], {type: \"2inputs\", pattern: [app.patterns.customAttributeName, app.patterns.customAttributeValue], error: [\"Name should not contains any space nor special char.\", \"Value is free.\"], id: [\"Name[]\", \"Value[]\"], isEdit: true});\n\t\tnode += app.getField(app.icons.description, \"Event Parameters\", app.nl2br(rule.attributes.event.parameters), {type: \"textarea\", id: \"EventParams\", isEdit: true});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+rule.id+\"'>\";\n\t\tif( app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+rule.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\tnode += \"\t\t\t<label>List</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Rules</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='add-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+rule.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save new Rule</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tif( !app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"</section>\";\n\n\t\t(app.containers.rule_add).querySelector(\".page-content\").innerHTML = node;\n\t\tcomponentHandler.upgradeDom();\n\t\t\n\t\tapp.refreshButtonsSelectors();\n\t\t\n\t\tif ( document.getElementById(\"switch-active\") ) {\n\t\t\tdocument.getElementById(\"switch-active\").addEventListener(\"change\", function(e) {\n\t\t\t\tvar label = e.target.parentElement.querySelector(\"div.mdl-switch__label\");\n\t\t\t\tif ( document.getElementById(\"switch-active\").checked === true ) {\n\t\t\t\t\tlabel.innerText = \"Rule is active\";\n\t\t\t\t} else {\n\t\t\t\t\tlabel.innerText = \"Rule is disabled\";\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t\tapp.buttons.addRuleBack.addEventListener(\"click\", function(evt) { app.setSection(\"rules\"); evt.preventDefault(); }, false);\n\t\tapp.buttons.addRule.addEventListener(\"click\", function(evt) { app.resources.rules.onAdd(evt); }, false);\n\n\t\tapp.setExpandAction();\n\t},\n\tdisplayItem: function(rule) {\n\t\tvar type = \"rules\";\n\t\tvar name = rule.attributes.name!==undefined?rule.attributes.name:\"\";\n\t\tvar description = rule.attributes.description!==undefined?rule.attributes.description.substring(0, app.cardMaxChars):\"\";\n\t\tvar attributeType = rule.attributes.type!==undefined?rule.attributes.type:\"\";\n\t\tvar cssDisabled = rule.attributes.active!==true?\"is-disabled\":\"\";\n\t\t\n\t\tvar element = \"\";\n\t\telement += \"<div class=\\\"mdl-grid mdl-cell\\\" data-action=\\\"view\\\" data-type=\\\"\"+type+\"\\\" data-id=\\\"\"+rule.id+\"\\\">\";\n\t\telement += \"\t<div class=\\\"mdl-card mdl-shadow--2dp \"+cssDisabled+\"\\\">\";\n\t\telement += \"\t\t<div class=\\\"mdl-card__title\\\">\";\n\t\telement += \"\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.objects+\"</i>\";\n\t\telement += \"\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\"+name+\"</h3>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += app.getField(null, null, description, {type: \"textarea\", isEdit: false});\n\t\telement += \"\t\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\telement += \"\t\t\t<span class=\\\"pull-left mdl-card__date\\\">\";\n\t\telement += \"\t\t\t\t<button data-id=\\\"\"+rule.id+\"\\\" class=\\\"swapDate mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">update</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t\t<span data-date=\\\"created\\\" class=\\\"visible\\\">Created on \"+moment(rule.attributes.meta.created).format(app.date_format) + \"</span>\";\n\t\tif ( rule.attributes.meta.updated ) {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Updated on \"+moment(rule.attributes.meta.updated).format(app.date_format) + \"</span>\";\n\t\t} else {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Never been updated yet.</span>\";\n\t\t}\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<span class=\\\"pull-right mdl-card__menuaction\\\">\";\n\t\telement += \"\t\t\t\t<button id=\\\"menu_\"+rule.id+\"\\\" class=\\\"mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.menu+\"</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<ul class=\\\"mdl-menu mdl-menu--top-right mdl-js-menu mdl-js-ripple-effect\\\" for=\\\"menu_\"+rule.id+\"\\\">\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item delete-button\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons delete-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+rule.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.delete+\"</i>Delete</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons edit-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+rule.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.edit+\"</i>Edit</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons copy-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+rule.id+\"\\\">\"+app.icons.copy+\"</i><textarea class=\\\"copytextarea\\\">\"+rule.id+\"</textarea>Copy ID to clipboard</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t</ul>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += \"\t</div>\";\n\t\telement += \"</div>\";\n\n\t\treturn element;\n\t}\n};","\"use strict\";\napp.resources.mqtts = {\n\tonEdit: function(evt) {\n\t},\n\tonAdd: function(evt) {\n\t},\n\tonDelete: function(id) {\n\t},\n\tdisplay: function(id, isAdd, isEdit, isPublic) {\n\t},\n\tdisplayPublic: function(id, isAdd, isEdit, isPublic) {\n\t},\n\tdisplayAdd: function(mqtt, isAdd, isEdit, isPublic) {\n\t},\n\tdisplayItem: function(mqtt) {\n\t\tvar type = \"mqtts\";\n\t\tvar name = mqtt.attributes.name!==undefined?mqtt.attributes.name:\"\";\n\t\tvar description = mqtt.attributes.description!==undefined?mqtt.attributes.description.substring(0, app.cardMaxChars):\"\";\n\t\tvar attributeType = mqtt.attributes.type!==undefined?mqtt.attributes.type:\"\";\n\t\t\n\t\tvar element = \"\";\n\t\telement += \"<div class=\\\"mdl-grid mdl-cell\\\" data-action=\\\"view\\\" data-type=\\\"\"+type+\"\\\" data-id=\\\"\"+mqtt.id+\"\\\">\";\n\t\telement += \"\t<div class=\\\"mdl-card mdl-shadow--2dp\\\">\";\n\t\telement += \"\t\t<div class=\\\"mdl-card__title\\\">\";\n\t\telement += \"\t\t\t<i class=\\\"material-icons mdl-textfield__icon\\\">\"+app.icons.objects+\"</i>\";\n\t\telement += \"\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\"+name+\"</h3>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += app.getField(null, null, description, {type: \"textarea\", isEdit: false});\n\t\telement += \"\t\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\telement += \"\t\t\t<span class=\\\"pull-left mdl-card__date\\\">\";\n\t\telement += \"\t\t\t\t<button data-id=\\\"\"+mqtt.id+\"\\\" class=\\\"swapDate mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">update</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t\t<span data-date=\\\"created\\\" class=\\\"visible\\\">Created on \"+moment(mqtt.attributes.meta.created).format(app.date_format) + \"</span>\";\n\t\tif ( mqtt.attributes.meta.updated ) {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Updated on \"+moment(mqtt.attributes.meta.updated).format(app.date_format) + \"</span>\";\n\t\t} else {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Never been updated yet.</span>\";\n\t\t}\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<span class=\\\"pull-right mdl-card__menuaction\\\">\";\n\t\telement += \"\t\t\t\t<button id=\\\"menu_\"+mqtt.id+\"\\\" class=\\\"mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.menu+\"</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<ul class=\\\"mdl-menu mdl-menu--top-right mdl-js-menu mdl-js-ripple-effect\\\" for=\\\"menu_\"+mqtt.id+\"\\\">\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item delete-button\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons delete-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+mqtt.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.delete+\"</i>Delete</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons edit-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+mqtt.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.edit+\"</i>Edit</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons copy-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+mqtt.id+\"\\\">\"+app.icons.copy+\"</i><textarea class=\\\"copytextarea\\\">\"+mqtt.id+\"</textarea>Copy ID to clipboard</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t</ul>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += \"\t</div>\";\n\t\telement += \"</div>\";\n\n\t\treturn element;\n\t}\n};","\"use strict\";\napp.resources.sources = {\n\tonEdit: function(evt) {\n\t\tvar source_id = evt.target.parentNode.getAttribute(\"data-id\")?evt.target.parentNode.getAttribute(\"data-id\"):evt.target.getAttribute(\"data-id\");\n\t\tif ( !source_id ) {\n\t\t\ttoast(\"No Source id found!\", {timeout:3000, type: \"error\"});\n\t\t} else {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tvar body = {\n\t\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\t\tcontent: myForm.querySelector(\"textarea[id='Code']\").value,\n\t\t\t\tpassword: myForm.querySelector(\"input[id='password']\")!==null?myForm.querySelector(\"input[id='password']\").value:\"\",\n\t\t\t};\n\t\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tlet myInit = { method: \"PUT\", headers: myHeaders, body: JSON.stringify(body) };\n\t\t\tlet url = app.baseUrl+\"/\"+app.api_version+\"/sources/\"+source_id;\n\t\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse){ \n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tapp.setSection(\"sources\");\n\t\t\t\ttoast(\"Source has been saved.\", {timeout:3000, type: \"done\"});\n\t\t\t\t//var objectContainer = document.querySelector(\"section#sources div[data-id='\"+source_id+\"']\");\n\t\t\t\t//objectContainer.querySelector(\"h2\").innerHTML = body.name;\n\t\t\t\t//objectContainer.querySelector(\"div.mdl-list__item--three-line.small-padding span.mdl-list__item-sub-title\").innerHTML = app.nl2br(body.description.substring(0, app.cardMaxChars));\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\ttoast(\"Source has not been saved.\", {timeout:3000, type: \"error\"});\n\t\t\t});\n\t\t\tevt.preventDefault();\n\t\t\tapp.getSources();\n\t\t}\n\t},\n\tonAdd: function(evt) {\n\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\tvar body = {\n\t\t\t\tname: myForm.querySelector(\"input[name='Name']\").value,\n\t\t\t\tcontent: myForm.querySelector(\"textarea[id='Code']\").value,\n\t\t\t\tpassword: myForm.querySelector(\"input[id='password']\")!==null?myForm.querySelector(\"input[id='password']\").value:\"\",\n\t\t};\n\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tlet myInit = { method: \"POST\", headers: myHeaders, body: JSON.stringify(body) };\n\t\tlet url = app.baseUrl+\"/\"+app.api_version+\"/sources/\";\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tapp.setSection(\"sources\");\n\t\t\ttoast(\"Source has been added.\", {timeout:3000, type: \"done\"});\n\t\t})\n\t\t.catch(function (error) {\n\t\t\ttoast(\"Source has not been added.\", {timeout:3000, type: \"error\"});\n\t\t});\n\t\tevt.preventDefault();\n\t\tapp.getSources();\n\t},\n\tonDelete: function(id) {\n\t\tapp.getSources();\n\t},\n\tonBuild: function(id, filter_object_id) {\n\t\t// Get all objects linked to the source\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tlet myInit = { method: \"GET\", headers: myHeaders };\n\t\tlet url = app.baseUrl+\"/\"+app.api_version+\"/ota/\"+id;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\t// build all objects\n\t\t\tfor (var i=0; i < (response.data).length ; i++ ) {\n\t\t\t\tlet object_id = response.data[i].id;\n\t\t\t\tif (filter_object_id===null || filter_object_id === object_id) {\n\t\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\t\tlet myInit = { method: \"POST\", headers: myHeaders };\n\t\t\t\t\tlet url = app.baseUrl+\"/\"+app.api_version+\"/objects/\"+object_id+\"/build\";\n\t\t\t\t\tfetch(url, myInit)\n\t\t\t\t\t.then(\n\t\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t\t).then(function(fetchResponse){ \n\t\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t\t})\n\t\t\t\t\t.then(function(response) {\n\t\t\t\t\t\t// let's wait\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar len = filter_object_id===null?(response.data).length:1;\n\t\t\ttoast(\"Source is building all \"+len+\" Object(s). This can take several minutes.\", {timeout:10000, type: \"info\"});\n\t\t});\n\t\t\n\t},\n\tonUnlinkObject: function(source_id, object_id) {\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tlet myInit = { method: \"POST\", headers: myHeaders };\n\t\tlet url = app.baseUrl+\"/\"+app.api_version+\"/objects/\"+object_id+\"/unlink/\"+source_id;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tdocument.getElementById(\"object_\"+object_id).classList.add(\"removed\");\n\t\t\ttoast(\"Object is unlinked from this source.\", {timeout:3000, type: \"info\"});\n\t\t});\n\t\t\n\t},\n\tonDeploy: function(id, object_id) {\n\t\t// Get all objects linked to the source\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tlet myInit = { method: \"POST\", headers: myHeaders };\n\t\tlet o = object_id!==null?\"/\"+object_id:\"\";\n\t\tlet url = app.baseUrl+\"/\"+app.api_version+\"/ota/\"+id+\"/deploy\"+o;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\ttoast(\"Source is deploying to all \"+(response.deploying_to_objects.data).length+\" available Object(s). This can take several minutes.\", {timeout:10000, type: \"info\"});\n\t\t});\n\t\t\n\t},\n\tdisplay: function(id, isAdd, isEdit, isPublic) {\n\t\twindow.scrollTo(0, 0);\n\t\tif (id instanceof Object && isAdd) {\n\t\t\tdisplayAdd(id, isAdd, isEdit, isPublic);\n\t\t} else {\n\t\t\thistory.pushState( {section: \"source\" }, window.location.hash.substr(1), \"#source?id=\"+id );\n\t\t}\n\t\tapp.initNewSection(\"source\");\n\t\tapp.containers.spinner.removeAttribute(\"hidden\");\n\t\tapp.containers.spinner.classList.remove(\"hidden\");\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tlet myInit = { method: \"GET\", headers: myHeaders };\n\t\tlet url = app.baseUrl+\"/\"+app.api_version+\"/sources/\"+id;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tfor (var i=0; i < (response.data).length ; i++ ) {\n\t\t\t\tvar source = response.data[i];\n\t\t\t\tvar content = source.attributes.content!==undefined?source.attributes.content:\"\";\n\t\t\t\tcontent = isEdit?content:app.nl2br(app.escapeHtml(content));\n\n\t\t\t\tdocument.title = (app.sectionsPageTitles[\"source\"]).replace(/%s/g, source.attributes.name);\n\t\t\t\tvar node = \"\";\n\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+source.id+\"\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\tnode += \"\t\t\t\t<i class=\\\"material-icons mdl-textfield__icon\\\">\"+app.icons.sources+\"</i>\";\n\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\"+source.attributes.name+\"</h2>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+source.id+\"'>\";\n\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t\t<div class='mdl-cell--12-col hidden' id='description-\"+source.id+\"'>\";\n\n\t\t\t\tnode += app.getField(app.icons.code, \"Id\", source.id, {type: \"text\", style:\"text-transform: none !important;\"});\n\t\t\t\tif ( source.attributes.meta.created ) {\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(source.attributes.meta.created).format(app.date_format), {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tif ( source.attributes.meta.updated ) {\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(source.attributes.meta.updated).format(app.date_format), {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tif ( source.attributes.meta.revision ) {\n\t\t\t\t\tnode += app.getField(app.icons.update, \"Revision\", source.attributes.meta.revision, {type: \"text\"});\n\t\t\t\t}\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\t\t\t\t\n\t\t\t\tnode += app.getSubtitle(\"Security\");\n\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tnode += app.getField(\"verified_user\", \"OTA Password\", source.attributes.password!==undefined?source.attributes.password:\"\", {type: \"text\", style:\"text-transform: none !important;\", id: \"password\", isEdit: isEdit, pattern: app.patterns.password, error:\"\"});\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\t\t\t\t\n\t\t\t\tnode += app.getSubtitle(\"Parameters\");\n\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tnode += app.getField(null, \"meta.revision\", source.attributes.meta.revision, {type: \"hidden\", id: \"meta.revision\", pattern: app.patterns.meta_revision});\n\t\t\t\tnode += app.getField(app.icons.name, \"Name\", source.attributes.name, {type: \"text\", id: \"Name\", isEdit: isEdit, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\t\t\t\t\n\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\tnode += \"\t\t\t\t<i class=\\\"material-icons mdl-textfield__icon\\\">\"+app.icons.sources+\"</i>\";\n\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">Arduino Source Code (version \"+source.attributes.version+\")</h2>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showsource_button' for='source_of_\"+source.id+\"'>\";\n\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t\t<div class='mdl-cell--12-col hidden' id='source_of_\"+source.id+\"'>\";\n\t\t\t\tnode += app.getField(app.icons.code, \"Arduino Source Code\", content, {type: \"textarea\", id: \"Code\", isEdit: isEdit});\n\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\tnode += \"\t</div>\";\n\t\t\t\tnode += \"</section>\";\n\t\t\t\t\n\t\t\t\tnode += \"<section class=\\\"mdl-cell--12-col\\\" id=\\\"children\\\">\";\n\t\t\t\tnode += \"</section>\";\n\t\t\t\t\n\t\t\t\tnode += \"<section class=\\\"mdl-cell--12-col\\\" id=\\\"objects_linked\\\">\";\n\t\t\t\tnode += \"</section>\";\n\n\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\tlet myInit = { method: \"GET\", headers: myHeaders };\n\t\t\t\tlet url = app.baseUrl+\"/\"+app.api_version+\"/sources/\"+source.id+\"/child\";\n\t\t\t\tfetch(url, myInit)\n\t\t\t\t.then(\n\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t).then(function(fetchResponse){ \n\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t})\n\t\t\t\t.then(function(child) {\n\t\t\t\t\tvar node_child = \"\";\n\t\t\t\t\tif((child.data).length>0) {\n\t\t\t\t\t\tvar elChild = document.createElement(\"div\");\n\t\t\t\t\t\telChild.innerHTML = app.getSubtitle(\"Source children\");\n\t\t\t\t\t\tdocument.getElementById(\"children\").appendChild(elChild);\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i=0; i < (child.data).length ; i++ ) {\n\t\t\t\t\t\tvar c = child.data[i];\n\t\t\t\t\t\tnode_child += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\t\tnode_child += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\t\tnode_child += \"\t<span class=\\\"pull-left mdl-card__date\\\">\";\n\t\t\t\t\t\tnode_child += app.getField(app.icons.code, \"Name\", c.attributes.name!==undefined?c.attributes.name:\"\", {type: \"text\", isEdit: false});\n\t\t\t\t\t\tnode_child += app.getField(app.icons.version, \"Version\", c.attributes.version!==undefined?c.attributes.version:\"\", {type: \"text\", isEdit: false});\n\t\t\t\t\t\tnode_child += app.getField(app.icons.date, \"Created\", moment(c.attributes.meta.created).format(app.date_format), {type: \"text\", isEdit: false});\n\t\t\t\t\t\tnode_child += \"\t</span>\";\n\t\t\t\t\t\tnode_child += \"\t<span class=\\\"pull-right mdl-card__menuaction edit_children_source\\\">\";\n\t\t\t\t\t\tnode_child += \"\t\t<button data-id=\\\"\"+c.id+\"\\\" class=\\\"child_edit_btn mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\t\t\t\t\tnode_child += \"\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.edit+\"</i>\";\n\t\t\t\t\t\tnode_child += \"\t\t</button>\";\n\t\t\t\t\t\tnode_child += \"\t</span>\";\n\t\t\t\t\t\tnode_child += \"\t</div>\";\n\t\t\t\t\t\tnode_child += \"</section>\";\n\t\t\t\t\t}\n\t\t\t\t\tdocument.getElementById(\"children\").innerHTML += node_child;\n\t\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\t\tfor (var i in app.buttons.editSourceChild) {\n\t\t\t\t\t\tif ( app.buttons.editSourceChild[i].childElementCount > -1 ) {\n\t\t\t\t\t\t\tapp.buttons.editSourceChild[i].addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\t\t\tapp.resources.sources.display(evt.target.parentNode.getAttribute(\"data-id\"), false, true, false);\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar myHeaders = new Headers();\n\t\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\t\tmyInit = { method: \"GET\", headers: myHeaders };\n\t\t\t\turl = app.baseUrl+\"/\"+app.api_version+\"/ota/\"+source.id+\"?ota-status=true\";\n\t\t\t\tfetch(url, myInit)\n\t\t\t\t.then(\n\t\t\t\t\tapp.fetchStatusHandler\n\t\t\t\t).then(function(fetchResponse){ \n\t\t\t\t\treturn fetchResponse.json();\n\t\t\t\t})\n\t\t\t\t.then(function(o_links) {\n\t\t\t\t\tvar node_objects_linked = \"\";\n\t\t\t\t\tif((o_links.data).length>0) {\n\t\t\t\t\t\tvar elObjects = document.createElement(\"div\");\n\t\t\t\t\t\telObjects.innerHTML = app.getSubtitle(\"Objects linked\");\n\t\t\t\t\t\tdocument.getElementById(\"objects_linked\").appendChild(elObjects);\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i=0; i < (o_links.data).length ; i++ ) {\n\t\t\t\t\t\tvar o = o_links.data[i];\n\t\t\t\t\t\tnode_objects_linked += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" id=\\\"object_\"+o.id+\"\\\" data-type=\\\"linkedObject\\\">\";\n\t\t\t\t\t\tnode_objects_linked += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t<div class=\\\"mdl-list__item--three-line small-padding  mdl-card--expand\\\">\";\n\t\t\t\t\t\tnode_objects_linked += app.getField(app.icons.objects, null, o.attributes.name!==undefined?o.attributes.name:\"\", {type: \"text\", isEdit: false});\n\t\t\t\t\t\tnode_objects_linked += app.getField(\"my_location\", \"IPv4\", o.attributes.ipv4!==undefined?o.attributes.ipv4:\"\", {type: \"text\", isEdit: false});\n\t\t\t\t\t\tnode_objects_linked += app.getField(app.icons.code, \"Fqbn string\", o.attributes.fqbn!==undefined?o.attributes.fqbn:\"\", {type: \"text\", isEdit: false});\n\t\t\t\t\t\tnode_objects_linked += app.getField(app.icons.code, \"version\", o.attributes.source_version!==undefined?o.attributes.source_version:\"\", {type: \"text\", isEdit: false});\n\t\t\t\t\t\tnode_objects_linked += app.getField(o.attributes.is_connected===true?\"flash_on\":\"flash_off\", \"Status\", o.attributes.is_connected===true?\"Active\":\"Inactive\", {type: \"text\", isEdit: false});\n\t\t\t\t\t\tnode_objects_linked += \"\t\t</div>\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t<button data-id=\\\"\"+o.id+\"\\\" class=\\\"object_link_off_btn mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\\\">\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.link_off+\"</i>Unlink\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t</button>\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t<button data-id=\\\"\"+o.id+\"\\\" class=\\\"object_build_btn mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\\\">\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t\t<i class=\\\"arduino-icon build\\\"> </i> Build\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t</button>\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t<button data-id=\\\"\"+o.id+\"\\\" class=\\\"object_deploy_btn mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\\\">\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t\t<i class=\\\"arduino-icon deploy\\\"> </i> Deploy\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t</button>\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t<button data-id=\\\"\"+o.id+\"\\\" class=\\\"object_edit_btn mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\\\">\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.edit+\"</i>Edit\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t\t</button>\";\n\t\t\t\t\t\tnode_objects_linked += \"\t\t</div>\";\n\t\t\t\t\t\tnode_objects_linked += \"\t</div>\";\n\t\t\t\t\t\tnode_objects_linked += \"</section>\";\n\t\t\t\t\t}\n\t\t\t\t\tdocument.getElementById(\"objects_linked\").innerHTML += node_objects_linked;\n\t\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\t\tfor (var i in app.buttons.editSourceObject) {\n\t\t\t\t\t\tif ( app.buttons.editSourceObject[i].childElementCount > -1 ) {\n\t\t\t\t\t\t\tapp.buttons.editSourceObject[i].addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\t\t\tapp.resources.objects.display(evt.target.parentNode.getAttribute(\"data-id\"), false, true, false);\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i in app.buttons.expandSourceButtons) {\n\t\t\t\t\t\tif ( (app.buttons.expandSourceButtons[i]).childElementCount > -1 ) {\n\t\t\t\t\t\t\t(app.buttons.expandSourceButtons[i]).addEventListener(\"click\", app.expand, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i in app.buttons.link_offSourceObject) {\n\t\t\t\t\t\tif ( app.buttons.link_offSourceObject[i].childElementCount > -1 ) {\n\t\t\t\t\t\t\tapp.buttons.link_offSourceObject[i].addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\t\t\tapp.resources.sources.onUnlinkObject(source.id, evt.target.parentNode.getAttribute(\"data-id\"));\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i in app.buttons.deploySourceObject) {\n\t\t\t\t\t\tif ( app.buttons.deploySourceObject[i].childElementCount > -1 ) {\n\t\t\t\t\t\t\tapp.buttons.deploySourceObject[i].addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\t\t\tapp.resources.sources.onDeploy(source.id, evt.target.parentNode.getAttribute(\"data-id\"));\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor (var i in app.buttons.buildSourceObject) {\n\t\t\t\t\t\tif ( app.buttons.buildSourceObject[i].childElementCount > -1 ) {\n\t\t\t\t\t\t\tapp.buttons.buildSourceObject[i].addEventListener(\"click\", function(evt) {\n\t\t\t\t\t\t\t\tapp.resources.sources.onBuild(source.id, evt.target.parentNode.getAttribute(\"data-id\"));\n\t\t\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\t\t}, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\t\t\tif ( isEdit ) {\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+source.id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) { node += \"\t<div class='mdl-layout-spacer'></div>\"; }\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+source.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>View</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>View Source</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='save-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+source.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>save</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save changes to Source</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) { node += \"\t<div class='mdl-layout-spacer'></div>\"; }\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t} else {\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+source.id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='list-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+source.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>List</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Sources</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone delete-button'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='delete-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+source.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>delete</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Delete</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Delete Source...</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[2]+\"' class='build-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+source.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='arduino-icon build'> </i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Build All</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[2]+\"'>Build Arduino</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[3]+\"' class='deploy-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+source.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='arduino-icon deploy'> </i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Deploy All</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[3]+\"'>Deploy to Objects</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[4]+\"' class='edit-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+source.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Edit</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[4]+\"'>Edit Source</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t}\n\n\t\t\t\t(app.containers.source).querySelector(\".page-content\").innerHTML = node;\n\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\t\n\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\tif ( isEdit ) {\n\t\t\t\t\tapp.buttons.backSource.addEventListener(\"click\", function(evt) { app.resources.sources.display(source.id, false, false, false); }, false);\n\t\t\t\t\tapp.buttons.saveSource.addEventListener(\"click\", function(evt) { app.resources.sources.onEdit(evt); }, false);\n\t\t\t\t} else {\n\t\t\t\t\tapp.buttons.listSource.addEventListener(\"click\", function(evt) { app.setSection(\"sources\"); evt.preventDefault(); }, false);\n\t\t\t\t\t// buttons.deleteObject2.addEventListener(\"click\",\n\t\t\t\t\t// function(evt) { console.log('SHOW MODAL AND CONFIRM!');\n\t\t\t\t\t// }, false);\n\t\t\t\t\tapp.buttons.editSource2.addEventListener(\"click\", function(evt) { app.resources.sources.display(source.id, false, true, false); evt.preventDefault(); }, false);\n\t\t\t\t\tapp.buttons.buildSource.addEventListener(\"click\", function(evt) { app.resources.sources.onBuild(source.id, null); evt.preventDefault(); }, false);\n\t\t\t\t\tapp.buttons.deploySource.addEventListener(\"click\", function(evt) { app.resources.sources.onDeploy(source.id, null); evt.preventDefault(); }, false);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tapp.setExpandAction();\n\t\t\t\tapp.setSection(\"source\");\n\t\t\t}\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\ttoast(\"displaySource error occured...\" + error, {timeout:3000, type: \"error\"});\n\t\t\t}\n\t\t});\n\t\tapp.containers.spinner.setAttribute(\"hidden\", true);\n\t},\n\tdisplayPublic: function(id, isAdd, isEdit, isPublic) {\n\t},\n\tdisplayAdd: function(source, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"source_add\" }, window.location.hash.substr(1), \"#source_add\" );\n\t\tapp.initNewSection(\"source_add\");\n\t\tvar node = \"\";\n\t\tsource.id = source.id!==\"\"?source.id:app.getUniqueId();\n\t\tvar content = source.attributes.content!==undefined?source.attributes.content:\"\";\n\n\t\tnode += app.getSubtitle(\"Security\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(\"verified_user\", \"OTA Password\", source.attributes.password!==undefined?source.attributes.password:\"\", {type: \"text\", style:\"text-transform: none !important;\", id: \"password\", isEdit: true, pattern: app.patterns.password, error:\"\"});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tnode += app.getSubtitle(\"Parameters\");\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tnode += app.getField(app.icons.name, \"Name\", source.attributes.name, {type: \"text\", id: \"Name\", isEdit: true, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\tnode += app.getField(app.icons.code, \"Arduino Source Code\", content, {type: \"textarea\", id: \"Code\", isEdit: true});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\t\t\n\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+source.id+\"'>\";\n\t\tif( app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+source.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\tnode += \"\t\t\t<label>List</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Sources</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='add-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+source.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save new Source</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tif( !app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"</section>\";\n\n\t\t(app.containers.source_add).querySelector(\".page-content\").innerHTML = node;\n\t\tcomponentHandler.upgradeDom();\n\n\t\tapp.refreshButtonsSelectors();\n\t\tapp.buttons.addSourceBack.addEventListener(\"click\", function(evt) { app.setSection(\"sources\"); evt.preventDefault(); }, false);\n\t\tapp.buttons.addSource.addEventListener(\"click\", function(evt) { app.resources.sources.onAdd(evt); }, false);\n\t\tapp.setExpandAction();\n\t},\n\tdisplayItem: function(source) {\n\t\tvar type = \"sources\";\n\t\tvar name = source.attributes.name!==undefined?source.attributes.name:\"\";\n\t\tvar content = source.attributes.content!==undefined?source.attributes.content.substring(0, app.cardMaxChars):\"\";\n\n\t\tvar element = \"\";\n\t\telement += \"<div class=\\\"mdl-grid mdl-cell\\\" data-action=\\\"view\\\" data-type=\\\"\"+type+\"\\\" data-id=\\\"\"+source.id+\"\\\">\";\n\t\telement += \"\t<div class=\\\"mdl-card mdl-shadow--2dp\\\">\";\n\t\telement += \"\t\t<div class=\\\"mdl-card__title\\\">\";\n\t\telement += \"\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.sources+\"</i>\";\n\t\telement += \"\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\"+name+\"</h3>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += app.getField(null, null, content, {type: \"textarea\", isEdit: false});\n\t\telement += \"\t\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\telement += \"\t\t\t<span class=\\\"pull-left mdl-card__date\\\">\";\n\t\telement += \"\t\t\t\t<button data-id=\\\"\"+source.id+\"\\\" class=\\\"swapDate mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">update</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t\t<span data-date=\\\"created\\\" class=\\\"visible\\\">Created on \"+moment(source.attributes.meta.created).format(app.date_format) + \"</span>\";\n\t\tif ( source.attributes.meta.updated ) {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Updated on \"+moment(source.attributes.meta.updated).format(app.date_format) + \"</span>\";\n\t\t} else {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Never been updated yet.</span>\";\n\t\t}\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<span class=\\\"pull-right mdl-card__menuaction\\\">\";\n\t\telement += \"\t\t\t\t<button id=\\\"menu_\"+source.id+\"\\\" class=\\\"mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.menu+\"</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<ul class=\\\"mdl-menu mdl-menu--top-right mdl-js-menu mdl-js-ripple-effect\\\" for=\\\"menu_\"+source.id+\"\\\">\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item delete-button\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons delete-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+source.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.delete+\"</i>Delete</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons edit-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+source.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.edit+\"</i>Edit</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons copy-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+source.id+\"\\\">\"+app.icons.copy+\"</i><textarea class=\\\"copytextarea\\\">\"+source.id+\"</textarea>Copy ID to clipboard</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t</ul>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += \"\t</div>\";\n\t\telement += \"</div>\";\n\n\t\treturn element;\n\t}\n};","\"use strict\";\napp.resources.stories = {\n\tonEdit: function(evt) {\n\t\tvar story_id = evt.target.parentNode.getAttribute(\"data-id\")?evt.target.parentNode.getAttribute(\"data-id\"):evt.target.getAttribute(\"data-id\");\n\t\tif ( !story_id ) {\n\t\t\ttoast(\"No Story id found!\", {timeout:3000, type: \"error\"});\n\t\t} else {\n\t\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\t\tvar body = {\n\t\t\t\tflow_id: myForm.querySelector(\"select[id='FlowId']\").value,\n\t\t\t\tname: myForm.querySelector(\"input[id='Name']\").value,\n\t\t\t\tretention: myForm.querySelector(\"select[name='Retention']\").value,\n\t\t\t\tstart: myForm.querySelector(\"input[id='Start']\").value,\n\t\t\t\tend: myForm.querySelector(\"input[id='End']\").value,\n\t\t\t\tmeta: {revision: myForm.querySelector(\"input[name='meta.revision']\").value, },\n\t\t\t};\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\tconsole.log(\"DEBUG onEditStory\", JSON.stringify(body));\n\t\t\t}\n\t\t\tvar myHeaders = new Headers();\n\t\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\t\tvar myInit = { method: \"PUT\", headers: myHeaders, body: JSON.stringify(body) };\n\t\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/stories/\"+story_id;\n\t\t\tfetch(url, myInit)\n\t\t\t.then(\n\t\t\t\tapp.fetchStatusHandler\n\t\t\t).then(function(fetchResponse){ \n\t\t\t\treturn fetchResponse.json();\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\tapp.setSection(\"stories\");\n\t\t\t\ttoast(\"Story has been edited.\", {timeout:3000, type: \"done\"});\n\t\t\t})\n\t\t\t.catch(function (error) {\n\t\t\t\ttoast(\"Story has not been edited.\", {timeout:3000, type: \"error\"});\n\t\t\t});\n\t\t\tevt.preventDefault();\n\t\t}\n\t},\n\tonAdd: function(evt) {\n\t\tvar myForm = evt.target.parentNode.parentNode.parentNode.parentNode;\n\t\tvar body = {\n\t\t\tflow_id: myForm.querySelector(\"select[id='FlowId']\").value,\n\t\t\tname: myForm.querySelector(\"input[id='Name']\").value,\n\t\t\tretention: myForm.querySelector(\"select[name='Retention']\").value,\n\t\t\tstart: myForm.querySelector(\"input[id='Start']\").value,\n\t\t\tend: myForm.querySelector(\"input[id='End']\").value,\n\t\t};\n\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\tconsole.log(\"DEBUG onAddStory\", JSON.stringify(body));\n\t\t}\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"POST\", headers: myHeaders, body: JSON.stringify(body) };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/stories/\";\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tapp.setSection(\"stories\");\n\t\t\ttoast(\"Story has been added.\", {timeout:3000, type: \"done\"});\n\t\t})\n\t\t.catch(function (error) {\n\t\t\ttoast(\"Story has not been added.\", {timeout:3000, type: \"error\"});\n\t\t});\n\t\tevt.preventDefault();\n\t},\n\tonDelete: function(id) {\n\t},\n\tdisplay: function(id, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"story\" }, window.location.hash.substr(1), \"#story?id=\"+id );\n\t\tapp.initNewSection(\"story\");\n\t\t\n\t\twindow.scrollTo(0, 0);\n\t\tapp.containers.spinner.removeAttribute(\"hidden\");\n\t\tapp.containers.spinner.classList.remove(\"hidden\");\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/stories/\"+id;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){ \n\t\t\treturn fetchResponse.json();\n\t\t})\n\t\t.then(function(response) {\n\t\t\tfor (var i=0; i < (response.data).length ; i++ ) {\n\t\t\t\tvar story = response.data[i];\n\t\t\t\tdocument.title = (app.sectionsPageTitles[\"story\"]).replace(/%s/g, story.attributes.name);\n\t\t\t\tvar node;\n\t\t\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\t\t\t\n\t\t\t\tif ( isEdit ) {\n\t\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+story.id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<i class=\\\"material-icons mdl-textfield__icon\\\">\"+app.icons.stories+\"</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\"+story.attributes.name+\"</h2>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t\t<s&pan class='mdl-list__item-secondary-action'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+story.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\t\tnode += \"\t\t<div class='mdl-cell--12-col hidden' id='description-\"+story.id+\"'>\";\n\n\t\t\t\t\tnode += app.getField(app.icons.code, \"Id\", story.id, {type: \"text\", style:\"text-transform: none !important;\"});\n\t\t\t\t\tif ( story.attributes.meta.created ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(story.attributes.meta.created).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( story.attributes.meta.updated ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(story.attributes.meta.updated).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( story.attributes.meta.revision ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.update, \"Revision\", story.attributes.meta.revision, {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+story.id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(null, \"meta.revision\", story.attributes.meta.revision, {type: \"hidden\", id: \"meta.revision\", pattern: app.patterns.meta_revision});\n\t\t\t\t\tif ( localStorage.getItem(\"flows\") !== \"null\" ) {\n\t\t\t\t\t\tlet flows = JSON.parse(localStorage.getItem(\"flows\")).map(function(flow) {\n\t\t\t\t\t\t\treturn {value: flow.name, name: flow.id};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnode += app.getField(app.icons.flows, \"Flow\", story.attributes.flow_id, {type: \"select\", id: \"FlowId\", isEdit: true, options: flows });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.getFlows();\n\t\t\t\t\t\tnode += app.getField(app.icons.flows, \"Flow (you should add some flows first)\", \"\", {type: \"select\", id: \"FlowId\", isEdit: true, options: {} });\n\t\t\t\t\t}\n\t\t\t\t\tnode += app.getField(app.icons.name, \"Name\", story.attributes.name, {type: \"text\", id: \"Name\", isEdit: isEdit, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\t\t\t\tnode += app.getField(app.icons.retention, \"Retention\", story.attributes.retention, {type: \"select\", id: \"Retention\", isEdit: isEdit, options: app.allRetentions});\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Start date\", story.attributes.start, {type: \"text\", id: \"Start\", isEdit: isEdit, pattern: app.patterns.date, error:\"Date must be valid\"});\n\t\t\t\t\tnode += app.getField(app.icons.date, \"End date\", story.attributes.end, {type: \"text\", id: \"End\", isEdit: isEdit, pattern: app.patterns.date, error:\"Date must be valid\"});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t<a href=\\\"/stories/\"+id+\"\\\" target=\\\"_blank\\\">Read the full story</a>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) { node += \"\t<div class='mdl-layout-spacer'></div>\"; }\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>View</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>View Story</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='save-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>save</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save changes to Story</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) { node += \"\t<div class='mdl-layout-spacer'></div>\"; }\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\t(app.containers.story).querySelector(\".page-content\").innerHTML = node;\n\t\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\t\tapp.setExpandAction();\n\t\t\t\t\t\n\t\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\t\tapp.buttons.backStory.addEventListener(\"click\", function(evt) { app.resources.stories.display(story.id, false, false, false); }, false);\n\t\t\t\t\tapp.buttons.saveStory.addEventListener(\"click\", function(evt) { app.resources.stories.onEdit(evt); }, false);\n\t\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tnode = \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t<div class=\\\"mdl-list__item\\\">\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-primary-content'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<h2 class=\\\"mdl-card__title-text\\\">\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.stories+\"</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t\t\"+story.attributes.name+\"</h2>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t\t<span class='mdl-list__item-secondary-action'>\";\n\t\t\t\t\tnode += \"\t\t\t\t<button role='button' class='mdl-button mdl-js-button mdl-button--icon right showdescription_button' for='description-\"+id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t\t\t<i class='material-icons'>expand_more</i>\";\n\t\t\t\t\tnode += \"\t\t\t\t</button>\";\n\t\t\t\t\tnode += \"\t\t\t</span>\";\n\t\t\t\t\tnode += \"\t\t</div>\";\n\t\t\t\t\tnode += \"\t\t<div class='mdl-cell mdl-cell--12-col hidden' id='description-\"+id+\"'>\";\n\t\t\t\t\tnode += app.getField(app.icons.stories, \"Id\", story.id, {type: \"text\"});\n\t\t\t\t\tif ( story.attributes.meta.created ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Created\", moment(story.attributes.meta.created).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( story.attributes.meta.updated ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.date, \"Updated\", moment(story.attributes.meta.updated).format(app.date_format), {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tif ( story.attributes.meta.revision ) {\n\t\t\t\t\t\tnode += app.getField(app.icons.update, \"Revision\", story.attributes.meta.revision, {type: \"text\"});\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t</div>\"; // mdl-shadow--2dp\n\t\t\t\t\tnode +=\t\"</section>\";\n\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+story.id+\"\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += app.getField(null, \"meta.revision\", story.attributes.meta.revision, {type: \"hidden\", id: \"meta.revision\", pattern: app.patterns.meta_revision});\n\t\t\t\t\tif ( localStorage.getItem(\"flows\") !== \"null\" ) {\n\t\t\t\t\t\tlet flows = JSON.parse(localStorage.getItem(\"flows\")).map(function(flow) {\n\t\t\t\t\t\t\treturn {value: flow.name, name: flow.id};\n\t\t\t\t\t\t});\n\t\t\t\t\t\tnode += app.getField(app.icons.flows, \"Flow\", story.attributes.flow_id, {type: \"select\", id: \"FlowId\", isEdit: true, options: flows });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.getFlows();\n\t\t\t\t\t\tnode += app.getField(app.icons.flows, \"Flow (you should add some flows first)\", story.attributes.flow_id, {type: \"select\", id: \"FlowId\", isEdit: true, options: {} });\n\t\t\t\t\t}\n\t\t\t\t\tnode += app.getField(app.icons.name, \"Name\", story.attributes.name, {type: \"text\", id: \"Name\", isEdit: isEdit, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\t\t\t\tnode += app.getField(app.icons.retention, \"Retention\", story.attributes.retention!==undefined?story.attributes.retention:\"Default\", {type: \"select\", id: \"Retention\", isEdit: isEdit, options: app.allRetentions });\n\t\t\t\t\tnode += app.getField(app.icons.date, \"Start date\", story.attributes.start, {type: \"text\", id: \"Start\", isEdit: isEdit, pattern: app.patterns.date, error:\"Date must be valid\"});\n\t\t\t\t\tnode += app.getField(app.icons.date, \"End date\", story.attributes.end, {type: \"text\", id: \"End\", isEdit: isEdit, pattern: app.patterns.date, error:\"Date must be valid\"});\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\">\";\n\t\t\t\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\t\t\t\tnode += \"\t\t<a href=\\\"/stories/\"+id+\"\\\" target=\\\"_blank\\\">Read the full story</a>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"</section>\";\n\t\t\t\t\t\n\t\t\t\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+story.id+\"'>\";\n\t\t\t\t\tif( app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='list-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+story.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>List</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Stories</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone delete-button'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='delete-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+story.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>delete</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Delete</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Delete Story</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\t\t\t\tnode += \"\t\t<button id='\"+btnId[2]+\"' class='edit-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+story.id+\"'>\";\n\t\t\t\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\t\t\t\tnode += \"\t\t\t<label>Edit</label>\";\n\t\t\t\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[2]+\"'>Edit Story</label>\";\n\t\t\t\t\tnode += \"\t\t</button>\";\n\t\t\t\t\tnode += \"\t</div>\";\n\t\t\t\t\tif( !app.isLtr() ) {\n\t\t\t\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t\t\t\t}\n\t\t\t\t\tnode += \"</section>\";\n\n\t\t\t\t\t(app.containers.story).querySelector(\".page-content\").innerHTML = node;\n\t\t\t\t\tcomponentHandler.upgradeDom();\n\t\t\t\t\tapp.setExpandAction();\n\t\t\t\t\t\n\t\t\t\t\tapp.refreshButtonsSelectors();\n\t\t\t\t\tapp.buttons.listStory.addEventListener(\"click\", function(evt) { app.setSection(\"stories\"); evt.preventDefault(); }, false);\n\t\t\t\t\t// buttons.deleteRule2.addEventListener(\"click\",\n\t\t\t\t\t// function(evt) { console.log(\"SHOW MODAL AND CONFIRM!\");\n\t\t\t\t\t// }, false);\n\t\t\t\t\tapp.buttons.editStory2.addEventListener(\"click\", function(evt) { app.resources.stories.display(story.id, false, true, false); evt.preventDefault(); }, false);\n\t\t\t\t}\n\t\t\t\tapp.setSection(\"story\");\n\t\t\t}\n\t\t})\n\t\t.catch(function (error) {\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\ttoast(\"displayStory error occured...\" + error, {timeout:3000, type: \"error\"});\n\t\t\t}\n\t\t});\n\t\tapp.containers.spinner.setAttribute(\"hidden\", true);\n\t},\n\tdisplayPublic: function(id, isAdd, isEdit, isPublic) {\n\t},\n\tdisplayAdd: function(story, isAdd, isEdit, isPublic) {\n\t\thistory.pushState( {section: \"story_add\" }, window.location.hash.substr(1), \"#story_add\" );\n\t\tapp.initNewSection(\"story_add\");\n\t\tvar node = \"\";\n\n\t\tvar btnId = [app.getUniqueId(), app.getUniqueId(), app.getUniqueId()];\n\t\tnode += \"<section class='mdl-grid mdl-cell--12-col fixedActionButtons' data-id='\"+story.id+\"'>\";\n\t\tif( app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-left'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[0]+\"' class='back-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+story.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>chevron_left</i>\";\n\t\tnode += \"\t\t\t<label>List</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[0]+\"'>List all Rules</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tnode += \"\t<div class='mdl-cell--1-col-phone pull-right'>\";\n\t\tnode += \"\t\t<button id='\"+btnId[1]+\"' class='add-button mdl-cell mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect' data-id='\"+story.id+\"'>\";\n\t\tnode += \"\t\t\t<i class='material-icons'>edit</i>\";\n\t\tnode += \"\t\t\t<label>Save</label>\";\n\t\tnode += \"\t\t\t<div class='mdl-tooltip mdl-tooltip--top' for='\"+btnId[1]+\"'>Save new Rule</label>\";\n\t\tnode += \"\t\t</button>\";\n\t\tnode += \"\t</div>\";\n\t\tif( !app.isLtr() ) {\n\t\t\tnode += \"\t<div class='mdl-layout-spacer'></div>\";\n\t\t}\n\t\tnode += \"</section>\";\n\n\t\tnode += \"<section class=\\\"mdl-grid mdl-cell--12-col\\\" data-id=\\\"\"+story.id+\"\\\">\";\n\t\tnode += \"\t<div class=\\\"mdl-cell--12-col mdl-card mdl-shadow--2dp\\\">\";\n\t\tif ( localStorage.getItem(\"flows\") !== \"null\" ) {\n\t\t\tlet flows = JSON.parse(localStorage.getItem(\"flows\")).map(function(flow) {\n\t\t\t\treturn {value: flow.name, name: flow.id};\n\t\t\t});\n\t\t\tnode += app.getField(app.icons.flows, \"Flow\", story.attributes.flow_id, {type: \"select\", id: \"FlowId\", isEdit: true, options: flows });\n\t\t} else {\n\t\t\tapp.getFlows();\n\t\t\tnode += app.getField(app.icons.flows, \"Flow (you should add some flows first)\", \"\", {type: \"select\", id: \"FlowId\", isEdit: true, options: {} });\n\t\t}\n\t\tnode += app.getField(app.icons.name, \"Name\", typeof story.attributes.name!==\"undefined\"?story.attributes.name:\"\", {type: \"text\", id: \"Name\", isEdit: true, pattern: app.patterns.name, error:\"Name should be set and more than 3 chars length.\"});\n\t\tnode += app.getField(app.icons.retention, \"Retention\", story.attributes.retention!==undefined?story.attributes.retention:\"Default\", {type: \"select\", id: \"Retention\", isEdit: true, options: app.allRetentions });\n\t\tnode += app.getField(app.icons.date, \"Start date\", typeof story.attributes.start!==\"undefined\"?story.attributes.start:\"\", {type: \"text\", id: \"Start\", isEdit: true, pattern: app.patterns.date, error:\"Date must be valid\"});\n\t\tnode += app.getField(app.icons.date, \"End date\", typeof story.attributes.end!==\"undefined\"?story.attributes.end:\"\", {type: \"text\", id: \"End\", isEdit: true, pattern: app.patterns.date, error:\"Date must be valid\"});\n\t\tnode += \"\t</div>\";\n\t\tnode += \"</section>\";\n\n\t\t(app.containers.story_add).querySelector(\".page-content\").innerHTML = node;\n\t\tcomponentHandler.upgradeDom();\n\t\t\n\t\tapp.refreshButtonsSelectors();\n\t\t\n\t\tapp.buttons.addStoryBack.addEventListener(\"click\", function(evt) { app.setSection(\"stories\"); evt.preventDefault(); }, false);\n\t\tapp.buttons.addStory.addEventListener(\"click\", function(evt) { app.resources.stories.onAdd(evt); }, false);\n\n\t\tapp.setExpandAction();\n\t},\n\tdisplayItem: function(story) {\n\t\tvar type = \"stories\";\n\t\tvar name = story.attributes.name!==undefined?story.attributes.name:\"\";\n\t\tvar description = story.attributes.description!==undefined?story.attributes.description.substring(0, app.cardMaxChars):\"\";\n\t\tvar attributeType = story.attributes.type!==undefined?story.attributes.type:\"\";\n\t\tvar cssDisabled = story.attributes.active!==true?\"is-disabled\":\"\";\n\t\t\n\t\tvar element = \"\";\n\t\telement += \"<div class=\\\"mdl-grid mdl-cell\\\" data-action=\\\"view\\\" data-type=\\\"\"+type+\"\\\" data-id=\\\"\"+story.id+\"\\\">\";\n\t\telement += \"\t<div class=\\\"mdl-card mdl-shadow--2dp \"+cssDisabled+\"\\\">\";\n\t\telement += \"\t\t<div class=\\\"mdl-card__title\\\">\";\n\t\telement += \"\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.stories+\"</i>\";\n\t\telement += \"\t\t\t<h3 class=\\\"mdl-card__title-text\\\">\"+name+\"</h3>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += app.getField(null, null, description, {type: \"textarea\", isEdit: false});\n\t\telement += \"\t\t<div class=\\\"mdl-card__actions mdl-card--border\\\">\";\n\t\telement += \"\t\t\t<span class=\\\"pull-left mdl-card__date\\\">\";\n\t\telement += \"\t\t\t\t<button data-id=\\\"\"+story.id+\"\\\" class=\\\"swapDate mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">update</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t\t<span data-date=\\\"created\\\" class=\\\"visible\\\">Created on \"+moment(story.attributes.meta.created).format(app.date_format) + \"</span>\";\n\t\tif ( story.attributes.meta.updated ) {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Updated on \"+moment(story.attributes.meta.updated).format(app.date_format) + \"</span>\";\n\t\t} else {\n\t\t\telement += \"\t\t\t\t<span data-date=\\\"updated\\\" class=\\\"hidden\\\">Never been updated yet.</span>\";\n\t\t}\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<span class=\\\"pull-right mdl-card__menuaction\\\">\";\n\t\telement += \"\t\t\t\t<button id=\\\"menu_\"+story.id+\"\\\" class=\\\"mdl-button mdl-js-button mdl-button--icon mdl-js-ripple-effect\\\">\";\n\t\telement += \"\t\t\t\t\t<i class=\\\"material-icons\\\">\"+app.icons.menu+\"</i>\";\n\t\telement += \"\t\t\t\t</button>\";\n\t\telement += \"\t\t\t</span>\";\n\t\telement += \"\t\t\t<ul class=\\\"mdl-menu mdl-menu--top-right mdl-js-menu mdl-js-ripple-effect\\\" for=\\\"menu_\"+story.id+\"\\\">\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item delete-button\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons delete-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+story.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.delete+\"</i>Delete</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons edit-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+story.id+\"\\\" data-name=\\\"\"+name+\"\\\">\"+app.icons.edit+\"</i>Edit</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t\t<li class=\\\"mdl-menu__item\\\">\";\n\t\telement += \"\t\t\t\t\t<a class='mdl-navigation__link'><i class=\\\"material-icons copy-button mdl-js-button mdl-js-ripple-effect\\\" data-id=\\\"\"+story.id+\"\\\">\"+app.icons.copy+\"</i><textarea class=\\\"copytextarea\\\">\"+story.id+\"</textarea>Copy ID to clipboard</a>\";\n\t\telement += \"\t\t\t\t</li>\";\n\t\telement += \"\t\t\t</ul>\";\n\t\telement += \"\t\t</div>\";\n\t\telement += \"\t</div>\";\n\t\telement += \"</div>\";\n\n\t\treturn element;\n\t}\n};","\"use strict\";\nvar snippet = {\n\tname: \"valueDisplay\",\n\tvalue: \"Value Display\",\n\n\toptions: {\n\t\twidth: {default_value: \"6\", type: \"select\", available_values: [\"4\", \"6\", \"8\", \"12\"]},\n\t\tcolor: {defaultValue: \"#FF0000\", type: \"text\"},\n\t\tlegend: {defaultValue: \"top\", type: \"select\", availableValues: [true, false, \"top\", \"bottom\"]}\n\t},\n\tactivateOnce: function(params) {\n\t\tif ( typeof params.attributes.options !== \"undefined\" ) {\n\t\t\tthis.options.width.value = typeof params.attributes.options.width.value!==\"undefined\"?params.attributes.options.width.value:this.options.width.default_value;\n\t\t} else {\n\t\t\tthis.options.width.value = \"12\";\n\t\t}\n\t\tdocument.getElementById(params.id).parentNode.classList.add(\"mdl-cell--\" + this.options.width.value + \"-col\");\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\tvar limit = 4;//TODO : check when data is undefined and limit 4 is not yet reach. This could cause error on the bellow loop\n\t\tvar url = app.baseUrl+\"/\"+app.api_version+\"/data/\"+params.attributes.flows[0]+\"?sort=desc&limit=\"+limit;\n\t\tfetch(url, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t).then(function(fetchResponse){\n\t\t\treturn fetchResponse.json();\n\t\t}).then(function(response) {\n\t\t\tvar id = response.data[0].attributes.id;\n\t\t\tvar time = response.data[0].attributes.time/1000;\n\t\t\tvar unit = typeof response.links.unit_format!==\"undefined\"?response.links.unit_format:\"%s\";\n\t\t\tvar ttl = typeof response.links.ttl!==\"undefined\"?response.links.ttl:3600;\n\t\t\tvar value = [];\n\t\t\tfor (var i=0; i<limit-1; i++) {\n\t\t\t\tvar cur = i;\n\t\t\t\tvar prev = i+1;\n\t\t\t\tif ( response.data[cur].attributes.value === response.data[prev].attributes.value ) {\n\t\t\t\t\tvalue[prev] = \"<i class='material-icons md-48'>trending_flat</i> \" + sprintf(unit, response.data[cur].attributes.value);\n\t\t\t\t} else if( response.data[cur].attributes.value < response.data[prev].attributes.value ) {\n\t\t\t\t\tvalue[prev] = \"<i class='material-icons md-48'>trending_down</i> \" + sprintf(unit, response.data[cur].attributes.value);\n\t\t\t\t} else if( response.data[cur].attributes.value > response.data[prev].attributes.value ) {\n\t\t\t\t\tvalue[prev] = \"<i class='material-icons md-48'>trending_up</i> \" + sprintf(unit, response.data[cur].attributes.value);\n\t\t\t\t}\n\t\t\t\tif ( moment().subtract(ttl, \"seconds\") > moment(time) ) {\n\t\t\t\t\tdocument.getElementById(\"snippet-value\"+prev+\"-\"+params.id).parentNode.parentNode.parentNode.classList.remove(\"is-ontime\");\n\t\t\t\t\tdocument.getElementById(\"snippet-value\"+prev+\"-\"+params.id).parentNode.parentNode.parentNode.classList.add(\"is-outdated\");\n\t\t\t\t} else {\n\t\t\t\t\tdocument.getElementById(\"snippet-value\"+prev+\"-\"+params.id).parentNode.parentNode.parentNode.classList.remove(\"is-outdated\");\n\t\t\t\t\tdocument.getElementById(\"snippet-value\"+prev+\"-\"+params.id).parentNode.parentNode.parentNode.classList.add(\"is-ontime\");\n\t\t\t\t}\n\t\t\t\tdocument.getElementById(\"snippet-value\"+prev+\"-\"+params.id).innerHTML = value[prev];\n\t\t\t}\n\t\t\tapp.refreshFromNow(\"snippet-time-\"+params.id, time, true);\n\t\t\tsetInterval(function() {app.refreshFromNow(\"snippet-time-\"+params.id, time, true);}, 10000);\n\t\t}).catch(function (error) {\n\t\t\tif ( localStorage.getItem(\"settings.debug\") === \"true\" ) {\n\t\t\t\ttoast(\"getSnippet Inside error...\" + error, {timeout:3000, type: \"error\"});\n\t\t\t}\n\t\t});\n\t},\n\tgetHtml: function(params) {\n\t\tif (!params) {\n\t\t\tparams = {};\n\t\t}\n\t\tparams.time = moment().format(app.date_format);\n\t\tvar html = `\n\t\t<div id=\"${params.id}\" class=\"valuedisplay tile card-valuedisplay material-animate margin-top-4 material-animated mdl-shadow--2dp is-ontime\">\n\t\t\t<div class=\"contextual\">\n\t\t\t\t<div class=\"mdl-list__item-primary-content\">\n\t\t\t\t\t<i class=\"material-icons\">${params.icon}</i>\n\t\t\t\t\t<span class=\"heading\">${params.name}</span>\n\t\t\t\t\t<span class=\"heading pull-right\">\n\t\t\t\t\t\t<button data-snippet-id=\"${params.id}\" class=\"edit-snippet mdl-button mdl-js-button mdl-button--icon\">\n\t\t\t\t\t\t\t<i class=\"material-icons\">settings</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mdl-list__item-secondary-content\">\n\t\t\t\t\t<span class=\"snippet-value1\" id=\"snippet-value1-${params.id}\" style=\"color:${params.color} !important\">\n\t\t\t\t\t\t<i class=\"material-icons md-48\">trending_flat</i> ◾◾ ◾◾\n\t\t\t\t\t</span>\n\t\t\t\t\t<hr style=\"\">\n\t\t\t\t\t<span class=\"snippet-value2\" id=\"snippet-value2-${params.id}\" style=\"color:${params.color} !important\">\n\t\t\t\t\t\t<i class=\"material-icons\">trending_flat</i> ◾◾ ◾◾\n\t\t\t\t\t</span>\n\t\t\t\t\t<hr style=\"\">\n\t\t\t\t\t<span class=\"snippet-value3\" id=\"snippet-value3-${params.id}\" style=\"color:${params.color} !important\">\n\t\t\t\t\t\t<i class=\"material-icons\">trending_flat</i> ◾◾ ◾◾\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"mdl-list__item-sub-title\" id=\"snippet-time-${params.id}\">◾◾/◾◾/◾◾◾◾ ◾◾:◾◾:◾◾</div>\n\t\t</div>`;\n\t\treturn html;\n\t},\n};\nsnippet.getOptions = function(s) { return s.options; };\nsnippet.setOptions = function(opt) {\n\tvar merged = {};\n\tvar s = this;\n\tfor (var attrname in s.options) { merged[attrname] = s.options[attrname]; }\n\tfor (var attrname in opt) { merged[attrname] = opt[attrname]; }\n\tthis.options = merged;\n\treturn merged;\n};\napp.snippetTypes.push(snippet);","\"use strict\";\nvar snippet = {\n\tname: \"graphDisplay\",\n\tvalue: \"Graph DEPRECATED !!!!\",\n\n\toptions: {\n\t\twidth: {default_value: \"12\", type: \"select\", available_values: [\"4\", \"6\", \"8\", \"12\"]},\n\t},\n\tactivateOnce: function(params) {\n\t},\n\tgetHtml: function(params) {\n\t},\n};","\"use strict\";\nvar snippet = {\n\tname: \"flowgraph\",\n\tvalue: \"Graph a Flow over axis\",\n\toptions: {\n\t\twidth: {default_value: \"12\", type: \"select\", available_values: [\"4\", \"6\", \"8\", \"12\"]},\n\t\ttype: {default_value: \"line\", type: \"select\", available_values: [\"bar\", \"line\", \"radar\", \"pie\", \"polarArea\", \"bubble\", \"scatter\"]},\n\t\tcolor: {default_value: \"#FF0000\", type: \"text\"},\n\t\tlegend_font_color: {default_value: \"#FF0000\", type: \"text\"},\n\t\tborder_color: {default_value: \"#FF0000\", type: \"text\"},\n\t\tborder_width: {default_value: 4, type: \"select\", available_values: [2, 4, 6, 8, 10, 12]},\n\t\tbackground_color: {default_value: \"#FF0000\", type: \"text\"},\n\t\tpoint_background_color: {default_value: \"#FF0000\", type: \"text\"},\n\t\tlimit: {default_value: 15, type: \"integer\"},\n\t\tfill: {default_value: false, type: \"switch\", available_values: [true, false, \"origin\", \"start\", \"end\"]},\n\t\tshow_line: {default_value: false, type: \"switch\", available_values: [true, false]},\n\t\tstepped_line: {default_value: false, type: \"select\", available_values: [true, false, \"before\", \"after\"]},\n\n\t\ttitle_display: {default_value: false, type: \"switch\", available_values: [true, false]},\n\t\ttitle_font_size: {default_value: 12, type: \"integer\"},\n\t\ttitle_font_family: {default_value: \"Helvetica\", type: \"select\", available_values: [\"Helvetica\", \"Helvetica Neue\", \"Arial\", \"sans-serif\"]},\n\n\t\tlegend_display: {default_value: false, type: \"select\", available_values: [true, false]},\n\t\tlegend_position: {default_value: false, type: \"select\", available_values: [\"top\", \"bottom\", \"left\", \"right\"]},\n\t\tlegend_align: {default_value: false, type: \"select\", available_values: [\"start\", \"center\", \"end\"]},\n\t},\n\tactivateOnce: function(params) {\n\t\tlet opt = this.getOptions(this);\n\t\tif ( typeof params.attributes.options !== \"undefined\" ) {\n\t\t\tthis.options.width.value = typeof params.attributes.options.width.value!==\"undefined\"?params.attributes.options.width.value:this.options.width.default_value;\n\t\t} else {\n\t\t\tthis.options.width.value = \"12\";\n\t\t}\n\t\tdocument.getElementById(params.id).parentNode.classList.add(\"mdl-cell--\" + this.options.width.value + \"-col\");\n\n\t\tvar myHeaders = new Headers();\n\t\tmyHeaders.append(\"Authorization\", \"Bearer \"+localStorage.getItem(\"bearer\"));\n\t\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\t\tvar myInit = { method: \"GET\", headers: myHeaders };\n\t\tlet width = document.getElementById(\"snippet-graph-\"+params.id)!==null?document.getElementById(\"snippet-graph-\"+params.id).offsetWidth:100;\n\t\tlet height = 250;\n\t\tlet limit = opt.limit&&typeof opt.limit.value!==\"undefined\"?opt.limit.value:5;\n\t\tlet svgUrl = `${app.baseUrl}/${app.api_version}/exploration/line?flow_id=${params.attributes.flows[0]}&limit=${limit}&sort=desc&width=${width}&height=${height}`;\n\t\tfetch(svgUrl, myInit)\n\t\t.then(\n\t\t\tapp.fetchStatusHandler\n\t\t)\n\t\t.then(function(response) {\n\t\t\tsetInterval(function() {app.refreshFromNow(\"snippet-time-\"+params.id, parseInt(response.headers.get(\"X-latest-time\"), 10), true);}, 2000);\n\t\t\treturn response.text();\n\t\t})\n\t\t.then((svg) => {\n\t\t\tdocument.getElementById(\"snippet-graph-\"+params.id).insertAdjacentHTML(\"afterbegin\", svg);\n\t\t});\n\t},\n\tgetHtml: function(params) {\n\t\tif (!params) {\n\t\t\tparams = {};\n\t\t}\n\t\tparams.unit;\n\t\tvar html = `\n\t\t<div id=\"${params.id}\" class=\"flowgraph tile card-flowgraph material-animate margin-top-4 material-animated mdl-shadow--2dp\">\n\t\t\t<div class=\"contextual\">\n\t\t\t\t<div class=\"mdl-list__item-primary-content\">\n\t\t\t\t\t<i class=\"material-icons\">${params.icon}</i>\n\t\t\t\t\t<span class=\"heading\">${params.name} <span id=\"unit-${params.id}\">(${params.unit})</span></span>\n\t\t\t\t\t<span class=\"heading pull-right\">\n\t\t\t\t\t\t<button data-snippet-id=\"${params.id}\" class=\"edit-snippet mdl-button mdl-js-button mdl-button--icon\">\n\t\t\t\t\t\t\t<i class=\"material-icons\">settings</i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mdl-list__item-secondary-content\">\n\t\t\t\t\t<div class=\"mdl-list__item\" id=\"snippet-graph-${params.id}\" style=\"width:100%;\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"mdl-list__item-sub-title\" id=\"snippet-time-${params.id}\">◾◾/◾◾/◾◾◾◾ ◾◾:◾◾:◾◾</span>\n\t\t</div>`;\n\t\treturn html;\n\t},\n};\nsnippet.getOptions = function(s) { return s.options; };\nsnippet.setOptions = function(opt) {\n\tvar merged = {};\n\tfor (var attrname in this.options) { merged[attrname] = this.options[attrname]; }\n\tfor (var attrname in opt) { merged[attrname] = opt[attrname]; }\n\tthis.options = merged;\n\treturn merged;\n};\napp.snippetTypes.push(snippet);","\"use strict\";\nvar snippet = {\n\tname: \"simpleclock\",\n\tvalue: \"Realtime clock\",\n\t\n\toptions: {\n\t\twidth: {default_value: \"12\", type: \"select\", available_values: [\"4\", \"6\", \"8\", \"12\"]},\n\t\tcolor: {defaultValue: \"#FF0000\", type: \"text\"},\n\t\tlegend: {defaultValue: \"top\", type: \"select\", availableValues: [true, false, \"top\", \"bottom\"]}\n\t},\n\tactivateOnce: function(params) {\n\t\tif ( typeof params.attributes.options !== \"undefined\" ) {\n\t\t\tthis.options.width.value = typeof params.attributes.options.width.value!==\"undefined\"?params.attributes.options.width.value:this.options.width.default_value;\n\t\t} else {\n\t\t\tthis.options.width.value = \"12\";\n\t\t}\n\t\tdocument.getElementById(params.id).parentNode.classList.add(\"mdl-cell--\" + this.options.width.value + \"-col\");\n\t\tsetInterval(function() {app.refreshFromNow(\"snippet-clock-\"+params.id, moment(), null);}, 1000);\n\t},\n\tgetHtml: function(params) {\n\t\tif (!params) {\n\t\t\tparams = {};\n\t\t}\n\t\tparams.time = moment().format(app.date_format);\n\t\tvar html = `\n\t\t<div id=\"${params.id}\" class=\"clock tile card-simpleclock material-animate margin-top-4 material-animated mdl-shadow--2dp\">\n\t\t\t<span class='mdl-list__item mdl-list__item--two-line'>\n\t\t\t\t<span class='mdl-list__item-primary-content'>\n\t\t\t\t\t<i class='material-icons'>${params.icon}</i>\n\t\t\t\t\t<span class=\"heading\">${params.name}</span>\n\t\t\t\t\t<span class='mdl-list__item-sub-title' id='snippet-time-${params.id}'></span>\n\t\t\t\t</span>\n\t\t\t\t<span class='mdl-list__item-secondary-content'>\n\t\t\t\t\t<span class='mdl-list__item'>\n\t\t\t\t\t\t<span class='mdl-list__item-sub-title mdl-chip mdl-chip__text' id='snippet-clock-${params.id}'>◾◾/◾◾/◾◾◾◾ ◾◾:◾◾:◾◾</span>\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</div>`;\n\t\treturn html;\n\t},\n};\nsnippet.getOptions = function(s) { return s.options; };\nsnippet.setOptions = function(opt) {\n\tvar merged = {};\n\tvar s = this;\n\tfor (var attrname in s.options) { merged[attrname] = s.options[attrname]; }\n\tfor (var attrname in opt) { merged[attrname] = opt[attrname]; }\n\tthis.options = merged;\n\treturn merged;\n};\napp.snippetTypes.push(snippet);","\"use strict\";\nvar snippet = {\n\tname: \"simplerow\",\n\tvalue: \"Display one row for each value\",\n\n\toptions: {\n\t\twidth: {default_value: \"12\", type: \"select\", available_values: [\"4\", \"6\", \"8\", \"12\"]},\n\t\tcolor: {defaultValue: \"#FF0000\", type: \"text\"},\n\t\tlegend: {defaultValue: \"top\", type: \"select\", availableValues: [true, false, \"top\", \"bottom\"]}\n\t},\n\tactivateOnce: function(params) {\n\t\tif ( typeof params.attributes.options !== \"undefined\" ) {\n\t\t\tthis.options.width.value = typeof params.attributes.options.width.value!==\"undefined\"?params.attributes.options.width.value:this.options.width.default_value;\n\t\t} else {\n\t\t\tthis.options.width.value = \"12\";\n\t\t}\n\t\tdocument.getElementById(params.id).parentNode.classList.add(\"mdl-cell--\" + this.options.width.value + \"-col\");\n\t},\n\tgetHtml: function(params) {\n\t\tif (!params) {\n\t\t\tparams = {};\n\t\t}\n\t\tparams.time = moment().format(app.date_format);\n\t\tvar html = `\n\t\t<div id=\"${params.id}\" class=\"simplerow tile card-simplerow material-animate margin-top-4 material-animated mdl-shadow--2dp\">\t\t\n\t\t\t<span class=\"mdl-list__item mdl-list__item--two-line\">\n\t\t\t\t<span class=\"mdl-list__item-primary-content\">\n\t\t\t\t\t<i class=\"material-icons\">widgets</i>\n\t\t\t\t\t<span class=\"heading\">${params.name}</span>\n\t\t\t\t\t<span class=\"mdl-list__item-sub-title\" id=\"snippet-time-${params.id}\">\n\t\t\t\t\t\t◾◾/◾◾/◾◾◾◾ ◾◾:◾◾:◾◾\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"mdl-list__item-secondary-content\">\n\t\t\t\t\t<span class=\"mdl-list__item-sub-title mdl-chip mdl-chip__text\" id=\"snippet-value-${params.id}\">\n\t\t\t\t\t\t${params.value}\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"heading pull-right\">\n\t\t\t\t\t<button data-snippet-id=\"${params.id}\" class=\"edit-snippet mdl-button mdl-js-button mdl-button--icon\">\n\t\t\t\t\t\t<i class=\"material-icons\">settings</i>\n\t\t\t\t\t</button>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</div>`;\n\t\treturn html;\n\t},\n};\nsnippet.getOptions = function(s) { return s.options; };\nsnippet.setOptions = function(opt) {\n\tvar merged = {};\n\tvar s = this;\n\tfor (var attrname in s.options) { merged[attrname] = s.options[attrname]; }\n\tfor (var attrname in opt) { merged[attrname] = opt[attrname]; }\n\tthis.options = merged;\n\treturn merged;\n};\napp.snippetTypes.push(snippet);","\"use strict\";\nvar snippet = {\n\tname: \"cardChart\",\n\tvalue: \"Chart on a card\",\n\n\toptions: {\n\t\twidth: {default_value: \"12\", type: \"select\", available_values: [\"4\", \"6\", \"8\", \"12\"]},\n\t\tcolor: {defaultValue: \"#FF0000\", type: \"text\"},\n\t\tlegend: {defaultValue: \"top\", type: \"select\", availableValues: [true, false, \"top\", \"bottom\"]}\n\t},\n\tgetSample: function() {\n\t\tvar params = {\n\t\t\t\n\t\t};\n\t\treturn snippet.getHtml(params);\n\t},\n\tactivateOnce: function(params) {\n\t\tif ( typeof params.attributes.options !== \"undefined\" ) {\n\t\t\tthis.options.width.value = typeof params.attributes.options.width.value!==\"undefined\"?params.attributes.options.width.value:this.options.width.default_value;\n\t\t} else {\n\t\t\tthis.options.width.value = \"12\";\n\t\t}\n\t\tdocument.getElementById(params.id).parentNode.classList.add(\"mdl-cell--\" + this.options.width.value + \"-col\");\n\t},\n\tgetHtml: function(params) {\n\t\tif (!params) {\n\t\t\tparams = {};\n\t\t}\n\t\t//else snippet += \"\t\t<div class='card-header' style='background: linear-gradient(60deg,#66bb6a,#66bb6a);'>\";\n\t\tvar html = `\n\t\t<div id=\"${params.id}\" class=\"card card-chart material-animate margin-top-4 material-animated mdl-shadow--2dp\">\n\t\t\t<div class=\"card-header\" style=\"background: ${params.color}\">\n\t\t\t<div class=\"ct-chart\" id=\"dailySalesChart\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<i class=\"material-icons\">${params.icon}</i>\n\t\t\t\t<h4 class=\"card-title\">${params.name}</h4>\n\t\t\t\t<p class=\"card-category\">Subtitle</p>\n\t\t\t</div>\n\t\t\t<div class=\"card-footer\">\n\t\t\t\t<div class=\"stats\">\n\t\t\t\t\t<i class=\"material-icons\" id=\"snippet-time-${params.id}\">access_time</i> Last\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>`;\n\t\treturn html;\n\t},\n};\nsnippet.getOptions = function(s) { return s.options; };\nsnippet.setOptions = function(opt) {\n\tvar merged = {};\n\tvar s = this;\n\tfor (var attrname in s.options) { merged[attrname] = s.options[attrname]; }\n\tfor (var attrname in opt) { merged[attrname] = opt[attrname]; }\n\tthis.options = merged;\n\treturn merged;\n};\napp.snippetTypes.push(snippet);","\"use strict\";\nvar snippet = {\n\tname: \"sparkline\",\n\tvalue: \"Spark line\",\n\n\toptions: {\n\t\twidth: {default_value: \"12\", type: \"select\", available_values: [\"4\", \"6\", \"8\", \"12\"]},\n\t\tcolor: {defaultValue: \"#FF0000\", type: \"text\"},\n\t\tlegend: {defaultValue: \"top\", type: \"select\", availableValues: [true, false, \"top\", \"bottom\"]}\n\t},\n\tactivateOnce: function(params) {\n\t\tif ( typeof params.attributes.options !== \"undefined\" ) {\n\t\t\tthis.options.width.value = typeof params.attributes.options.width.value!==\"undefined\"?params.attributes.options.width.value:this.options.width.default_value;\n\t\t} else {\n\t\t\tthis.options.width.value = \"12\";\n\t\t}\n\t\tdocument.getElementById(params.id).parentNode.classList.add(\"mdl-cell--\" + this.options.width.value + \"-col\");\n\t},\n\tgetHtml: function(params) {\n\t\tif (!params) {\n\t\t\tparams = {};\n\t\t}\n\t\tvar html = `\n\t\t<div id=\"${params.id}\" class=\"sparkline tile card-sparkline material-animate margin-top-4 material-animated mdl-shadow--2dp\">\n\t\t\t<span class=\"mdl-list__item mdl-list__item--two-line\">\n\t\t\t\t<span class=\"mdl-list__item-primary-content\">\n\t\t\t\t\t<i class=\"material-icons\">trending_up</i>\n\t\t\t\t\t<span class=\"heading\">${params.title}</span>\n\t\t\t\t\t<span class=\"mdl-list__item-sub-title\" id=\"snippet-time-${params.id}\">◾◾/◾◾/◾◾◾◾ ◾◾:◾◾:◾◾</span>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"mdl-list__item-secondary-content\">\n\t\t\t\t\t<span class=\"mdl-list__item-sub-title mdl-chip mdl-chip__text\" id=\"snippet-value-${params.id}\"></span>\n\t\t\t\t</span>\n\t\t\t\t<span class=\"mdl-list__item\" id=\"snippet-sparkline-\" style=\"width:100%; height:200px;\">\n\t\t\t\t\t<span class=\"mdl-list__item-sub-title mdl-chip mdl-chip__text\">sparkline</span>\n\t\t\t\t</span>\n\t\t\t</span>\n\t\t</div>`;\n\t\treturn html;\n\t},\n};\nsnippet.getOptions = function(s) { return s.options; };\nsnippet.setOptions = function(opt) {\n\tvar merged = {};\n\tvar s = this;\n\tfor (var attrname in s.options) { merged[attrname] = s.options[attrname]; }\n\tfor (var attrname in opt) { merged[attrname] = opt[attrname]; }\n\tthis.options = merged;\n\treturn merged;\n};\napp.snippetTypes.push(snippet);"]}